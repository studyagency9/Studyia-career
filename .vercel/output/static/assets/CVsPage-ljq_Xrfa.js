import{j as e,m as h,u as C,v as oe,A as le,F as R,w as ie,G as ne,x as ce,D as de,y as me}from"./ui-vendor-DmnzVvUC.js";import{r as n,L as y}from"./react-vendor-CGj_E3sL.js";import{d as P,e as pe,f as ue,g as ge,h as m,i as _,b as xe,c as he,a as fe,B as f}from"./index-BDuQWeaB.js";import{I as ve}from"./input-dlkvddvv.js";import{C as S}from"./card-BPdJTGDW.js";import{c as T,R as ye,P as Ne,W as je,C as be,T as De,D as Ae,a as E,O as we,b as Ce,g as Re}from"./pdfGenerator-NXlQSvyt.js";import{P as Se}from"./PartnerLayout-DOLGBMAk.js";import"./index-BJgTB7-n.js";import"./tslib.es6-CiBE_y40.js";import"./___vite-browser-external_commonjs-proxy-BrL237SC.js";import"./LanguageSwitcher-Ck6XEHXF.js";var O="AlertDialog",[Pe]=pe(O,[T]),c=T(),$=a=>{const{__scopeAlertDialog:t,...r}=a,o=c(t);return e.jsx(ye,{...o,...r,modal:!0})};$.displayName=O;var _e="AlertDialogTrigger",Te=n.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...o}=a,l=c(r);return e.jsx(Ce,{...l,...o,ref:t})});Te.displayName=_e;var Ee="AlertDialogPortal",F=a=>{const{__scopeAlertDialog:t,...r}=a,o=c(t);return e.jsx(Ne,{...o,...r})};F.displayName=Ee;var Oe="AlertDialogOverlay",I=n.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...o}=a,l=c(r);return e.jsx(we,{...l,...o,ref:t})});I.displayName=Oe;var g="AlertDialogContent",[$e,Fe]=Pe(g),Ie=ge("AlertDialogContent"),V=n.forwardRef((a,t)=>{const{__scopeAlertDialog:r,children:o,...l}=a,p=c(r),d=n.useRef(null),s=P(t,d),x=n.useRef(null);return e.jsx(je,{contentName:g,titleName:L,docsSlug:"alert-dialog",children:e.jsx($e,{scope:r,cancelRef:x,children:e.jsxs(be,{role:"alertdialog",...p,...l,ref:s,onOpenAutoFocus:ue(l.onOpenAutoFocus,u=>{var v;u.preventDefault(),(v=x.current)==null||v.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[e.jsx(Ie,{children:o}),e.jsx(Le,{contentRef:d})]})})})});V.displayName=g;var L="AlertDialogTitle",M=n.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...o}=a,l=c(r);return e.jsx(De,{...l,...o,ref:t})});M.displayName=L;var z="AlertDialogDescription",k=n.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...o}=a,l=c(r);return e.jsx(Ae,{...l,...o,ref:t})});k.displayName=z;var Ve="AlertDialogAction",G=n.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...o}=a,l=c(r);return e.jsx(E,{...l,...o,ref:t})});G.displayName=Ve;var B="AlertDialogCancel",H=n.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...o}=a,{cancelRef:l}=Fe(B,r),p=c(r),d=P(t,l);return e.jsx(E,{...p,...o,ref:d})});H.displayName=B;var Le=({contentRef:a})=>{const t=`\`${g}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${g}\` by passing a \`${z}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${g}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{var o;document.getElementById((o=a.current)==null?void 0:o.getAttribute("aria-describedby"))||console.warn(t)},[t,a]),null},Me=$,ze=F,W=I,Y=V,q=G,Q=H,J=M,U=k;const ke=Me,Ge=ze,K=n.forwardRef(({className:a,...t},r)=>e.jsx(W,{className:m("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t,ref:r}));K.displayName=W.displayName;const X=n.forwardRef(({className:a,...t},r)=>e.jsxs(Ge,{children:[e.jsx(K,{}),e.jsx(Y,{ref:r,className:m("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...t})]}));X.displayName=Y.displayName;const Z=({className:a,...t})=>e.jsx("div",{className:m("flex flex-col space-y-2 text-center sm:text-left",a),...t});Z.displayName="AlertDialogHeader";const ee=({className:a,...t})=>e.jsx("div",{className:m("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t});ee.displayName="AlertDialogFooter";const ae=n.forwardRef(({className:a,...t},r)=>e.jsx(J,{ref:r,className:m("text-lg font-semibold",a),...t}));ae.displayName=J.displayName;const te=n.forwardRef(({className:a,...t},r)=>e.jsx(U,{ref:r,className:m("text-sm text-muted-foreground",a),...t}));te.displayName=U.displayName;const re=n.forwardRef(({className:a,...t},r)=>e.jsx(q,{ref:r,className:m(_(),a),...t}));re.displayName=q.displayName;const se=n.forwardRef(({className:a,...t},r)=>e.jsx(Q,{ref:r,className:m(_({variant:"outline"}),"mt-2 sm:mt-0",a),...t}));se.displayName=Q.displayName;const ea=()=>{const{savedCVs:a,deleteCV:t}=xe(),[r,o]=n.useState(""),[l,p]=n.useState(null),{toast:d}=he(),{t:s}=fe(),x=a.filter(i=>i.name.toLowerCase().includes(r.toLowerCase())),u=i=>{t(i),p(null),d({title:s("home.partner.cvs.cvDeleted"),description:s("home.partner.cvs.cvDeletedDesc")})},v=async i=>{try{await Re(i.data),d({title:s("home.partner.cvs.downloadSuccess"),description:s("home.partner.cvs.downloadSuccessDesc")})}catch{d({title:s("home.partner.cvs.error"),description:s("home.partner.cvs.downloadError"),variant:"destructive"})}};return e.jsx(Se,{children:e.jsxs("div",{className:"p-8 lg:p-12",children:[e.jsx(h.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:s("home.partner.cvs.title")}),e.jsx("p",{className:"text-muted-foreground",children:s("home.partner.cvs.subtitle").replace("{{count}}",a.length.toString())})]}),e.jsx(y,{to:"/partner/create",children:e.jsxs(f,{size:"lg",className:"bg-gradient-to-r from-primary to-blue-bright hover:shadow-lg hover:shadow-primary/50 transition-all",children:[e.jsx(C,{className:"w-5 h-5 mr-2"}),s("home.partner.cvs.newCV")]})})]})}),e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-8",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(oe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(ve,{type:"text",placeholder:s("home.partner.cvs.searchPlaceholder"),value:r,onChange:i=>o(i.target.value),className:"pl-10 h-12 bg-background border-border focus:border-primary transition-colors"})]})}),x.length>0?e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.jsx(le,{children:x.map((i,N)=>{var j,b,D,A,w;return e.jsx(h.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3,delay:N*.05},children:e.jsxs(S,{className:"p-6 bg-card border-border hover:border-primary/50 hover:shadow-xl hover:shadow-primary/10 transition-all duration-300 group",children:[e.jsx("div",{className:"aspect-[3/4] bg-gradient-to-br from-muted/50 to-muted rounded-xl mb-4 flex items-center justify-center border-2 border-border group-hover:border-primary/30 transition-colors overflow-hidden",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx(R,{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-3"}),e.jsxs("p",{className:"text-sm font-medium text-foreground",children:[(b=(j=i.data)==null?void 0:j.personalInfo)==null?void 0:b.firstName," ",(A=(D=i.data)==null?void 0:D.personalInfo)==null?void 0:A.lastName]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:((w=i.data)==null?void 0:w.targetJob)||s("home.partner.cvs.untitled")})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground text-lg mb-1 truncate group-hover:text-primary transition-colors",children:i.name}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ie,{className:"w-3 h-3"}),new Date(i.updatedAt).toLocaleDateString("fr-FR")]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ne,{className:"w-3 h-3"}),i.language.toUpperCase()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[e.jsx(y,{to:`/partner/builder/${i.id}`,className:"flex-1",children:e.jsxs(f,{variant:"outline",size:"sm",className:"w-full group-hover:border-primary group-hover:text-primary transition-colors",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),s("home.partner.cvs.edit")]})}),e.jsx(f,{variant:"outline",size:"sm",onClick:()=>v(i),className:"group-hover:border-primary group-hover:text-primary transition-colors",children:e.jsx(de,{className:"w-4 h-4"})}),e.jsx(f,{variant:"outline",size:"sm",onClick:()=>p(i.id),className:"text-destructive hover:bg-destructive/10 hover:border-destructive transition-colors",children:e.jsx(me,{className:"w-4 h-4"})})]})]})]})},i.id)})})}):e.jsx(h.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:e.jsxs(S,{className:"p-12 text-center bg-card border-2 border-dashed border-border",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-6",children:e.jsx(R,{className:"w-10 h-10 text-primary"})}),e.jsx("h3",{className:"text-2xl font-bold text-foreground mb-3",children:s(r?"home.partner.cvs.noCVFound":"home.partner.cvs.noCVYet")}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:s(r?"home.partner.cvs.tryAnotherSearch":"home.partner.cvs.createFirstCV")}),!r&&e.jsx(y,{to:"/partner/create",children:e.jsxs(f,{size:"lg",className:"bg-gradient-to-r from-primary to-blue-bright hover:shadow-lg hover:shadow-primary/50 transition-all",children:[e.jsx(C,{className:"w-5 h-5 mr-2"}),s("home.partner.cvs.createFirstCVButton")]})})]})}),e.jsx(ke,{open:!!l,onOpenChange:()=>p(null),children:e.jsxs(X,{children:[e.jsxs(Z,{children:[e.jsx(ae,{children:s("home.partner.cvs.deleteTitle")}),e.jsx(te,{children:s("home.partner.cvs.deleteDescription")})]}),e.jsxs(ee,{children:[e.jsx(se,{children:s("home.partner.cvs.cancel")}),e.jsx(re,{onClick:()=>l&&u(l),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:s("home.partner.cvs.delete")})]})]})})]})})};export{ea as default};
