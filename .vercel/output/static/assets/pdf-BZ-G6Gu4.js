var qe=Object.defineProperty;var _e=f=>{throw TypeError(f)};var We=(f,i,P)=>i in f?qe(f,i,{enumerable:!0,configurable:!0,writable:!0,value:P}):f[i]=P;var Et=(f,i,P)=>We(f,typeof i!="symbol"?i+"":i,P),Qt=(f,i,P)=>i.has(f)||_e("Cannot "+P);var _=(f,i,P)=>(Qt(f,i,"read from private field"),P?P.call(f):i.get(f)),pt=(f,i,P)=>i.has(f)?_e("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(f):i.set(f,P),vt=(f,i,P,c)=>(Qt(f,i,"write to private field"),c?c.call(f,P):i.set(f,P),P),dt=(f,i,P)=>(Qt(f,i,"access private method"),P);var Zt=(f,i,P,c)=>({set _(S){vt(f,i,S,P)},get _(){return _(f,i,c)}});import{g as getDefaultExportFromCjs,r as reactExports,R as React}from"./react-vendor-CGj_E3sL.js";import{_ as __awaiter}from"./tslib.es6-CiBE_y40.js";import{c as commonjsRequire,r as require$$5}from"./___vite-browser-external_commonjs-proxy-BrL237SC.js";var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function f(c,S,H,B,Z,z){if(z!==ReactPropTypesSecret){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}f.isRequired=f;function i(){return f}var P={array:f,bigint:f,bool:f,func:f,number:f,object:f,string:f,symbol:f,any:f,arrayOf:i,element:f,elementType:f,instanceOf:i,node:f,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return P.PropTypes=P,P};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports),COMMON_MIME_TYPES=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function toFileWithPath(f,i,P){const c=withMimeType(f),{webkitRelativePath:S}=f,H=typeof i=="string"?i:typeof S=="string"&&S.length>0?S:`./${f.name}`;return typeof c.path!="string"&&setObjProp(c,"path",H),setObjProp(c,"relativePath",H),c}function withMimeType(f){const{name:i}=f;if(i&&i.lastIndexOf(".")!==-1&&!f.type){const c=i.split(".").pop().toLowerCase(),S=COMMON_MIME_TYPES.get(c);S&&Object.defineProperty(f,"type",{value:S,writable:!1,configurable:!1,enumerable:!0})}return f}function setObjProp(f,i,P){Object.defineProperty(f,i,{value:P,writable:!1,configurable:!1,enumerable:!0})}const FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(f){return __awaiter(this,void 0,void 0,function*(){return isObject(f)&&isDataTransfer(f.dataTransfer)?getDataTransferFiles(f.dataTransfer,f.type):isChangeEvt(f)?getInputFiles(f):Array.isArray(f)&&f.every(i=>"getFile"in i&&typeof i.getFile=="function")?getFsHandleFiles(f):[]})}function isDataTransfer(f){return isObject(f)}function isChangeEvt(f){return isObject(f)&&isObject(f.target)}function isObject(f){return typeof f=="object"&&f!==null}function getInputFiles(f){return fromList(f.target.files).map(i=>toFileWithPath(i))}function getFsHandleFiles(f){return __awaiter(this,void 0,void 0,function*(){return(yield Promise.all(f.map(P=>P.getFile()))).map(P=>toFileWithPath(P))})}function getDataTransferFiles(f,i){return __awaiter(this,void 0,void 0,function*(){if(f.items){const P=fromList(f.items).filter(S=>S.kind==="file");if(i!=="drop")return P;const c=yield Promise.all(P.map(toFilePromises));return noIgnoredFiles(flatten(c))}return noIgnoredFiles(fromList(f.files).map(P=>toFileWithPath(P)))})}function noIgnoredFiles(f){return f.filter(i=>FILES_TO_IGNORE.indexOf(i.name)===-1)}function fromList(f){if(f===null)return[];const i=[];for(let P=0;P<f.length;P++){const c=f[P];i.push(c)}return i}function toFilePromises(f){if(typeof f.webkitGetAsEntry!="function")return fromDataTransferItem(f);const i=f.webkitGetAsEntry();return i&&i.isDirectory?fromDirEntry(i):fromDataTransferItem(f,i)}function flatten(f){return f.reduce((i,P)=>[...i,...Array.isArray(P)?flatten(P):[P]],[])}function fromDataTransferItem(f,i){return __awaiter(this,void 0,void 0,function*(){var P;if(globalThis.isSecureContext&&typeof f.getAsFileSystemHandle=="function"){const H=yield f.getAsFileSystemHandle();if(H===null)throw new Error(`${f} is not a File`);if(H!==void 0){const B=yield H.getFile();return B.handle=H,toFileWithPath(B)}}const c=f.getAsFile();if(!c)throw new Error(`${f} is not a File`);return toFileWithPath(c,(P=i==null?void 0:i.fullPath)!==null&&P!==void 0?P:void 0)})}function fromEntry(f){return __awaiter(this,void 0,void 0,function*(){return f.isDirectory?fromDirEntry(f):fromFileEntry(f)})}function fromDirEntry(f){const i=f.createReader();return new Promise((P,c)=>{const S=[];function H(){i.readEntries(B=>__awaiter(this,void 0,void 0,function*(){if(B.length){const Z=Promise.all(B.map(fromEntry));S.push(Z),H()}else try{const Z=yield Promise.all(S);P(Z)}catch(Z){c(Z)}}),B=>{c(B)})}H()})}function fromFileEntry(f){return __awaiter(this,void 0,void 0,function*(){return new Promise((i,P)=>{f.file(c=>{const S=toFileWithPath(c,f.fullPath);i(S)},c=>{P(c)})})})}var _default=function(f,i){if(f&&i){var P=Array.isArray(i)?i:i.split(",");if(P.length===0)return!0;var c=f.name||"",S=(f.type||"").toLowerCase(),H=S.replace(/\/.*$/,"");return P.some(function(B){var Z=B.trim().toLowerCase();return Z.charAt(0)==="."?c.toLowerCase().endsWith(Z):Z.endsWith("/*")?H===Z.replace(/\/.*$/,""):S===Z})}return!0};function _toConsumableArray$1(f){return _arrayWithoutHoles$1(f)||_iterableToArray$1(f)||_unsupportedIterableToArray$1(f)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}function _arrayWithoutHoles$1(f){if(Array.isArray(f))return _arrayLikeToArray$1(f)}function ownKeys$1(f,i){var P=Object.keys(f);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(f);i&&(c=c.filter(function(S){return Object.getOwnPropertyDescriptor(f,S).enumerable})),P.push.apply(P,c)}return P}function _objectSpread$1(f){for(var i=1;i<arguments.length;i++){var P=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$1(Object(P),!0).forEach(function(c){_defineProperty$1(f,c,P[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(P)):ownKeys$1(Object(P)).forEach(function(c){Object.defineProperty(f,c,Object.getOwnPropertyDescriptor(P,c))})}return f}function _defineProperty$1(f,i,P){return i in f?Object.defineProperty(f,i,{value:P,enumerable:!0,configurable:!0,writable:!0}):f[i]=P,f}function _slicedToArray$1(f,i){return _arrayWithHoles$1(f)||_iterableToArrayLimit$1(f,i)||_unsupportedIterableToArray$1(f,i)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(f,i){if(f){if(typeof f=="string")return _arrayLikeToArray$1(f,i);var P=Object.prototype.toString.call(f).slice(8,-1);if(P==="Object"&&f.constructor&&(P=f.constructor.name),P==="Map"||P==="Set")return Array.from(f);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return _arrayLikeToArray$1(f,i)}}function _arrayLikeToArray$1(f,i){(i==null||i>f.length)&&(i=f.length);for(var P=0,c=new Array(i);P<i;P++)c[P]=f[P];return c}function _iterableToArrayLimit$1(f,i){var P=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(P!=null){var c=[],S=!0,H=!1,B,Z;try{for(P=P.call(f);!(S=(B=P.next()).done)&&(c.push(B.value),!(i&&c.length===i));S=!0);}catch(z){H=!0,Z=z}finally{try{!S&&P.return!=null&&P.return()}finally{if(H)throw Z}}return c}}function _arrayWithHoles$1(f){if(Array.isArray(f))return f}var accepts=typeof _default=="function"?_default:_default.default,FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=i.split(","),c=P.length>1?"one of ".concat(P.join(", ")):P[0];return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(c)}},getTooLargeRejectionErr=function(i){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(i," ").concat(i===1?"byte":"bytes")}},getTooSmallRejectionErr=function(i){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(i," ").concat(i===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(f,i){var P=f.type==="application/x-moz-file"||accepts(f,i);return[P,P?null:getInvalidTypeRejectionErr(i)]}function fileMatchSize(f,i,P){if(isDefined(f.size))if(isDefined(i)&&isDefined(P)){if(f.size>P)return[!1,getTooLargeRejectionErr(P)];if(f.size<i)return[!1,getTooSmallRejectionErr(i)]}else{if(isDefined(i)&&f.size<i)return[!1,getTooSmallRejectionErr(i)];if(isDefined(P)&&f.size>P)return[!1,getTooLargeRejectionErr(P)]}return[!0,null]}function isDefined(f){return f!=null}function allFilesAccepted(f){var i=f.files,P=f.accept,c=f.minSize,S=f.maxSize,H=f.multiple,B=f.maxFiles,Z=f.validator;return!H&&i.length>1||H&&B>=1&&i.length>B?!1:i.every(function(z){var E=fileAccepted(z,P),T=_slicedToArray$1(E,1),j=T[0],k=fileMatchSize(z,c,S),y=_slicedToArray$1(k,1),b=y[0],m=Z?Z(z):null;return j&&b&&!m})}function isPropagationStopped(f){return typeof f.isPropagationStopped=="function"?f.isPropagationStopped():typeof f.cancelBubble<"u"?f.cancelBubble:!1}function isEvtWithFiles(f){return f.dataTransfer?Array.prototype.some.call(f.dataTransfer.types,function(i){return i==="Files"||i==="application/x-moz-file"}):!!f.target&&!!f.target.files}function onDocumentDragOver(f){f.preventDefault()}function isIe(f){return f.indexOf("MSIE")!==-1||f.indexOf("Trident/")!==-1}function isEdge(f){return f.indexOf("Edge/")!==-1}function isIeOrEdge(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(f)||isEdge(f)}function composeEventHandlers(){for(var f=arguments.length,i=new Array(f),P=0;P<f;P++)i[P]=arguments[P];return function(c){for(var S=arguments.length,H=new Array(S>1?S-1:0),B=1;B<S;B++)H[B-1]=arguments[B];return i.some(function(Z){return!isPropagationStopped(c)&&Z&&Z.apply(void 0,[c].concat(H)),isPropagationStopped(c)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(f){if(isDefined(f)){var i=Object.entries(f).filter(function(P){var c=_slicedToArray$1(P,2),S=c[0],H=c[1],B=!0;return isMIMEType(S)||(console.warn('Skipped "'.concat(S,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),B=!1),(!Array.isArray(H)||!H.every(isExt))&&(console.warn('Skipped "'.concat(S,'" because an invalid file extension was provided.')),B=!1),B}).reduce(function(P,c){var S=_slicedToArray$1(c,2),H=S[0],B=S[1];return _objectSpread$1(_objectSpread$1({},P),{},_defineProperty$1({},H,B))},{});return[{description:"Files",accept:i}]}return f}function acceptPropAsAcceptAttr(f){if(isDefined(f))return Object.entries(f).reduce(function(i,P){var c=_slicedToArray$1(P,2),S=c[0],H=c[1];return[].concat(_toConsumableArray$1(i),[S],_toConsumableArray$1(H))},[]).filter(function(i){return isMIMEType(i)||isExt(i)}).join(",")}function isAbort(f){return f instanceof DOMException&&(f.name==="AbortError"||f.code===f.ABORT_ERR)}function isSecurityError(f){return f instanceof DOMException&&(f.name==="SecurityError"||f.code===f.SECURITY_ERR)}function isMIMEType(f){return f==="audio/*"||f==="video/*"||f==="image/*"||f==="text/*"||f==="application/*"||/\w+\/[-+.\w]+/g.test(f)}function isExt(f){return/^.*\.[\w]+$/.test(f)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(f){return _arrayWithoutHoles(f)||_iterableToArray(f)||_unsupportedIterableToArray(f)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}function _arrayWithoutHoles(f){if(Array.isArray(f))return _arrayLikeToArray(f)}function _slicedToArray(f,i){return _arrayWithHoles(f)||_iterableToArrayLimit(f,i)||_unsupportedIterableToArray(f,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(f,i){if(f){if(typeof f=="string")return _arrayLikeToArray(f,i);var P=Object.prototype.toString.call(f).slice(8,-1);if(P==="Object"&&f.constructor&&(P=f.constructor.name),P==="Map"||P==="Set")return Array.from(f);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return _arrayLikeToArray(f,i)}}function _arrayLikeToArray(f,i){(i==null||i>f.length)&&(i=f.length);for(var P=0,c=new Array(i);P<i;P++)c[P]=f[P];return c}function _iterableToArrayLimit(f,i){var P=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(P!=null){var c=[],S=!0,H=!1,B,Z;try{for(P=P.call(f);!(S=(B=P.next()).done)&&(c.push(B.value),!(i&&c.length===i));S=!0);}catch(z){H=!0,Z=z}finally{try{!S&&P.return!=null&&P.return()}finally{if(H)throw Z}}return c}}function _arrayWithHoles(f){if(Array.isArray(f))return f}function ownKeys(f,i){var P=Object.keys(f);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(f);i&&(c=c.filter(function(S){return Object.getOwnPropertyDescriptor(f,S).enumerable})),P.push.apply(P,c)}return P}function _objectSpread(f){for(var i=1;i<arguments.length;i++){var P=arguments[i]!=null?arguments[i]:{};i%2?ownKeys(Object(P),!0).forEach(function(c){_defineProperty(f,c,P[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(P)):ownKeys(Object(P)).forEach(function(c){Object.defineProperty(f,c,Object.getOwnPropertyDescriptor(P,c))})}return f}function _defineProperty(f,i,P){return i in f?Object.defineProperty(f,i,{value:P,enumerable:!0,configurable:!0,writable:!0}):f[i]=P,f}function _objectWithoutProperties(f,i){if(f==null)return{};var P=_objectWithoutPropertiesLoose(f,i),c,S;if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(f);for(S=0;S<H.length;S++)c=H[S],!(i.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(f,c)&&(P[c]=f[c])}return P}function _objectWithoutPropertiesLoose(f,i){if(f==null)return{};var P={},c=Object.keys(f),S,H;for(H=0;H<c.length;H++)S=c[H],!(i.indexOf(S)>=0)&&(P[S]=f[S]);return P}var Dropzone=reactExports.forwardRef(function(f,i){var P=f.children,c=_objectWithoutProperties(f,_excluded),S=useDropzone(c),H=S.open,B=_objectWithoutProperties(S,_excluded2);return reactExports.useImperativeHandle(i,function(){return{open:H}},[H]),React.createElement(reactExports.Fragment,null,P(_objectSpread(_objectSpread({},B),{},{open:H})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=_objectSpread(_objectSpread({},defaultProps),f),P=i.accept,c=i.disabled,S=i.getFilesFromEvent,H=i.maxSize,B=i.minSize,Z=i.multiple,z=i.maxFiles,E=i.onDragEnter,T=i.onDragLeave,j=i.onDragOver,k=i.onDrop,y=i.onDropAccepted,b=i.onDropRejected,m=i.onFileDialogCancel,r=i.onFileDialogOpen,h=i.useFsAccessApi,g=i.autoFocus,s=i.preventDropOnDocument,a=i.noClick,t=i.noKeyboard,n=i.noDrag,v=i.noDragEventsBubbling,e=i.onError,x=i.validator,L=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(P)},[P]),G=reactExports.useMemo(function(){return pickerOptionsFromAccept(P)},[P]),at=reactExports.useMemo(function(){return typeof r=="function"?r:noop},[r]),mt=reactExports.useMemo(function(){return typeof m=="function"?m:noop},[m]),rt=reactExports.useRef(null),lt=reactExports.useRef(null),tt=reactExports.useReducer(reducer,initialState),X=_slicedToArray(tt,2),Y=X[0],st=X[1],ht=Y.isFocused,I=Y.isFileDialogActive,u=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&h&&canUseFileSystemAccessAPI()),l=function(){!u.current&&I&&setTimeout(function(){if(lt.current){var it=lt.current.files;it.length||(st({type:"closeDialog"}),mt())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",l,!1),function(){window.removeEventListener("focus",l,!1)}},[lt,I,mt,u]);var A=reactExports.useRef([]),D=function(it){rt.current&&rt.current.contains(it.target)||(it.preventDefault(),A.current=[])};reactExports.useEffect(function(){return s&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",D,!1)),function(){s&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",D))}},[rt,s]),reactExports.useEffect(function(){return!c&&g&&rt.current&&rt.current.focus(),function(){}},[rt,g,c]);var O=reactExports.useCallback(function(V){e?e(V):console.error(V)},[e]),R=reactExports.useCallback(function(V){V.preventDefault(),V.persist(),nt(V),A.current=[].concat(_toConsumableArray(A.current),[V.target]),isEvtWithFiles(V)&&Promise.resolve(S(V)).then(function(it){if(!(isPropagationStopped(V)&&!v)){var ut=it.length,ft=ut>0&&allFilesAccepted({files:it,accept:L,minSize:B,maxSize:H,multiple:Z,maxFiles:z,validator:x}),bt=ut>0&&!ft;st({isDragAccept:ft,isDragReject:bt,isDragActive:!0,type:"setDraggedFiles"}),E&&E(V)}}).catch(function(it){return O(it)})},[S,E,O,v,L,B,H,Z,z,x]),K=reactExports.useCallback(function(V){V.preventDefault(),V.persist(),nt(V);var it=isEvtWithFiles(V);if(it&&V.dataTransfer)try{V.dataTransfer.dropEffect="copy"}catch{}return it&&j&&j(V),!1},[j,v]),et=reactExports.useCallback(function(V){V.preventDefault(),V.persist(),nt(V);var it=A.current.filter(function(ft){return rt.current&&rt.current.contains(ft)}),ut=it.indexOf(V.target);ut!==-1&&it.splice(ut,1),A.current=it,!(it.length>0)&&(st({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(V)&&T&&T(V))},[rt,T,v]),ot=reactExports.useCallback(function(V,it){var ut=[],ft=[];V.forEach(function(bt){var yt=fileAccepted(bt,L),xt=_slicedToArray(yt,2),ct=xt[0],J=xt[1],$=fileMatchSize(bt,B,H),gt=_slicedToArray($,2),_t=gt[0],At=gt[1],St=x?x(bt):null;if(ct&&_t&&!St)ut.push(bt);else{var kt=[J,At];St&&(kt=kt.concat(St)),ft.push({file:bt,errors:kt.filter(function(Tt){return Tt})})}}),(!Z&&ut.length>1||Z&&z>=1&&ut.length>z)&&(ut.forEach(function(bt){ft.push({file:bt,errors:[TOO_MANY_FILES_REJECTION]})}),ut.splice(0)),st({acceptedFiles:ut,fileRejections:ft,isDragReject:ft.length>0,type:"setFiles"}),k&&k(ut,ft,it),ft.length>0&&b&&b(ft,it),ut.length>0&&y&&y(ut,it)},[st,Z,L,B,H,z,k,y,b,x]),Q=reactExports.useCallback(function(V){V.preventDefault(),V.persist(),nt(V),A.current=[],isEvtWithFiles(V)&&Promise.resolve(S(V)).then(function(it){isPropagationStopped(V)&&!v||ot(it,V)}).catch(function(it){return O(it)}),st({type:"reset"})},[S,ot,O,v]),o=reactExports.useCallback(function(){if(u.current){st({type:"openDialog"}),at();var V={multiple:Z,types:G};window.showOpenFilePicker(V).then(function(it){return S(it)}).then(function(it){ot(it,null),st({type:"closeDialog"})}).catch(function(it){isAbort(it)?(mt(it),st({type:"closeDialog"})):isSecurityError(it)?(u.current=!1,lt.current?(lt.current.value=null,lt.current.click()):O(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):O(it)});return}lt.current&&(st({type:"openDialog"}),at(),lt.current.value=null,lt.current.click())},[st,at,mt,h,ot,O,G,Z]),d=reactExports.useCallback(function(V){!rt.current||!rt.current.isEqualNode(V.target)||(V.key===" "||V.key==="Enter"||V.keyCode===32||V.keyCode===13)&&(V.preventDefault(),o())},[rt,o]),w=reactExports.useCallback(function(){st({type:"focus"})},[]),C=reactExports.useCallback(function(){st({type:"blur"})},[]),p=reactExports.useCallback(function(){a||(isIeOrEdge()?setTimeout(o,0):o())},[a,o]),M=function(it){return c?null:it},U=function(it){return t?null:M(it)},q=function(it){return n?null:M(it)},nt=function(it){v&&it.stopPropagation()},F=reactExports.useMemo(function(){return function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},it=V.refKey,ut=it===void 0?"ref":it,ft=V.role,bt=V.onKeyDown,yt=V.onFocus,xt=V.onBlur,ct=V.onClick,J=V.onDragEnter,$=V.onDragOver,gt=V.onDragLeave,_t=V.onDrop,At=_objectWithoutProperties(V,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:U(composeEventHandlers(bt,d)),onFocus:U(composeEventHandlers(yt,w)),onBlur:U(composeEventHandlers(xt,C)),onClick:M(composeEventHandlers(ct,p)),onDragEnter:q(composeEventHandlers(J,R)),onDragOver:q(composeEventHandlers($,K)),onDragLeave:q(composeEventHandlers(gt,et)),onDrop:q(composeEventHandlers(_t,Q)),role:typeof ft=="string"&&ft!==""?ft:"presentation"},ut,rt),!c&&!t?{tabIndex:0}:{}),At)}},[rt,d,w,C,p,R,K,et,Q,t,n,c]),W=reactExports.useCallback(function(V){V.stopPropagation()},[]),N=reactExports.useMemo(function(){return function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},it=V.refKey,ut=it===void 0?"ref":it,ft=V.onChange,bt=V.onClick,yt=_objectWithoutProperties(V,_excluded4),xt=_defineProperty({accept:L,multiple:Z,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:M(composeEventHandlers(ft,Q)),onClick:M(composeEventHandlers(bt,W)),tabIndex:-1},ut,lt);return _objectSpread(_objectSpread({},xt),yt)}},[lt,P,Z,Q,c]);return _objectSpread(_objectSpread({},Y),{},{isFocused:ht&&!c,getRootProps:F,getInputProps:N,rootRef:rt,inputRef:lt,open:M(o)})}function reducer(f,i){switch(i.type){case"focus":return _objectSpread(_objectSpread({},f),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},f),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},f),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},f),{},{isDragActive:i.isDragActive,isDragAccept:i.isDragAccept,isDragReject:i.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},f),{},{acceptedFiles:i.acceptedFiles,fileRejections:i.fileRejections,isDragReject:i.isDragReject});case"reset":return _objectSpread({},initialState);default:return f}}function noop(){}var pdf={exports:{}};(function(module,exports$1){(function(i,P){module.exports=P()})(globalThis,()=>(()=>{var __webpack_modules__=[,(f,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.UNSUPPORTED_FEATURES=i.TextRenderingMode=i.RenderingIntentFlag=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationStateModelType=i.AnnotationReviewState=i.AnnotationReplyType=i.AnnotationMode=i.AnnotationMarkedState=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=I,i.bytesToString=d,i.createPromiseCapability=xt,i.createValidAbsoluteUrl=l,i.getModificationDate=yt,i.getVerbosityLevel=X,i.info=Y,i.isArrayBuffer=ft,i.isArrayEqual=bt,i.objectFromMap=M,i.objectSize=p,i.setVerbosityLevel=tt,i.shadow=A,i.string32=C,i.stringToBytes=w,i.stringToPDFString=V,i.stringToUTF8String=it,i.unreachable=ht,i.utf8StringToString=ut,i.warn=st;const P=[1,0,0,1,0,0];i.IDENTITY_MATRIX=P;const c=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=c;const S=1.35;i.LINE_FACTOR=S;const H=.35;i.LINE_DESCENT_FACTOR=H;const B=H/S;i.BASELINE_FACTOR=B;const Z={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=Z;const z={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=z;const E="pdfjs_internal_editor_";i.AnnotationEditorPrefix=E;const T={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};i.AnnotationEditorType=T;const j={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};i.AnnotationEditorParamsType=j;const k={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=k;const y={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=y;const b={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=b;const m={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=m;const r={MARKED:"Marked",REVIEW:"Review"};i.AnnotationStateModelType=r;const h={MARKED:"Marked",UNMARKED:"Unmarked"};i.AnnotationMarkedState=h;const g={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};i.AnnotationReviewState=g;const s={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=s;const a={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=a;const t={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=t;const n={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=n;const v={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=v;const e={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=e;const x={O:"PageOpen",C:"PageClose"};i.PageActionEventType=x;const L={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=L;const G={NONE:0,BINARY:1};i.CMapCompressionType=G;const at={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=at;const mt={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};i.UNSUPPORTED_FEATURES=mt;const rt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=rt;let lt=L.WARNINGS;function tt(ct){Number.isInteger(ct)&&(lt=ct)}function X(){return lt}function Y(ct){lt>=L.INFOS&&console.log(`Info: ${ct}`)}function st(ct){lt>=L.WARNINGS&&console.log(`Warning: ${ct}`)}function ht(ct){throw new Error(ct)}function I(ct,J){ct||ht(J)}function u(ct){if(!ct)return!1;switch(ct.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function l(ct,J=null,$=null){if(!ct)return null;try{if($&&typeof ct=="string"){if($.addDefaultProtocol&&ct.startsWith("www.")){const _t=ct.match(/\./g);_t&&_t.length>=2&&(ct=`http://${ct}`)}if($.tryConvertEncoding)try{ct=it(ct)}catch{}}const gt=J?new URL(ct,J):new URL(ct);if(u(gt))return gt}catch{}return null}function A(ct,J,$,gt=!1){return Object.defineProperty(ct,J,{value:$,enumerable:!gt,configurable:!0,writable:!1}),$}const D=function(){function J($,gt){this.constructor===J&&ht("Cannot initialize BaseException."),this.message=$,this.name=gt}return J.prototype=new Error,J.constructor=J,J}();i.BaseException=D;class O extends D{constructor(J,$){super(J,"PasswordException"),this.code=$}}i.PasswordException=O;class R extends D{constructor(J,$){super(J,"UnknownErrorException"),this.details=$}}i.UnknownErrorException=R;class K extends D{constructor(J){super(J,"InvalidPDFException")}}i.InvalidPDFException=K;class et extends D{constructor(J){super(J,"MissingPDFException")}}i.MissingPDFException=et;class ot extends D{constructor(J,$){super(J,"UnexpectedResponseException"),this.status=$}}i.UnexpectedResponseException=ot;class Q extends D{constructor(J){super(J,"FormatError")}}i.FormatError=Q;class o extends D{constructor(J){super(J,"AbortException")}}i.AbortException=o;function d(ct){(typeof ct!="object"||ct===null||ct.length===void 0)&&ht("Invalid argument for bytesToString");const J=ct.length,$=8192;if(J<$)return String.fromCharCode.apply(null,ct);const gt=[];for(let _t=0;_t<J;_t+=$){const At=Math.min(_t+$,J),St=ct.subarray(_t,At);gt.push(String.fromCharCode.apply(null,St))}return gt.join("")}function w(ct){typeof ct!="string"&&ht("Invalid argument for stringToBytes");const J=ct.length,$=new Uint8Array(J);for(let gt=0;gt<J;++gt)$[gt]=ct.charCodeAt(gt)&255;return $}function C(ct){return String.fromCharCode(ct>>24&255,ct>>16&255,ct>>8&255,ct&255)}function p(ct){return Object.keys(ct).length}function M(ct){const J=Object.create(null);for(const[$,gt]of ct)J[$]=gt;return J}function U(){const ct=new Uint8Array(4);return ct[0]=1,new Uint32Array(ct.buffer,0,1)[0]===1}function q(){try{return new Function(""),!0}catch{return!1}}class nt{static get isLittleEndian(){return A(this,"isLittleEndian",U())}static get isEvalSupported(){return A(this,"isEvalSupported",q())}static get isOffscreenCanvasSupported(){return A(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?A(this,"platform",{isWin:!1,isMac:!1}):A(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}i.FeatureTest=nt;const F=[...Array(256).keys()].map(ct=>ct.toString(16).padStart(2,"0"));class W{static makeHexColor(J,$,gt){return`#${F[J]}${F[$]}${F[gt]}`}static scaleMinMax(J,$){let gt;J[0]?(J[0]<0&&(gt=$[0],$[0]=$[1],$[1]=gt),$[0]*=J[0],$[1]*=J[0],J[3]<0&&(gt=$[2],$[2]=$[3],$[3]=gt),$[2]*=J[3],$[3]*=J[3]):(gt=$[0],$[0]=$[2],$[2]=gt,gt=$[1],$[1]=$[3],$[3]=gt,J[1]<0&&(gt=$[2],$[2]=$[3],$[3]=gt),$[2]*=J[1],$[3]*=J[1],J[2]<0&&(gt=$[0],$[0]=$[1],$[1]=gt),$[0]*=J[2],$[1]*=J[2]),$[0]+=J[4],$[1]+=J[4],$[2]+=J[5],$[3]+=J[5]}static transform(J,$){return[J[0]*$[0]+J[2]*$[1],J[1]*$[0]+J[3]*$[1],J[0]*$[2]+J[2]*$[3],J[1]*$[2]+J[3]*$[3],J[0]*$[4]+J[2]*$[5]+J[4],J[1]*$[4]+J[3]*$[5]+J[5]]}static applyTransform(J,$){const gt=J[0]*$[0]+J[1]*$[2]+$[4],_t=J[0]*$[1]+J[1]*$[3]+$[5];return[gt,_t]}static applyInverseTransform(J,$){const gt=$[0]*$[3]-$[1]*$[2],_t=(J[0]*$[3]-J[1]*$[2]+$[2]*$[5]-$[4]*$[3])/gt,At=(-J[0]*$[1]+J[1]*$[0]+$[4]*$[1]-$[5]*$[0])/gt;return[_t,At]}static getAxialAlignedBoundingBox(J,$){const gt=W.applyTransform(J,$),_t=W.applyTransform(J.slice(2,4),$),At=W.applyTransform([J[0],J[3]],$),St=W.applyTransform([J[2],J[1]],$);return[Math.min(gt[0],_t[0],At[0],St[0]),Math.min(gt[1],_t[1],At[1],St[1]),Math.max(gt[0],_t[0],At[0],St[0]),Math.max(gt[1],_t[1],At[1],St[1])]}static inverseTransform(J){const $=J[0]*J[3]-J[1]*J[2];return[J[3]/$,-J[1]/$,-J[2]/$,J[0]/$,(J[2]*J[5]-J[4]*J[3])/$,(J[4]*J[1]-J[5]*J[0])/$]}static singularValueDecompose2dScale(J){const $=[J[0],J[2],J[1],J[3]],gt=J[0]*$[0]+J[1]*$[2],_t=J[0]*$[1]+J[1]*$[3],At=J[2]*$[0]+J[3]*$[2],St=J[2]*$[1]+J[3]*$[3],kt=(gt+St)/2,Tt=Math.sqrt((gt+St)**2-4*(gt*St-At*_t))/2,Rt=kt+Tt||1,Ct=kt-Tt||1;return[Math.sqrt(Rt),Math.sqrt(Ct)]}static normalizeRect(J){const $=J.slice(0);return J[0]>J[2]&&($[0]=J[2],$[2]=J[0]),J[1]>J[3]&&($[1]=J[3],$[3]=J[1]),$}static intersect(J,$){const gt=Math.max(Math.min(J[0],J[2]),Math.min($[0],$[2])),_t=Math.min(Math.max(J[0],J[2]),Math.max($[0],$[2]));if(gt>_t)return null;const At=Math.max(Math.min(J[1],J[3]),Math.min($[1],$[3])),St=Math.min(Math.max(J[1],J[3]),Math.max($[1],$[3]));return At>St?null:[gt,At,_t,St]}static bezierBoundingBox(J,$,gt,_t,At,St,kt,Tt){const Rt=[],Ct=[[],[]];let It,Mt,qt,wt,Wt,Ht,Kt,$t;for(let Jt=0;Jt<2;++Jt){if(Jt===0?(Mt=6*J-12*gt+6*At,It=-3*J+9*gt-9*At+3*kt,qt=3*gt-3*J):(Mt=6*$-12*_t+6*St,It=-3*$+9*_t-9*St+3*Tt,qt=3*_t-3*$),Math.abs(It)<1e-12){if(Math.abs(Mt)<1e-12)continue;wt=-qt/Mt,0<wt&&wt<1&&Rt.push(wt);continue}Kt=Mt*Mt-4*qt*It,$t=Math.sqrt(Kt),!(Kt<0)&&(Wt=(-Mt+$t)/(2*It),0<Wt&&Wt<1&&Rt.push(Wt),Ht=(-Mt-$t)/(2*It),0<Ht&&Ht<1&&Rt.push(Ht))}let jt=Rt.length,Pt;const Ut=jt;for(;jt--;)wt=Rt[jt],Pt=1-wt,Ct[0][jt]=Pt*Pt*Pt*J+3*Pt*Pt*wt*gt+3*Pt*wt*wt*At+wt*wt*wt*kt,Ct[1][jt]=Pt*Pt*Pt*$+3*Pt*Pt*wt*_t+3*Pt*wt*wt*St+wt*wt*wt*Tt;return Ct[0][Ut]=J,Ct[1][Ut]=$,Ct[0][Ut+1]=kt,Ct[1][Ut+1]=Tt,Ct[0].length=Ct[1].length=Ut+2,[Math.min(...Ct[0]),Math.min(...Ct[1]),Math.max(...Ct[0]),Math.max(...Ct[1])]}}i.Util=W;const N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function V(ct){if(ct[0]>=""){let $;if(ct[0]===""&&ct[1]===""?$="utf-16be":ct[0]===""&&ct[1]===""?$="utf-16le":ct[0]===""&&ct[1]===""&&ct[2]===""&&($="utf-8"),$)try{const gt=new TextDecoder($,{fatal:!0}),_t=w(ct);return gt.decode(_t)}catch(gt){st(`stringToPDFString: "${gt}".`)}}const J=[];for(let $=0,gt=ct.length;$<gt;$++){const _t=N[ct.charCodeAt($)];J.push(_t?String.fromCharCode(_t):ct.charAt($))}return J.join("")}function it(ct){return decodeURIComponent(escape(ct))}function ut(ct){return unescape(encodeURIComponent(ct))}function ft(ct){return typeof ct=="object"&&ct!==null&&ct.byteLength!==void 0}function bt(ct,J){if(ct.length!==J.length)return!1;for(let $=0,gt=ct.length;$<gt;$++)if(ct[$]!==J[$])return!1;return!0}function yt(ct=new Date){return[ct.getUTCFullYear().toString(),(ct.getUTCMonth()+1).toString().padStart(2,"0"),ct.getUTCDate().toString().padStart(2,"0"),ct.getUTCHours().toString().padStart(2,"0"),ct.getUTCMinutes().toString().padStart(2,"0"),ct.getUTCSeconds().toString().padStart(2,"0")].join("")}function xt(){const ct=Object.create(null);let J=!1;return Object.defineProperty(ct,"settled",{get(){return J}}),ct.promise=new Promise(function($,gt){ct.resolve=function(_t){J=!0,$(_t)},ct.reject=function(_t){J=!0,gt(_t)}}),ct}},(__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var f,i,c,S,H,B,Z,z,E,T,te,k,y,ee,m,r;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.build=exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:g,NodeCMapReaderFactory:s,NodeStandardFontDataFactory:a}=__w_pdfjs_require__(20);exports$1.DefaultCanvasFactory=DefaultCanvasFactory=g,exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory=s,exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=a}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:g}=__w_pdfjs_require__(21);createPDFNetworkStream=s=>new g(s)}else{const{PDFNetworkStream:g}=__w_pdfjs_require__(24),{PDFFetchStream:s}=__w_pdfjs_require__(25);createPDFNetworkStream=a=>(0,_display_utils.isValidFetchUrl)(a.url)?new s(a):new g(a)}function getDocument(g){if(typeof g=="string"||g instanceof URL)g={url:g};else if((0,_util.isArrayBuffer)(g))g={data:g};else if(g instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),g={range:g};else if(typeof g!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!g.url&&!g.data&&!g.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const s=new PDFDocumentLoadingTask,a=g.url?getUrlProp(g.url):null,t=g.data?getDataProp(g.data):null,n=g.httpHeaders||null,v=g.withCredentials===!0,e=g.password??null,x=g.range instanceof PDFDataRangeTransport?g.range:null,L=Number.isInteger(g.rangeChunkSize)&&g.rangeChunkSize>0?g.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let G=g.worker instanceof PDFWorker?g.worker:null;const at=g.verbosity,mt=typeof g.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(g.docBaseUrl)?g.docBaseUrl:null,rt=typeof g.cMapUrl=="string"?g.cMapUrl:null,lt=g.cMapPacked!==!1,tt=g.CMapReaderFactory||DefaultCMapReaderFactory,X=typeof g.standardFontDataUrl=="string"?g.standardFontDataUrl:null,Y=g.StandardFontDataFactory||DefaultStandardFontDataFactory,st=g.stopAtErrors!==!0,ht=Number.isInteger(g.maxImageSize)&&g.maxImageSize>-1?g.maxImageSize:-1,I=g.isEvalSupported!==!1,u=typeof g.isOffscreenCanvasSupported=="boolean"?g.isOffscreenCanvasSupported:!_is_node.isNodeJS,l=typeof g.disableFontFace=="boolean"?g.disableFontFace:_is_node.isNodeJS,A=g.fontExtraProperties===!0,D=g.enableXfa===!0,O=g.ownerDocument||globalThis.document,R=g.disableRange===!0,K=g.disableStream===!0,et=g.disableAutoFetch===!0,ot=g.pdfBug===!0,Q=x?x.length:g.length??NaN,o=typeof g.useSystemFonts=="boolean"?g.useSystemFonts:!_is_node.isNodeJS&&!l,d=typeof g.useWorkerFetch=="boolean"?g.useWorkerFetch:tt===_display_utils.DOMCMapReaderFactory&&Y===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(rt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(X,document.baseURI),w=null;(0,_util.setVerbosityLevel)(at);const C=d?null:{cMapReaderFactory:new tt({baseUrl:rt,isCompressed:lt}),standardFontDataFactory:new Y({baseUrl:X})};if(!G){const q={verbosity:at,port:_worker_options.GlobalWorkerOptions.workerPort};G=q.port?PDFWorker.fromPort(q):new PDFWorker(q),s._worker=G}const p=s.docId,M={docId:p,apiVersion:"3.4.120",data:t,password:e,disableAutoFetch:et,rangeChunkSize:L,length:Q,docBaseUrl:mt,enableXfa:D,evaluatorOptions:{maxImageSize:ht,disableFontFace:l,ignoreErrors:st,isEvalSupported:I,isOffscreenCanvasSupported:u,fontExtraProperties:A,useSystemFonts:o,cMapUrl:d?rt:null,standardFontDataUrl:d?X:null}},U={ignoreErrors:st,isEvalSupported:I,disableFontFace:l,fontExtraProperties:A,enableXfa:D,ownerDocument:O,disableAutoFetch:et,pdfBug:ot,styleElement:w};return G.promise.then(function(){if(s.destroyed)throw new Error("Loading aborted");const q=_fetchDocument(G,M),nt=new Promise(function(F){let W;x?W=new _transport_stream.PDFDataTransportStream({length:Q,initialData:x.initialData,progressiveDone:x.progressiveDone,contentDispositionFilename:x.contentDispositionFilename,disableRange:R,disableStream:K},x):t||(W=createPDFNetworkStream({url:a,length:Q,httpHeaders:n,withCredentials:v,rangeChunkSize:L,disableRange:R,disableStream:K})),F(W)});return Promise.all([q,nt]).then(function([F,W]){if(s.destroyed)throw new Error("Loading aborted");const N=new _message_handler.MessageHandler(p,F,G.port),V=new WorkerTransport(N,s,W,U,C);s._transport=V,N.send("Ready",null)})}).catch(s._capability.reject),s}async function _fetchDocument(g,s){if(g.destroyed)throw new Error("Worker was destroyed");const a=await g.messageHandler.sendWithPromise("GetDocRequest",s,s.data?[s.data.buffer]:null);if(g.destroyed)throw new Error("Worker was destroyed");return a}function getUrlProp(g){if(g instanceof URL)return g.href;try{return new URL(g,window.location).href}catch{if(_is_node.isNodeJS&&typeof g=="string")return g}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(g){if(_is_node.isNodeJS&&typeof Buffer<"u"&&g instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(g);if(g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength)return g;if(typeof g=="string")return(0,_util.stringToBytes)(g);if(typeof g=="object"&&!isNaN(g==null?void 0:g.length)||(0,_util.isArrayBuffer)(g))return new Uint8Array(g);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const P=class P{constructor(){pt(this,i,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Zt(P,f)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return _(this,i)}set onUnsupportedFeature(s){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),vt(this,i,s)}get promise(){return this._capability.promise}async destroy(){var s;this.destroyed=!0,await((s=this._transport)==null?void 0:s.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};f=new WeakMap,i=new WeakMap,pt(P,f,0);let PDFDocumentLoadingTask=P;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(s,a,t=!1,n=null){this.length=s,this.initialData=a,this.progressiveDone=t,this.contentDispositionFilename=n,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(s){this._rangeListeners.push(s)}addProgressListener(s){this._progressListeners.push(s)}addProgressiveReadListener(s){this._progressiveReadListeners.push(s)}addProgressiveDoneListener(s){this._progressiveDoneListeners.push(s)}onDataRange(s,a){for(const t of this._rangeListeners)t(s,a)}onDataProgress(s,a){this._readyCapability.promise.then(()=>{for(const t of this._progressListeners)t(s,a)})}onDataProgressiveRead(s){this._readyCapability.promise.then(()=>{for(const a of this._progressiveReadListeners)a(s)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const s of this._progressiveDoneListeners)s()})}transportReady(){this._readyCapability.resolve()}requestDataRange(s,a){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(s,a){this._pdfInfo=s,this._transport=a}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(s){return this._transport.getPage(s)}getPageIndex(s){return this._transport.getPageIndex(s)}getDestinations(){return this._transport.getDestinations()}getDestination(s){return this._transport.getDestination(s)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(s=!1){return this._transport.startCleanup(s||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(s,a,t,n,v=!1){this._pageIndex=s,this._pageInfo=a,this._ownerDocument=n,this._transport=t,this._stats=v?new _display_utils.StatTimer:null,this._pdfBug=v,this.commonObjs=t.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:s,rotation:a=this.rotate,offsetX:t=0,offsetY:n=0,dontFlip:v=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:s,rotation:a,offsetX:t,offsetY:n,dontFlip:v})}getAnnotations({intent:s="display"}={}){const a=this._transport.getRenderingIntent(s);return this._transport.getAnnotations(this._pageIndex,a.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var s;return((s=this._transport._htmlForXfa)==null?void 0:s.children[this._pageIndex])||null}render({canvasContext:s,viewport:a,intent:t="display",annotationMode:n=_util.AnnotationMode.ENABLE,transform:v=null,canvasFactory:e=null,background:x=null,optionalContentConfigPromise:L=null,annotationCanvasMap:G=null,pageColors:at=null,printAnnotationStorage:mt=null}){var I,u;(I=this._stats)==null||I.time("Overall");const rt=this._transport.getRenderingIntent(t,n,mt);this.pendingCleanup=!1,L||(L=this._transport.getOptionalContentConfig());let lt=this._intentStates.get(rt.cacheKey);lt||(lt=Object.create(null),this._intentStates.set(rt.cacheKey,lt)),lt.streamReaderCancelTimeout&&(clearTimeout(lt.streamReaderCancelTimeout),lt.streamReaderCancelTimeout=null);const tt=e||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),X=!!(rt.renderingIntent&_util.RenderingIntentFlag.PRINT);lt.displayReadyCapability||(lt.displayReadyCapability=(0,_util.createPromiseCapability)(),lt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(rt));const Y=l=>{var A,D;lt.renderTasks.delete(st),(this.cleanupAfterRender||X)&&(this.pendingCleanup=!0),this._tryCleanup(),l?(st.capability.reject(l),this._abortOperatorList({intentState:lt,reason:l instanceof Error?l:new Error(l)})):st.capability.resolve(),(A=this._stats)==null||A.timeEnd("Rendering"),(D=this._stats)==null||D.timeEnd("Overall")},st=new InternalRenderTask({callback:Y,params:{canvasContext:s,viewport:a,transform:v,background:x},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:G,operatorList:lt.operatorList,pageIndex:this._pageIndex,canvasFactory:tt,useRequestAnimationFrame:!X,pdfBug:this._pdfBug,pageColors:at});(lt.renderTasks||(lt.renderTasks=new Set)).add(st);const ht=st.task;return Promise.all([lt.displayReadyCapability.promise,L]).then(([l,A])=>{var D;if(this.pendingCleanup){Y();return}(D=this._stats)==null||D.time("Rendering"),st.initializeGraphics({transparency:l,optionalContentConfig:A}),st.operatorListChanged()}).catch(Y),ht}getOperatorList({intent:s="display",annotationMode:a=_util.AnnotationMode.ENABLE,printAnnotationStorage:t=null}={}){var L;function n(){e.operatorList.lastChunk&&(e.opListReadCapability.resolve(e.operatorList),e.renderTasks.delete(x))}const v=this._transport.getRenderingIntent(s,a,t,!0);let e=this._intentStates.get(v.cacheKey);e||(e=Object.create(null),this._intentStates.set(v.cacheKey,e));let x;return e.opListReadCapability||(x=Object.create(null),x.operatorListChanged=n,e.opListReadCapability=(0,_util.createPromiseCapability)(),(e.renderTasks||(e.renderTasks=new Set)).add(x),e.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(L=this._stats)==null||L.time("Page Request"),this._pumpOperatorList(v)),e.opListReadCapability.promise}streamTextContent({disableCombineTextItems:s=!1,includeMarkedContent:a=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:s!==!0,includeMarkedContent:a===!0},{highWaterMark:100,size(n){return n.items.length}})}getTextContent(s={}){if(this._transport._htmlForXfa)return this.getXfa().then(t=>_xfa_text.XfaText.textContent(t));const a=this.streamTextContent(s);return new Promise(function(t,n){function v(){e.read().then(function({value:L,done:G}){if(G){t(x);return}Object.assign(x.styles,L.styles),x.items.push(...L.items),v()},n)}const e=a.getReader(),x={items:[],styles:Object.create(null)};v()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const s=[];for(const a of this._intentStates.values())if(this._abortOperatorList({intentState:a,reason:new Error("Page was destroyed."),force:!0}),!a.opListReadCapability)for(const t of a.renderTasks)s.push(t.completed),t.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(s)}cleanup(s=!1){return this.pendingCleanup=!0,this._tryCleanup(s)}_tryCleanup(s=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:a,operatorList:t}of this._intentStates.values())if(a.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),s&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(s,a){var n,v;const t=this._intentStates.get(a);t&&((n=this._stats)==null||n.timeEnd("Page Request"),(v=t.displayReadyCapability)==null||v.resolve(s))}_renderPageChunk(s,a){for(let t=0,n=s.length;t<n;t++)a.operatorList.fnArray.push(s.fnArray[t]),a.operatorList.argsArray.push(s.argsArray[t]);a.operatorList.lastChunk=s.lastChunk,a.operatorList.separateAnnots=s.separateAnnots;for(const t of a.renderTasks)t.operatorListChanged();s.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:s,cacheKey:a,annotationStorageMap:t}){const v=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:s,cacheKey:a,annotationStorage:t}).getReader(),e=this._intentStates.get(a);e.streamReader=v;const x=()=>{v.read().then(({value:L,done:G})=>{if(G){e.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(L,e),x())},L=>{if(e.streamReader=null,!this._transport.destroyed){if(e.operatorList){e.operatorList.lastChunk=!0;for(const G of e.renderTasks)G.operatorListChanged();this._tryCleanup()}if(e.displayReadyCapability)e.displayReadyCapability.reject(L);else if(e.opListReadCapability)e.opListReadCapability.reject(L);else throw L}})};x()}_abortOperatorList({intentState:s,reason:a,force:t=!1}){if(s.streamReader){if(s.streamReaderCancelTimeout&&(clearTimeout(s.streamReaderCancelTimeout),s.streamReaderCancelTimeout=null),!t){if(s.renderTasks.size>0)return;if(a instanceof _display_utils.RenderingCancelledException){let n=RENDERING_CANCELLED_TIMEOUT;a.extraDelay>0&&a.extraDelay<1e3&&(n+=a.extraDelay),s.streamReaderCancelTimeout=setTimeout(()=>{s.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:s,reason:a,force:!0})},n);return}}if(s.streamReader.cancel(new _util.AbortException(a.message)).catch(()=>{}),s.streamReader=null,!this._transport.destroyed){for(const[n,v]of this._intentStates)if(v===s){this._intentStates.delete(n);break}this.cleanup()}}}get stats(){return this._stats}}exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){pt(this,c,new Set);pt(this,S,Promise.resolve())}postMessage(s,a){const t={data:structuredClone(s,a)};_(this,S).then(()=>{for(const n of _(this,c))n.call(this,t)})}addEventListener(s,a){_(this,c).add(a)}removeEventListener(s,a){_(this,c).delete(a)}terminate(){_(this,c).clear()}}c=new WeakMap,S=new WeakMap,exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const g=(H=document==null?void 0:document.currentScript)==null?void 0:H.src;g&&(PDFWorkerUtil.fallbackWorkerSrc=g.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(g,s){let a;try{if(a=new URL(g),!a.origin||a.origin==="null")return!1}catch{return!1}const t=new URL(s,a);return a.origin===t.origin},PDFWorkerUtil.createCDNWrapper=function(g){const s=`importScripts("${g}");`;return URL.createObjectURL(new Blob([s]))}}const _PDFWorker=class _PDFWorker{constructor({name:g=null,port:s=null,verbosity:a=(0,_util.getVerbosityLevel)()}={}){if(s&&_(_PDFWorker,B).has(s))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=g,this.destroyed=!1,this.verbosity=a,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,s){_(_PDFWorker,B).set(s,this),this._initializeFromPort(s);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(g){this._port=g,this._messageHandler=new _message_handler.MessageHandler("main","worker",g),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:g}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,g)||(g=PDFWorkerUtil.createCDNWrapper(new URL(g,window.location).href));const s=new Worker(g),a=new _message_handler.MessageHandler("main","worker",s),t=()=>{s.removeEventListener("error",n),a.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},n=()=>{this._webWorker||t()};s.addEventListener("error",n),a.on("test",e=>{if(s.removeEventListener("error",n),this.destroyed){t();return}e?(this._messageHandler=a,this._port=s,this._webWorker=s,this._readyCapability.resolve(),a.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),a.destroy(),s.terminate())}),a.on("ready",e=>{if(s.removeEventListener("error",n),this.destroyed){t();return}try{v()}catch{this._setupFakeWorker()}});const v=()=>{const e=new Uint8Array;a.send("test",e,[e.buffer])};v();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(g=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const s=new LoopbackPort;this._port=s;const a=`fake${PDFWorkerUtil.fakeWorkerId++}`,t=new _message_handler.MessageHandler(a+"_worker",a,s);g.setup(t,s);const n=new _message_handler.MessageHandler(a,a+"_worker",s);this._messageHandler=n,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})}).catch(g=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${g.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_(_PDFWorker,B).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(g){if(!(g!=null&&g.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return _(this,B).has(g.port)?_(this,B).get(g.port):new _PDFWorker(g)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var g;try{return((g=globalThis.pdfjsWorker)==null?void 0:g.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};B=new WeakMap,pt(_PDFWorker,B,new WeakMap);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker;class WorkerTransport{constructor(s,a,t,n,v){pt(this,T);pt(this,Z,new Map);pt(this,z,new Map);pt(this,E,new Map);this.messageHandler=s,this.loadingTask=a,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:n.ownerDocument,styleElement:n.styleElement}),this._params=n,this.cMapReaderFactory=v==null?void 0:v.cMapReaderFactory,this.standardFontDataFactory=v==null?void 0:v.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=t,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(s,a=_util.AnnotationMode.ENABLE,t=null,n=!1){let v=_util.RenderingIntentFlag.DISPLAY,e=null;switch(s){case"any":v=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":v=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${s}`)}switch(a){case _util.AnnotationMode.DISABLE:v+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:v+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:v+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,e=(v&_util.RenderingIntentFlag.PRINT&&t instanceof _annotation_storage.PrintAnnotationStorage?t:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${a}`)}return n&&(v+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:v,cacheKey:`${v}_${_annotation_storage.AnnotationStorage.getHash(e)}`,annotationStorageMap:e}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const s=[];for(const t of _(this,z).values())s.push(t._destroy());_(this,z).clear(),_(this,E).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const a=this.messageHandler.sendWithPromise("Terminate",null);return s.push(a),Promise.all(s).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_(this,Z).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:s,loadingTask:a}=this;s.on("GetReader",(t,n)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=v=>{this._lastProgress={loaded:v.loaded,total:v.total}},n.onPull=()=>{this._fullReader.read().then(function({value:v,done:e}){if(e){n.close();return}(0,_util.assert)(v instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(v),1,[v])}).catch(v=>{n.error(v)})},n.onCancel=v=>{this._fullReader.cancel(v),n.ready.catch(e=>{if(!this.destroyed)throw e})}}),s.on("ReaderHeadersReady",t=>{const n=(0,_util.createPromiseCapability)(),v=this._fullReader;return v.headersReady.then(()=>{var e;(!v.isStreamingSupported||!v.isRangeSupported)&&(this._lastProgress&&((e=a.onProgress)==null||e.call(a,this._lastProgress)),v.onProgress=x=>{var L;(L=a.onProgress)==null||L.call(a,{loaded:x.loaded,total:x.total})}),n.resolve({isStreamingSupported:v.isStreamingSupported,isRangeSupported:v.isRangeSupported,contentLength:v.contentLength})},n.reject),n.promise}),s.on("GetRangeReader",(t,n)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const v=this._networkStream.getRangeReader(t.begin,t.end);if(!v){n.close();return}n.onPull=()=>{v.read().then(function({value:e,done:x}){if(x){n.close();return}(0,_util.assert)(e instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(e),1,[e])}).catch(e=>{n.error(e)})},n.onCancel=e=>{v.cancel(e),n.ready.catch(x=>{if(!this.destroyed)throw x})}}),s.on("GetDoc",({pdfInfo:t})=>{this._numPages=t.numPages,this._htmlForXfa=t.htmlForXfa,delete t.htmlForXfa,a._capability.resolve(new PDFDocumentProxy(t,this))}),s.on("DocException",function(t){let n;switch(t.name){case"PasswordException":n=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":n=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(t.message,t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}a._capability.reject(n)}),s.on("PasswordRequest",t=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),a.onPassword){const n=v=>{v instanceof Error?this._passwordCapability.reject(v):this._passwordCapability.resolve({password:v})};try{a.onPassword(n,t.code)}catch(v){this._passwordCapability.reject(v)}}else this._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return this._passwordCapability.promise}),s.on("DataLoaded",t=>{var n;(n=a.onProgress)==null||n.call(a,{loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)}),s.on("StartRenderPage",t=>{if(this.destroyed)return;_(this,z).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)}),s.on("commonobj",([t,n,v])=>{var e;if(!this.destroyed&&!this.commonObjs.has(t))switch(n){case"Font":const x=this._params;if("error"in v){const at=v.error;(0,_util.warn)(`Error during font loading: ${at}`),this.commonObjs.resolve(t,at);break}let L=null;x.pdfBug&&((e=globalThis.FontInspector)!=null&&e.enabled)&&(L={registerFont(at,mt){globalThis.FontInspector.fontAdded(at,mt)}});const G=new _font_loader.FontFaceObject(v,{isEvalSupported:x.isEvalSupported,disableFontFace:x.disableFontFace,ignoreErrors:x.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:L});this.fontLoader.bind(G).catch(at=>s.sendWithPromise("FontFallback",{id:t})).finally(()=>{!x.fontExtraProperties&&G.data&&(G.data=null),this.commonObjs.resolve(t,G)});break;case"FontPath":case"Image":this.commonObjs.resolve(t,v);break;default:throw new Error(`Got unknown common object type ${n}`)}}),s.on("obj",([t,n,v,e])=>{var L;if(this.destroyed)return;const x=_(this,z).get(n);if(!x.objs.has(t))switch(v){case"Image":x.objs.resolve(t,e);const G=8e6;if(e){let at;if(e.bitmap){const{width:mt,height:rt}=e;at=mt*rt*4}else at=((L=e.data)==null?void 0:L.length)||0;at>G&&(x.cleanupAfterRender=!0)}break;case"Pattern":x.objs.resolve(t,e);break;default:throw new Error(`Got unknown object type ${v}`)}}),s.on("DocProgress",t=>{var n;this.destroyed||(n=a.onProgress)==null||n.call(a,{loaded:t.loaded,total:t.total})}),s.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),s.on("FetchBuiltInCMap",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),s.on("FetchStandardFontData",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:s}){var a,t;this.destroyed||(t=(a=this.loadingTask).onUnsupportedFeature)==null||t.call(a,s)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((s=this._fullReader)==null?void 0:s.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(s){if(!Number.isInteger(s)||s<=0||s>this._numPages)return Promise.reject(new Error("Invalid page request."));const a=s-1,t=_(this,E).get(a);if(t)return t;const n=this.messageHandler.sendWithPromise("GetPage",{pageIndex:a}).then(v=>{if(this.destroyed)throw new Error("Transport destroyed");const e=new PDFPageProxy(a,v,this,this._params.ownerDocument,this._params.pdfBug);return _(this,z).set(a,e),e});return _(this,E).set(a,n),n}getPageIndex(s){return typeof s!="object"||s===null||!Number.isInteger(s.num)||s.num<0||!Number.isInteger(s.gen)||s.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:s.num,gen:s.gen})}getAnnotations(s,a){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:s,intent:a})}getFieldObjects(){return dt(this,T,te).call(this,"GetFieldObjects")}hasJSActions(){return dt(this,T,te).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(s){return typeof s!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:s})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(s){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:s})}getStructTree(s){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:s})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(s=>new _optional_content_config.OptionalContentConfig(s))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const s="GetMetadata",a=_(this,Z).get(s);if(a)return a;const t=this.messageHandler.sendWithPromise(s,null).then(n=>{var v,e;return{info:n[0],metadata:n[1]?new _metadata.Metadata(n[1]):null,contentDispositionFilename:((v=this._fullReader)==null?void 0:v.filename)??null,contentLength:((e=this._fullReader)==null?void 0:e.contentLength)??null}});return _(this,Z).set(s,t),t}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(s=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const a of _(this,z).values())if(!a.cleanup())throw new Error(`startCleanup: Page ${a.pageNumber} is currently rendering.`);this.commonObjs.clear(),s||this.fontLoader.clear(),_(this,Z).clear()}}get loadingParams(){const{disableAutoFetch:s,enableXfa:a}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:s,enableXfa:a})}}Z=new WeakMap,z=new WeakMap,E=new WeakMap,T=new WeakSet,te=function(s,a=null){const t=_(this,Z).get(s);if(t)return t;const n=this.messageHandler.sendWithPromise(s,a);return _(this,Z).set(s,n),n};class PDFObjects{constructor(){pt(this,y);pt(this,k,Object.create(null))}get(s,a=null){if(a){const n=dt(this,y,ee).call(this,s);return n.capability.promise.then(()=>a(n.data)),null}const t=_(this,k)[s];if(!(t!=null&&t.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${s}.`);return t.data}has(s){const a=_(this,k)[s];return(a==null?void 0:a.capability.settled)||!1}resolve(s,a=null){const t=dt(this,y,ee).call(this,s);t.data=a,t.capability.resolve()}clear(){var s;for(const a in _(this,k)){const{data:t}=_(this,k)[a];(s=t==null?void 0:t.bitmap)==null||s.close()}vt(this,k,Object.create(null))}}k=new WeakMap,y=new WeakSet,ee=function(s){const a=_(this,k)[s];return a||(_(this,k)[s]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(s){pt(this,m,null);vt(this,m,s),this.onContinue=null}get promise(){return _(this,m).capability.promise}cancel(s=0){_(this,m).cancel(null,s)}get separateAnnots(){const{separateAnnots:s}=_(this,m).operatorList;if(!s)return!1;const{annotationCanvasMap:a}=_(this,m);return s.form||s.canvas&&(a==null?void 0:a.size)>0}}m=new WeakMap,exports$1.RenderTask=RenderTask;const h=class h{constructor({callback:s,params:a,objs:t,commonObjs:n,annotationCanvasMap:v,operatorList:e,pageIndex:x,canvasFactory:L,useRequestAnimationFrame:G=!1,pdfBug:at=!1,pageColors:mt=null}){this.callback=s,this.params=a,this.objs=t,this.commonObjs=n,this.annotationCanvasMap=v,this.operatorListIdx=null,this.operatorList=e,this._pageIndex=x,this.canvasFactory=L,this._pdfBug=at,this.pageColors=mt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=G===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=a.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:s=!1,optionalContentConfig:a}){var x,L;if(this.cancelled)return;if(this._canvas){if(_(h,r).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_(h,r).add(this._canvas)}this._pdfBug&&((x=globalThis.StepperManager)!=null&&x.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:t,viewport:n,transform:v,background:e}=this.params;this.gfx=new _canvas.CanvasGraphics(t,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:a},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:v,viewport:n,transparency:s,background:e}),this.operatorListIdx=0,this.graphicsReady=!0,(L=this.graphicsReadyCallback)==null||L.call(this)}cancel(s=null,a=0){var t;this.running=!1,this.cancelled=!0,(t=this.gfx)==null||t.endDrawing(),this._canvas&&_(h,r).delete(this._canvas),this.callback(s||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",a))}operatorListChanged(){var s;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(s=this.stepper)==null||s.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_(h,r).delete(this._canvas),this.callback())))}};r=new WeakMap,pt(h,r,new WeakSet);let InternalRenderTask=h;const version="3.4.120";exports$1.version=version;const build="af6414988";exports$1.build=build},(f,i,P)=>{var z,E,T,ye,k;Object.defineProperty(i,"__esModule",{value:!0}),i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var c=P(1),S=P(4),H=P(8);class B{constructor(){pt(this,T);pt(this,z,!1);pt(this,E,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(b,m){const r=_(this,E).get(b);return r===void 0?m:Object.assign(m,r)}getRawValue(b){return _(this,E).get(b)}remove(b){if(_(this,E).delete(b),_(this,E).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const m of _(this,E).values())if(m instanceof S.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(b,m){const r=_(this,E).get(b);let h=!1;if(r!==void 0)for(const[g,s]of Object.entries(m))r[g]!==s&&(h=!0,r[g]=s);else h=!0,_(this,E).set(b,m);h&&dt(this,T,ye).call(this),m instanceof S.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(m.constructor._type)}has(b){return _(this,E).has(b)}getAll(){return _(this,E).size>0?(0,c.objectFromMap)(_(this,E)):null}setAll(b){for(const[m,r]of Object.entries(b))this.setValue(m,r)}get size(){return _(this,E).size}resetModified(){_(this,z)&&(vt(this,z,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Z(this)}get serializable(){if(_(this,E).size===0)return null;const b=new Map;for(const[m,r]of _(this,E)){const h=r instanceof S.AnnotationEditor?r.serialize():r;h&&b.set(m,h)}return b}static getHash(b){if(!b)return"";const m=new H.MurmurHash3_64;for(const[r,h]of b)m.update(`${r}:${JSON.stringify(h)}`);return m.hexdigest()}}z=new WeakMap,E=new WeakMap,T=new WeakSet,ye=function(){_(this,z)||(vt(this,z,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=B;class Z extends B{constructor(m){super();pt(this,k,null);vt(this,k,structuredClone(m.serializable))}get print(){(0,c.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _(this,k)}}k=new WeakMap,i.PrintAnnotationStorage=Z},(f,i,P)=>{var B,Z,z,E,T,j;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var c=P(5),S=P(1);const k=class k{constructor(b){pt(this,B,this.focusin.bind(this));pt(this,Z,this.focusout.bind(this));pt(this,z,!1);pt(this,E,!1);pt(this,T,!1);Et(this,"_uiManager",null);pt(this,j,k._zIndex++);this.constructor===k&&(0,S.unreachable)("Cannot initialize AnnotationEditor."),this.parent=b.parent,this.id=b.id,this.width=this.height=null,this.pageIndex=b.parent.pageIndex,this.name=b.name,this.div=null,this._uiManager=b.uiManager;const{rotation:m,rawDims:{pageWidth:r,pageHeight:h,pageX:g,pageY:s}}=this.parent.viewport;this.rotation=m,this.pageDimensions=[r,h],this.pageTranslation=[g,s];const[a,t]=this.parentDimensions;this.x=b.x/a,this.y=b.y/t,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,S.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(b){this._uiManager.addCommands(b)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_(this,j)}setParent(b){b!==null&&(this.pageIndex=b.pageIndex,this.pageDimensions=b.pageDimensions),this.parent=b}focusin(b){_(this,z)?vt(this,z,!1):this.parent.setSelected(this)}focusout(b){var r;if(!this.isAttachedToDOM)return;const m=b.relatedTarget;m!=null&&m.closest(`#${this.id}`)||(b.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(b){const m=this.parent.div.getBoundingClientRect();this.startX=b.clientX-m.x,this.startY=b.clientY-m.y,b.dataTransfer.setData("text/plain",this.id),b.dataTransfer.effectAllowed="move"}setAt(b,m,r,h){const[g,s]=this.parentDimensions;[r,h]=this.screenToPageTranslation(r,h),this.x=(b+r)/g,this.y=(m+h)/s,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(b,m){const[r,h]=this.parentDimensions;[b,m]=this.screenToPageTranslation(b,m),this.x+=b/r,this.y+=m/h,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(b,m){switch(this.parentRotation){case 90:return[m,-b];case 180:return[-b,-m];case 270:return[-m,b];default:return[b,m]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:b}=this._uiManager.viewParameters,[m,r]=this.pageDimensions;return[m*b,r*b]}setDims(b,m){const[r,h]=this.parentDimensions;this.div.style.width=`${100*b/r}%`,this.div.style.height=`${100*m/h}%`}fixDims(){const{style:b}=this.div,{height:m,width:r}=b,h=r.endsWith("%"),g=m.endsWith("%");if(h&&g)return;const[s,a]=this.parentDimensions;h||(b.width=`${100*parseFloat(r)/s}%`),g||(b.height=`${100*parseFloat(m)/a}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_(this,B)),this.div.addEventListener("focusout",_(this,Z));const[b,m]=this.getInitialTranslation();return this.translate(b,m),(0,c.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(b){const{isMac:m}=S.FeatureTest.platform;if(b.button!==0||b.ctrlKey&&m){b.preventDefault();return}b.ctrlKey&&!m||b.shiftKey||b.metaKey&&m?this.parent.toggleSelected(this):this.parent.setSelected(this),vt(this,z,!0)}getRect(b,m){const r=this.parentScale,[h,g]=this.pageDimensions,[s,a]=this.pageTranslation,t=b/r,n=m/r,v=this.x*h,e=this.y*g,x=this.width*h,L=this.height*g;switch(this.rotation){case 0:return[v+t+s,g-e-n-L+a,v+t+x+s,g-e-n+a];case 90:return[v+n+s,g-e+t+a,v+n+L+s,g-e+t+x+a];case 180:return[v-t-x+s,g-e+n+a,v-t+s,g-e+n+L+a];case 270:return[v-n-L+s,g-e-t-x+a,v-n+s,g-e-t+a];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(b,m){const[r,h,g,s]=b,a=g-r,t=s-h;switch(this.rotation){case 0:return[r,m-s,a,t];case 90:return[r,m-h,t,a];case 180:return[g,m-h,a,t];case 270:return[g,m-s,t,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){vt(this,T,!0)}disableEditMode(){vt(this,T,!1)}isInEditMode(){return _(this,T)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var b;(b=this.div)==null||b.addEventListener("focusin",_(this,B))}serialize(){(0,S.unreachable)("An editor must be serializable")}static deserialize(b,m,r){const h=new this.prototype.constructor({parent:m,id:m.getNextId(),uiManager:r});h.rotation=b.rotation;const[g,s]=h.pageDimensions,[a,t,n,v]=h.getRectInCurrentCoords(b.rect,s);return h.x=a/g,h.y=t/s,h.width=n/g,h.height=v/s,h}remove(){this.div.removeEventListener("focusin",_(this,B)),this.div.removeEventListener("focusout",_(this,Z)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var b;(b=this.div)==null||b.classList.add("selectedEditor")}unselect(){var b;(b=this.div)==null||b.classList.remove("selectedEditor")}updateParams(b,m){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return _(this,E)}set isEditing(b){vt(this,E,b),b?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};B=new WeakMap,Z=new WeakMap,z=new WeakMap,E=new WeakMap,T=new WeakMap,j=new WeakMap,Et(k,"_colorManager",new c.ColorManager),Et(k,"_zIndex",1);let H=k;i.AnnotationEditor=H},(f,i,P)=>{var k,y,b,m,r,h,xe,a,t,n,v,e,x,L,G,at,mt,rt,lt,tt,X,Y,st,ht,I,u,l,A,D,O,R,Ae,ie,Se,Ee,Ft,Bt,we,Ce,ne,zt,ae;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=H,i.opacityToHex=B;var c=P(1),S=P(6);function H(nt,F,W){for(const N of W)F.addEventListener(N,nt[N].bind(nt))}function B(nt){return Math.round(Math.min(255,Math.max(1,255*nt))).toString(16).padStart(2,"0")}class Z{constructor(){pt(this,k,0)}getId(){return`${c.AnnotationEditorPrefix}${Zt(this,k)._++}`}}k=new WeakMap;class z{constructor(F=128){pt(this,y,[]);pt(this,b,!1);pt(this,m);pt(this,r,-1);vt(this,m,F)}add({cmd:F,undo:W,mustExec:N,type:V=NaN,overwriteIfSameType:it=!1,keepUndo:ut=!1}){if(N&&F(),_(this,b))return;const ft={cmd:F,undo:W,type:V};if(_(this,r)===-1){_(this,y).length>0&&(_(this,y).length=0),vt(this,r,0),_(this,y).push(ft);return}if(it&&_(this,y)[_(this,r)].type===V){ut&&(ft.undo=_(this,y)[_(this,r)].undo),_(this,y)[_(this,r)]=ft;return}const bt=_(this,r)+1;bt===_(this,m)?_(this,y).splice(0,1):(vt(this,r,bt),bt<_(this,y).length&&_(this,y).splice(bt)),_(this,y).push(ft)}undo(){_(this,r)!==-1&&(vt(this,b,!0),_(this,y)[_(this,r)].undo(),vt(this,b,!1),vt(this,r,_(this,r)-1))}redo(){_(this,r)<_(this,y).length-1&&(vt(this,r,_(this,r)+1),vt(this,b,!0),_(this,y)[_(this,r)].cmd(),vt(this,b,!1))}hasSomethingToUndo(){return _(this,r)!==-1}hasSomethingToRedo(){return _(this,r)<_(this,y).length-1}destroy(){vt(this,y,null)}}y=new WeakMap,b=new WeakMap,m=new WeakMap,r=new WeakMap,i.CommandManager=z;class E{constructor(F){pt(this,h);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:W}=c.FeatureTest.platform;for(const[N,V]of F)for(const it of N){const ut=it.startsWith("mac+");W&&ut?(this.callbacks.set(it.slice(4),V),this.allKeys.add(it.split("+").at(-1))):!W&&!ut&&(this.callbacks.set(it,V),this.allKeys.add(it.split("+").at(-1)))}}exec(F,W){if(!this.allKeys.has(W.key))return;const N=this.callbacks.get(dt(this,h,xe).call(this,W));N&&(N.bind(F)(),W.stopPropagation(),W.preventDefault())}}h=new WeakSet,xe=function(F){F.altKey&&this.buffer.push("alt"),F.ctrlKey&&this.buffer.push("ctrl"),F.metaKey&&this.buffer.push("meta"),F.shiftKey&&this.buffer.push("shift"),this.buffer.push(F.key);const W=this.buffer.join("+");return this.buffer.length=0,W},i.KeyboardManager=E;const s=class s{get _colors(){const F=new Map([["CanvasText",null],["Canvas",null]]);return(0,S.getColorValues)(F),(0,c.shadow)(this,"_colors",F)}convert(F){const W=(0,S.getRGB)(F);if(!window.matchMedia("(forced-colors: active)").matches)return W;for(const[N,V]of this._colors)if(V.every((it,ut)=>it===W[ut]))return s._colorsMapping.get(N);return W}getHexCode(F){const W=this._colors.get(F);return W?c.Util.makeHexColor(...W):F}};Et(s,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let T=s;i.ColorManager=T;const q=class q{constructor(F,W,N){pt(this,R);pt(this,a,null);pt(this,t,new Map);pt(this,n,new Map);pt(this,v,null);pt(this,e,new z);pt(this,x,0);pt(this,L,null);pt(this,G,new Set);pt(this,at,null);pt(this,mt,new Z);pt(this,rt,!1);pt(this,lt,c.AnnotationEditorType.NONE);pt(this,tt,new Set);pt(this,X,this.copy.bind(this));pt(this,Y,this.cut.bind(this));pt(this,st,this.paste.bind(this));pt(this,ht,this.keydown.bind(this));pt(this,I,this.onEditingAction.bind(this));pt(this,u,this.onPageChanging.bind(this));pt(this,l,this.onScaleChanging.bind(this));pt(this,A,this.onRotationChanging.bind(this));pt(this,D,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});pt(this,O,null);vt(this,O,F),vt(this,at,W),_(this,at)._on("editingaction",_(this,I)),_(this,at)._on("pagechanging",_(this,u)),_(this,at)._on("scalechanging",_(this,l)),_(this,at)._on("rotationchanging",_(this,A)),vt(this,v,N),this.viewParameters={realScale:S.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){dt(this,R,ie).call(this),_(this,at)._off("editingaction",_(this,I)),_(this,at)._off("pagechanging",_(this,u)),_(this,at)._off("scalechanging",_(this,l)),_(this,at)._off("rotationchanging",_(this,A));for(const F of _(this,n).values())F.destroy();_(this,n).clear(),_(this,t).clear(),_(this,G).clear(),vt(this,a,null),_(this,tt).clear(),_(this,e).destroy()}onPageChanging({pageNumber:F}){vt(this,x,F-1)}focusMainContainer(){_(this,O).focus()}addShouldRescale(F){_(this,G).add(F)}removeShouldRescale(F){_(this,G).delete(F)}onScaleChanging({scale:F}){this.commitOrRemove(),this.viewParameters.realScale=F*S.PixelsPerInch.PDF_TO_CSS_UNITS;for(const W of _(this,G))W.onScaleChanging()}onRotationChanging({pagesRotation:F}){this.commitOrRemove(),this.viewParameters.rotation=F}addToAnnotationStorage(F){!F.isEmpty()&&_(this,v)&&!_(this,v).has(F.id)&&_(this,v).setValue(F.id,F)}copy(F){if(F.preventDefault(),_(this,a)&&_(this,a).commitOrRemove(),!this.hasSelection)return;const W=[];for(const N of _(this,tt))N.isEmpty()||W.push(N.serialize());W.length!==0&&F.clipboardData.setData("application/pdfjs",JSON.stringify(W))}cut(F){this.copy(F),this.delete()}paste(F){F.preventDefault();let W=F.clipboardData.getData("application/pdfjs");if(!W)return;try{W=JSON.parse(W)}catch(V){(0,c.warn)(`paste: "${V.message}".`);return}if(!Array.isArray(W))return;this.unselectAll();const N=_(this,n).get(_(this,x));try{const V=[];for(const ft of W){const bt=N.deserialize(ft);if(!bt)return;V.push(bt)}const it=()=>{for(const ft of V)dt(this,R,ne).call(this,ft);dt(this,R,ae).call(this,V)},ut=()=>{for(const ft of V)ft.remove()};this.addCommands({cmd:it,undo:ut,mustExec:!0})}catch(V){(0,c.warn)(`paste: "${V.message}".`)}}keydown(F){var W;(W=this.getActive())!=null&&W.shouldGetKeyboardEvents()||q._keyboardManager.exec(this,F)}onEditingAction(F){["undo","redo","delete","selectAll"].includes(F.name)&&this[F.name]()}setEditingState(F){F?(dt(this,R,Ae).call(this),dt(this,R,Se).call(this),dt(this,R,Ft).call(this,{isEditing:_(this,lt)!==c.AnnotationEditorType.NONE,isEmpty:dt(this,R,zt).call(this),hasSomethingToUndo:_(this,e).hasSomethingToUndo(),hasSomethingToRedo:_(this,e).hasSomethingToRedo(),hasSelectedEditor:!1})):(dt(this,R,ie).call(this),dt(this,R,Ee).call(this),dt(this,R,Ft).call(this,{isEditing:!1}))}registerEditorTypes(F){if(!_(this,L)){vt(this,L,F);for(const W of _(this,L))dt(this,R,Bt).call(this,W.defaultPropertiesToUpdate)}}getId(){return _(this,mt).getId()}get currentLayer(){return _(this,n).get(_(this,x))}get currentPageIndex(){return _(this,x)}addLayer(F){_(this,n).set(F.pageIndex,F),_(this,rt)?F.enable():F.disable()}removeLayer(F){_(this,n).delete(F.pageIndex)}updateMode(F){if(vt(this,lt,F),F===c.AnnotationEditorType.NONE)this.setEditingState(!1),dt(this,R,Ce).call(this);else{this.setEditingState(!0),dt(this,R,we).call(this);for(const W of _(this,n).values())W.updateMode(F)}}updateToolbar(F){F!==_(this,lt)&&_(this,at).dispatch("switchannotationeditormode",{source:this,mode:F})}updateParams(F,W){if(_(this,L)){for(const N of _(this,tt))N.updateParams(F,W);for(const N of _(this,L))N.updateDefaultParams(F,W)}}getEditors(F){const W=[];for(const N of _(this,t).values())N.pageIndex===F&&W.push(N);return W}getEditor(F){return _(this,t).get(F)}addEditor(F){_(this,t).set(F.id,F)}removeEditor(F){var W;_(this,t).delete(F.id),this.unselect(F),(W=_(this,v))==null||W.remove(F.id)}setActiveEditor(F){_(this,a)!==F&&(vt(this,a,F),F&&dt(this,R,Bt).call(this,F.propertiesToUpdate))}toggleSelected(F){if(_(this,tt).has(F)){_(this,tt).delete(F),F.unselect(),dt(this,R,Ft).call(this,{hasSelectedEditor:this.hasSelection});return}_(this,tt).add(F),F.select(),dt(this,R,Bt).call(this,F.propertiesToUpdate),dt(this,R,Ft).call(this,{hasSelectedEditor:!0})}setSelected(F){for(const W of _(this,tt))W!==F&&W.unselect();_(this,tt).clear(),_(this,tt).add(F),F.select(),dt(this,R,Bt).call(this,F.propertiesToUpdate),dt(this,R,Ft).call(this,{hasSelectedEditor:!0})}isSelected(F){return _(this,tt).has(F)}unselect(F){F.unselect(),_(this,tt).delete(F),dt(this,R,Ft).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return _(this,tt).size!==0}undo(){_(this,e).undo(),dt(this,R,Ft).call(this,{hasSomethingToUndo:_(this,e).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:dt(this,R,zt).call(this)})}redo(){_(this,e).redo(),dt(this,R,Ft).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_(this,e).hasSomethingToRedo(),isEmpty:dt(this,R,zt).call(this)})}addCommands(F){_(this,e).add(F),dt(this,R,Ft).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:dt(this,R,zt).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const F=[..._(this,tt)],W=()=>{for(const V of F)V.remove()},N=()=>{for(const V of F)dt(this,R,ne).call(this,V)};this.addCommands({cmd:W,undo:N,mustExec:!0})}commitOrRemove(){var F;(F=_(this,a))==null||F.commitOrRemove()}selectAll(){for(const F of _(this,tt))F.commit();dt(this,R,ae).call(this,_(this,t).values())}unselectAll(){if(_(this,a)){_(this,a).commitOrRemove();return}if(_(this,tt).size!==0){for(const F of _(this,tt))F.unselect();_(this,tt).clear(),dt(this,R,Ft).call(this,{hasSelectedEditor:!1})}}isActive(F){return _(this,a)===F}getActive(){return _(this,a)}getMode(){return _(this,lt)}};a=new WeakMap,t=new WeakMap,n=new WeakMap,v=new WeakMap,e=new WeakMap,x=new WeakMap,L=new WeakMap,G=new WeakMap,at=new WeakMap,mt=new WeakMap,rt=new WeakMap,lt=new WeakMap,tt=new WeakMap,X=new WeakMap,Y=new WeakMap,st=new WeakMap,ht=new WeakMap,I=new WeakMap,u=new WeakMap,l=new WeakMap,A=new WeakMap,D=new WeakMap,O=new WeakMap,R=new WeakSet,Ae=function(){_(this,O).addEventListener("keydown",_(this,ht))},ie=function(){_(this,O).removeEventListener("keydown",_(this,ht))},Se=function(){document.addEventListener("copy",_(this,X)),document.addEventListener("cut",_(this,Y)),document.addEventListener("paste",_(this,st))},Ee=function(){document.removeEventListener("copy",_(this,X)),document.removeEventListener("cut",_(this,Y)),document.removeEventListener("paste",_(this,st))},Ft=function(F){Object.entries(F).some(([N,V])=>_(this,D)[N]!==V)&&_(this,at).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_(this,D),F)})},Bt=function(F){_(this,at).dispatch("annotationeditorparamschanged",{source:this,details:F})},we=function(){if(!_(this,rt)){vt(this,rt,!0);for(const F of _(this,n).values())F.enable()}},Ce=function(){if(this.unselectAll(),_(this,rt)){vt(this,rt,!1);for(const F of _(this,n).values())F.disable()}},ne=function(F){const W=_(this,n).get(F.pageIndex);W?W.addOrRebuild(F):this.addEditor(F)},zt=function(){if(_(this,t).size===0)return!0;if(_(this,t).size===1)for(const F of _(this,t).values())return F.isEmpty();return!1},ae=function(F){_(this,tt).clear();for(const W of F)W.isEmpty()||(_(this,tt).add(W),W.select());dt(this,R,Ft).call(this,{hasSelectedEditor:!0})},Et(q,"_keyboardManager",new E([[["ctrl+a","mac+meta+a"],q.prototype.selectAll],[["ctrl+z","mac+meta+z"],q.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],q.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],q.prototype.delete],[["Escape","mac+Escape"],q.prototype.unselectAll]]));let j=q;i.AnnotationEditorUIManager=j},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=i.AnnotationPrefix=void 0,i.deprecated=n,i.getColorValues=G,i.getCurrentTransform=at,i.getCurrentTransformInverse=mt,i.getFilenameFromUrl=h,i.getPdfFilenameFromUrl=g,i.getRGB=L,i.getXfaPageViewport=x,i.isDataScheme=m,i.isPdfFile=r,i.isValidFetchUrl=a,i.loadScript=t,i.setLayerDimensions=rt;var c=P(7),S=P(1);const H="http://www.w3.org/2000/svg",B="pdfjs_internal_id_";i.AnnotationPrefix=B;const lt=class lt{};Et(lt,"CSS",96),Et(lt,"PDF",72),Et(lt,"PDF_TO_CSS_UNITS",lt.CSS/lt.PDF);let Z=lt;i.PixelsPerInch=Z;class z extends c.BaseCanvasFactory{constructor({ownerDocument:X=globalThis.document}={}){super(),this._document=X}_createCanvas(X,Y){const st=this._document.createElement("canvas");return st.width=X,st.height=Y,st}}i.DOMCanvasFactory=z;async function E(tt,X=!1){if(a(tt,document.baseURI)){const Y=await fetch(tt);if(!Y.ok)throw new Error(Y.statusText);return X?new Uint8Array(await Y.arrayBuffer()):(0,S.stringToBytes)(await Y.text())}return new Promise((Y,st)=>{const ht=new XMLHttpRequest;ht.open("GET",tt,!0),X&&(ht.responseType="arraybuffer"),ht.onreadystatechange=()=>{if(ht.readyState===XMLHttpRequest.DONE){if(ht.status===200||ht.status===0){let I;if(X&&ht.response?I=new Uint8Array(ht.response):!X&&ht.responseText&&(I=(0,S.stringToBytes)(ht.responseText)),I){Y(I);return}}st(new Error(ht.statusText))}},ht.send(null)})}class T extends c.BaseCMapReaderFactory{_fetchData(X,Y){return E(X,this.isCompressed).then(st=>({cMapData:st,compressionType:Y}))}}i.DOMCMapReaderFactory=T;class j extends c.BaseStandardFontDataFactory{_fetchData(X){return E(X,!0)}}i.DOMStandardFontDataFactory=j;class k extends c.BaseSVGFactory{_createSVG(X){return document.createElementNS(H,X)}}i.DOMSVGFactory=k;class y{constructor({viewBox:X,scale:Y,rotation:st,offsetX:ht=0,offsetY:I=0,dontFlip:u=!1}){this.viewBox=X,this.scale=Y,this.rotation=st,this.offsetX=ht,this.offsetY=I;const l=(X[2]+X[0])/2,A=(X[3]+X[1])/2;let D,O,R,K;switch(st%=360,st<0&&(st+=360),st){case 180:D=-1,O=0,R=0,K=1;break;case 90:D=0,O=1,R=1,K=0;break;case 270:D=0,O=-1,R=-1,K=0;break;case 0:D=1,O=0,R=0,K=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(R=-R,K=-K);let et,ot,Q,o;D===0?(et=Math.abs(A-X[1])*Y+ht,ot=Math.abs(l-X[0])*Y+I,Q=(X[3]-X[1])*Y,o=(X[2]-X[0])*Y):(et=Math.abs(l-X[0])*Y+ht,ot=Math.abs(A-X[1])*Y+I,Q=(X[2]-X[0])*Y,o=(X[3]-X[1])*Y),this.transform=[D*Y,O*Y,R*Y,K*Y,et-D*Y*l-R*Y*A,ot-O*Y*l-K*Y*A],this.width=Q,this.height=o}get rawDims(){const{viewBox:X}=this;return(0,S.shadow)(this,"rawDims",{pageWidth:X[2]-X[0],pageHeight:X[3]-X[1],pageX:X[0],pageY:X[1]})}clone({scale:X=this.scale,rotation:Y=this.rotation,offsetX:st=this.offsetX,offsetY:ht=this.offsetY,dontFlip:I=!1}={}){return new y({viewBox:this.viewBox.slice(),scale:X,rotation:Y,offsetX:st,offsetY:ht,dontFlip:I})}convertToViewportPoint(X,Y){return S.Util.applyTransform([X,Y],this.transform)}convertToViewportRectangle(X){const Y=S.Util.applyTransform([X[0],X[1]],this.transform),st=S.Util.applyTransform([X[2],X[3]],this.transform);return[Y[0],Y[1],st[0],st[1]]}convertToPdfPoint(X,Y){return S.Util.applyInverseTransform([X,Y],this.transform)}}i.PageViewport=y;class b extends S.BaseException{constructor(X,Y,st=0){super(X,"RenderingCancelledException"),this.type=Y,this.extraDelay=st}}i.RenderingCancelledException=b;function m(tt){const X=tt.length;let Y=0;for(;Y<X&&tt[Y].trim()==="";)Y++;return tt.substring(Y,Y+5).toLowerCase()==="data:"}function r(tt){return typeof tt=="string"&&/\.pdf$/i.test(tt)}function h(tt,X=!1){return X||([tt]=tt.split(/[#?]/,1)),tt.substring(tt.lastIndexOf("/")+1)}function g(tt,X="document.pdf"){if(typeof tt!="string")return X;if(m(tt))return(0,S.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),X;const Y=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,st=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ht=Y.exec(tt);let I=st.exec(ht[1])||st.exec(ht[2])||st.exec(ht[3]);if(I&&(I=I[0],I.includes("%")))try{I=st.exec(decodeURIComponent(I))[0]}catch{}return I||X}class s{constructor(){Et(this,"started",Object.create(null));Et(this,"times",[])}time(X){X in this.started&&(0,S.warn)(`Timer is already running for ${X}`),this.started[X]=Date.now()}timeEnd(X){X in this.started||(0,S.warn)(`Timer has not been started for ${X}`),this.times.push({name:X,start:this.started[X],end:Date.now()}),delete this.started[X]}toString(){const X=[];let Y=0;for(const{name:st}of this.times)Y=Math.max(st.length,Y);for(const{name:st,start:ht,end:I}of this.times)X.push(`${st.padEnd(Y)} ${I-ht}ms
`);return X.join("")}}i.StatTimer=s;function a(tt,X){try{const{protocol:Y}=X?new URL(tt,X):new URL(tt);return Y==="http:"||Y==="https:"}catch{return!1}}function t(tt,X=!1){return new Promise((Y,st)=>{const ht=document.createElement("script");ht.src=tt,ht.onload=function(I){X&&ht.remove(),Y(I)},ht.onerror=function(){st(new Error(`Cannot load script at: ${ht.src}`))},(document.head||document.documentElement).append(ht)})}function n(tt){console.log("Deprecated API usage: "+tt)}let v;class e{static toDateObject(X){if(!X||typeof X!="string")return null;v||(v=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Y=v.exec(X);if(!Y)return null;const st=parseInt(Y[1],10);let ht=parseInt(Y[2],10);ht=ht>=1&&ht<=12?ht-1:0;let I=parseInt(Y[3],10);I=I>=1&&I<=31?I:1;let u=parseInt(Y[4],10);u=u>=0&&u<=23?u:0;let l=parseInt(Y[5],10);l=l>=0&&l<=59?l:0;let A=parseInt(Y[6],10);A=A>=0&&A<=59?A:0;const D=Y[7]||"Z";let O=parseInt(Y[8],10);O=O>=0&&O<=23?O:0;let R=parseInt(Y[9],10)||0;return R=R>=0&&R<=59?R:0,D==="-"?(u+=O,l+=R):D==="+"&&(u-=O,l-=R),new Date(Date.UTC(st,ht,I,u,l,A))}}i.PDFDateString=e;function x(tt,{scale:X=1,rotation:Y=0}){const{width:st,height:ht}=tt.attributes.style,I=[0,0,parseInt(st),parseInt(ht)];return new y({viewBox:I,scale:X,rotation:Y})}function L(tt){if(tt.startsWith("#")){const X=parseInt(tt.slice(1),16);return[(X&16711680)>>16,(X&65280)>>8,X&255]}return tt.startsWith("rgb(")?tt.slice(4,-1).split(",").map(X=>parseInt(X)):tt.startsWith("rgba(")?tt.slice(5,-1).split(",").map(X=>parseInt(X)).slice(0,3):((0,S.warn)(`Not a valid color format: "${tt}"`),[0,0,0])}function G(tt){const X=document.createElement("span");X.style.visibility="hidden",document.body.append(X);for(const Y of tt.keys()){X.style.color=Y;const st=window.getComputedStyle(X).color;tt.set(Y,L(st))}X.remove()}function at(tt){const{a:X,b:Y,c:st,d:ht,e:I,f:u}=tt.getTransform();return[X,Y,st,ht,I,u]}function mt(tt){const{a:X,b:Y,c:st,d:ht,e:I,f:u}=tt.getTransform().invertSelf();return[X,Y,st,ht,I,u]}function rt(tt,X,Y=!1,st=!0){if(X instanceof y){const{pageWidth:ht,pageHeight:I}=X.rawDims,{style:u}=tt,l=`calc(var(--scale-factor) * ${ht}px)`,A=`calc(var(--scale-factor) * ${I}px)`;!Y||X.rotation%180===0?(u.width=l,u.height=A):(u.width=A,u.height=l)}st&&tt.setAttribute("data-main-rotation",X.rotation)}},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var c=P(1);class S{constructor(){this.constructor===S&&(0,c.unreachable)("Cannot initialize BaseCanvasFactory.")}create(E,T){if(E<=0||T<=0)throw new Error("Invalid canvas size");const j=this._createCanvas(E,T);return{canvas:j,context:j.getContext("2d")}}reset(E,T,j){if(!E.canvas)throw new Error("Canvas is not specified");if(T<=0||j<=0)throw new Error("Invalid canvas size");E.canvas.width=T,E.canvas.height=j}destroy(E){if(!E.canvas)throw new Error("Canvas is not specified");E.canvas.width=0,E.canvas.height=0,E.canvas=null,E.context=null}_createCanvas(E,T){(0,c.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=S;class H{constructor({baseUrl:E=null,isCompressed:T=!0}){this.constructor===H&&(0,c.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=E,this.isCompressed=T}async fetch({name:E}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!E)throw new Error("CMap name must be specified.");const T=this.baseUrl+E+(this.isCompressed?".bcmap":""),j=this.isCompressed?c.CMapCompressionType.BINARY:c.CMapCompressionType.NONE;return this._fetchData(T,j).catch(k=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${T}`)})}_fetchData(E,T){(0,c.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=H;class B{constructor({baseUrl:E=null}){this.constructor===B&&(0,c.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=E}async fetch({filename:E}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!E)throw new Error("Font filename must be specified.");const T=`${this.baseUrl}${E}`;return this._fetchData(T).catch(j=>{throw new Error(`Unable to load font data at: ${T}`)})}_fetchData(E){(0,c.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=B;class Z{constructor(){this.constructor===Z&&(0,c.unreachable)("Cannot initialize BaseSVGFactory.")}create(E,T,j=!1){if(E<=0||T<=0)throw new Error("Invalid SVG dimensions");const k=this._createSVG("svg:svg");return k.setAttribute("version","1.1"),j||(k.setAttribute("width",`${E}px`),k.setAttribute("height",`${T}px`)),k.setAttribute("preserveAspectRatio","none"),k.setAttribute("viewBox",`0 0 ${E} ${T}`),k}createElement(E){if(typeof E!="string")throw new Error("Invalid SVG element type");return this._createSVG(E)}_createSVG(E){(0,c.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=Z},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var c=P(1);const S=3285377520,H=4294901760,B=65535;class Z{constructor(E){this.h1=E?E&4294967295:S,this.h2=E?E&4294967295:S}update(E){let T,j;if(typeof E=="string"){T=new Uint8Array(E.length*2),j=0;for(let v=0,e=E.length;v<e;v++){const x=E.charCodeAt(v);x<=255?T[j++]=x:(T[j++]=x>>>8,T[j++]=x&255)}}else if((0,c.isArrayBuffer)(E))T=E.slice(),j=T.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const k=j>>2,y=j-k*4,b=new Uint32Array(T.buffer,0,k);let m=0,r=0,h=this.h1,g=this.h2;const s=3432918353,a=461845907,t=s&B,n=a&B;for(let v=0;v<k;v++)v&1?(m=b[v],m=m*s&H|m*t&B,m=m<<15|m>>>17,m=m*a&H|m*n&B,h^=m,h=h<<13|h>>>19,h=h*5+3864292196):(r=b[v],r=r*s&H|r*t&B,r=r<<15|r>>>17,r=r*a&H|r*n&B,g^=r,g=g<<13|g>>>19,g=g*5+3864292196);switch(m=0,y){case 3:m^=T[k*4+2]<<16;case 2:m^=T[k*4+1]<<8;case 1:m^=T[k*4],m=m*s&H|m*t&B,m=m<<15|m>>>17,m=m*a&H|m*n&B,k&1?h^=m:g^=m}this.h1=h,this.h2=g}hexdigest(){let E=this.h1,T=this.h2;return E^=T>>>1,E=E*3981806797&H|E*36045&B,T=T*4283543511&H|((T<<16|E>>>16)*2950163797&H)>>>16,E^=T>>>1,E=E*444984403&H|E*60499&B,T=T*3301882366&H|((T<<16|E>>>16)*3120437893&H)>>>16,E^=T>>>1,(E>>>0).toString(16).padStart(8,"0")+(T>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=Z},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var c=P(1),S=P(10);class H{constructor({onUnsupportedFeature:z,ownerDocument:E=globalThis.document,styleElement:T=null}){this._onUnsupportedFeature=z,this._document=E,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(z){this.nativeFontFaces.push(z),this._document.fonts.add(z)}insertRule(z){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const E=this.styleElement.sheet;E.insertRule(z,E.cssRules.length)}clear(){for(const z of this.nativeFontFaces)this._document.fonts.delete(z);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(z){if(z.attached||z.missingFile)return;if(z.attached=!0,this.isFontLoadingAPISupported){const T=z.createNativeFontFace();if(T){this.addNativeFontFace(T);try{await T.loaded}catch(j){throw this._onUnsupportedFeature({featureId:c.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,c.warn)(`Failed to load font '${T.family}': '${j}'.`),z.disableFontFace=!0,j}}return}const E=z.createFontFaceRule();if(E){if(this.insertRule(E),this.isSyncFontLoadingSupported)return;await new Promise(T=>{const j=this._queueLoadingCallback(T);this._prepareFontLoadEvent(z,j)})}}get isFontLoadingAPISupported(){var E;const z=!!((E=this._document)!=null&&E.fonts);return(0,c.shadow)(this,"isFontLoadingAPISupported",z)}get isSyncFontLoadingSupported(){let z=!1;return(S.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(z=!0),(0,c.shadow)(this,"isSyncFontLoadingSupported",z)}_queueLoadingCallback(z){function E(){for((0,c.assert)(!j.done,"completeRequest() cannot be called twice."),j.done=!0;T.length>0&&T[0].done;){const k=T.shift();setTimeout(k.callback,0)}}const{loadingRequests:T}=this,j={done:!1,complete:E,callback:z};return T.push(j),j}get _loadTestFont(){const z=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,c.shadow)(this,"_loadTestFont",z)}_prepareFontLoadEvent(z,E){function T(G,at){return G.charCodeAt(at)<<24|G.charCodeAt(at+1)<<16|G.charCodeAt(at+2)<<8|G.charCodeAt(at+3)&255}function j(G,at,mt,rt){const lt=G.substring(0,at),tt=G.substring(at+mt);return lt+rt+tt}let k,y;const b=this._document.createElement("canvas");b.width=1,b.height=1;const m=b.getContext("2d");let r=0;function h(G,at){if(++r>30){(0,c.warn)("Load test font never loaded."),at();return}if(m.font="30px "+G,m.fillText(".",0,20),m.getImageData(0,0,1,1).data[3]>0){at();return}setTimeout(h.bind(null,G,at))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let s=this._loadTestFont;s=j(s,976,g.length,g);const t=16,n=1482184792;let v=T(s,t);for(k=0,y=g.length-3;k<y;k+=4)v=v-n+T(g,k)|0;k<g.length&&(v=v-n+T(g+"XXX",k)|0),s=j(s,t,4,(0,c.string32)(v));const e=`url(data:font/opentype;base64,${btoa(s)});`,x=`@font-face {font-family:"${g}";src:${e}}`;this.insertRule(x);const L=this._document.createElement("div");L.style.visibility="hidden",L.style.width=L.style.height="10px",L.style.position="absolute",L.style.top=L.style.left="0px";for(const G of[z.loadedName,g]){const at=this._document.createElement("span");at.textContent="Hi",at.style.fontFamily=G,L.append(at)}this._document.body.append(L),h(g,()=>{L.remove(),E.complete()})}}i.FontLoader=H;class B{constructor(z,{isEvalSupported:E=!0,disableFontFace:T=!1,ignoreErrors:j=!1,onUnsupportedFeature:k,fontRegistry:y=null}){this.compiledGlyphs=Object.create(null);for(const b in z)this[b]=z[b];this.isEvalSupported=E!==!1,this.disableFontFace=T===!0,this.ignoreErrors=j===!0,this._onUnsupportedFeature=k,this.fontRegistry=y}createNativeFontFace(){var E;if(!this.data||this.disableFontFace)return null;let z;if(!this.cssFontInfo)z=new FontFace(this.loadedName,this.data,{});else{const T={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(T.style=`oblique ${this.cssFontInfo.italicAngle}deg`),z=new FontFace(this.cssFontInfo.fontFamily,this.data,T)}return(E=this.fontRegistry)==null||E.registerFont(this),z}createFontFaceRule(){var j;if(!this.data||this.disableFontFace)return null;const z=(0,c.bytesToString)(this.data),E=`url(data:${this.mimetype};base64,${btoa(z)});`;let T;if(!this.cssFontInfo)T=`@font-face {font-family:"${this.loadedName}";src:${E}}`;else{let k=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(k+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),T=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${k}src:${E}}`}return(j=this.fontRegistry)==null||j.registerFont(this,E),T}getPathGenerator(z,E){if(this.compiledGlyphs[E]!==void 0)return this.compiledGlyphs[E];let T;try{T=z.get(this.loadedName+"_path_"+E)}catch(j){if(!this.ignoreErrors)throw j;return this._onUnsupportedFeature({featureId:c.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,c.warn)(`getPathGenerator - ignoring character: "${j}".`),this.compiledGlyphs[E]=function(k,y){}}if(this.isEvalSupported&&c.FeatureTest.isEvalSupported){const j=[];for(const k of T){const y=k.args!==void 0?k.args.join(","):"";j.push("c.",k.cmd,"(",y,`);
`)}return this.compiledGlyphs[E]=new Function("c","size",j.join(""))}return this.compiledGlyphs[E]=function(j,k){for(const y of T)y.cmd==="scale"&&(y.args=[k,-k]),j[y.cmd].apply(j,y.args)}}}i.FontFaceObject=B},(f,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isNodeJS=void 0;const P=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=P},(f,i,P)=>{var Y,se;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var c=P(1),S=P(6),H=P(12),B=P(13);const Z=16,z=100,E=4096,T=15,j=10,k=1e3,y=16;function b(I,u){if(I._removeMirroring)throw new Error("Context is already forwarding operations.");I.__originalSave=I.save,I.__originalRestore=I.restore,I.__originalRotate=I.rotate,I.__originalScale=I.scale,I.__originalTranslate=I.translate,I.__originalTransform=I.transform,I.__originalSetTransform=I.setTransform,I.__originalResetTransform=I.resetTransform,I.__originalClip=I.clip,I.__originalMoveTo=I.moveTo,I.__originalLineTo=I.lineTo,I.__originalBezierCurveTo=I.bezierCurveTo,I.__originalRect=I.rect,I.__originalClosePath=I.closePath,I.__originalBeginPath=I.beginPath,I._removeMirroring=()=>{I.save=I.__originalSave,I.restore=I.__originalRestore,I.rotate=I.__originalRotate,I.scale=I.__originalScale,I.translate=I.__originalTranslate,I.transform=I.__originalTransform,I.setTransform=I.__originalSetTransform,I.resetTransform=I.__originalResetTransform,I.clip=I.__originalClip,I.moveTo=I.__originalMoveTo,I.lineTo=I.__originalLineTo,I.bezierCurveTo=I.__originalBezierCurveTo,I.rect=I.__originalRect,I.closePath=I.__originalClosePath,I.beginPath=I.__originalBeginPath,delete I._removeMirroring},I.save=function(){u.save(),this.__originalSave()},I.restore=function(){u.restore(),this.__originalRestore()},I.translate=function(A,D){u.translate(A,D),this.__originalTranslate(A,D)},I.scale=function(A,D){u.scale(A,D),this.__originalScale(A,D)},I.transform=function(A,D,O,R,K,et){u.transform(A,D,O,R,K,et),this.__originalTransform(A,D,O,R,K,et)},I.setTransform=function(A,D,O,R,K,et){u.setTransform(A,D,O,R,K,et),this.__originalSetTransform(A,D,O,R,K,et)},I.resetTransform=function(){u.resetTransform(),this.__originalResetTransform()},I.rotate=function(A){u.rotate(A),this.__originalRotate(A)},I.clip=function(A){u.clip(A),this.__originalClip(A)},I.moveTo=function(l,A){u.moveTo(l,A),this.__originalMoveTo(l,A)},I.lineTo=function(l,A){u.lineTo(l,A),this.__originalLineTo(l,A)},I.bezierCurveTo=function(l,A,D,O,R,K){u.bezierCurveTo(l,A,D,O,R,K),this.__originalBezierCurveTo(l,A,D,O,R,K)},I.rect=function(l,A,D,O){u.rect(l,A,D,O),this.__originalRect(l,A,D,O)},I.closePath=function(){u.closePath(),this.__originalClosePath()},I.beginPath=function(){u.beginPath(),this.__originalBeginPath()}}class m{constructor(u){this.canvasFactory=u,this.cache=Object.create(null)}getCanvas(u,l,A){let D;return this.cache[u]!==void 0?(D=this.cache[u],this.canvasFactory.reset(D,l,A)):(D=this.canvasFactory.create(l,A),this.cache[u]=D),D}delete(u){delete this.cache[u]}clear(){for(const u in this.cache){const l=this.cache[u];this.canvasFactory.destroy(l),delete this.cache[u]}}}function r(I,u,l,A,D,O,R,K,et,ot){const[Q,o,d,w,C,p]=(0,S.getCurrentTransform)(I);if(o===0&&d===0){const q=R*Q+C,nt=Math.round(q),F=K*w+p,W=Math.round(F),N=(R+et)*Q+C,V=Math.abs(Math.round(N)-nt)||1,it=(K+ot)*w+p,ut=Math.abs(Math.round(it)-W)||1;return I.setTransform(Math.sign(Q),0,0,Math.sign(w),nt,W),I.drawImage(u,l,A,D,O,0,0,V,ut),I.setTransform(Q,o,d,w,C,p),[V,ut]}if(Q===0&&w===0){const q=K*d+C,nt=Math.round(q),F=R*o+p,W=Math.round(F),N=(K+ot)*d+C,V=Math.abs(Math.round(N)-nt)||1,it=(R+et)*o+p,ut=Math.abs(Math.round(it)-W)||1;return I.setTransform(0,Math.sign(o),Math.sign(d),0,nt,W),I.drawImage(u,l,A,D,O,0,0,ut,V),I.setTransform(Q,o,d,w,C,p),[ut,V]}I.drawImage(u,l,A,D,O,R,K,et,ot);const M=Math.hypot(Q,o),U=Math.hypot(d,w);return[M*et,U*ot]}function h(I){const{width:u,height:l}=I;if(u>k||l>k)return null;const A=1e3,D=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),O=u+1;let R=new Uint8Array(O*(l+1)),K,et,ot;const Q=u+7&-8;let o=new Uint8Array(Q*l),d=0;for(const U of I.data){let q=128;for(;q>0;)o[d++]=U&q?0:255,q>>=1}let w=0;for(d=0,o[d]!==0&&(R[0]=1,++w),et=1;et<u;et++)o[d]!==o[d+1]&&(R[et]=o[d]?2:1,++w),d++;for(o[d]!==0&&(R[et]=2,++w),K=1;K<l;K++){d=K*Q,ot=K*O,o[d-Q]!==o[d]&&(R[ot]=o[d]?1:8,++w);let U=(o[d]?4:0)+(o[d-Q]?8:0);for(et=1;et<u;et++)U=(U>>2)+(o[d+1]?4:0)+(o[d-Q+1]?8:0),D[U]&&(R[ot+et]=D[U],++w),d++;if(o[d-Q]!==o[d]&&(R[ot+et]=o[d]?2:4,++w),w>A)return null}for(d=Q*(l-1),ot=K*O,o[d]!==0&&(R[ot]=8,++w),et=1;et<u;et++)o[d]!==o[d+1]&&(R[ot+et]=o[d]?4:8,++w),d++;if(o[d]!==0&&(R[ot+et]=4,++w),w>A)return null;const C=new Int32Array([0,O,-1,0,-O,0,0,0,1]),p=new Path2D;for(K=0;w&&K<=l;K++){let U=K*O;const q=U+u;for(;U<q&&!R[U];)U++;if(U===q)continue;p.moveTo(U%O,K);const nt=U;let F=R[U];do{const W=C[F];do U+=W;while(!R[U]);const N=R[U];N!==5&&N!==10?(F=N,R[U]=0):(F=N&51*F>>4,R[U]&=F>>2|F<<2),p.lineTo(U%O,U/O|0),R[U]||--w}while(nt!==U);--K}return o=null,R=null,function(U){U.save(),U.scale(1/u,-1/l),U.translate(0,-l),U.fill(p),U.beginPath(),U.restore()}}class g{constructor(u,l){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=c.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=c.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,u,l])}clone(){const u=Object.create(this);return u.clipBox=this.clipBox.slice(),u}setCurrentPoint(u,l){this.x=u,this.y=l}updatePathMinMax(u,l,A){[l,A]=c.Util.applyTransform([l,A],u),this.minX=Math.min(this.minX,l),this.minY=Math.min(this.minY,A),this.maxX=Math.max(this.maxX,l),this.maxY=Math.max(this.maxY,A)}updateRectMinMax(u,l){const A=c.Util.applyTransform(l,u),D=c.Util.applyTransform(l.slice(2),u);this.minX=Math.min(this.minX,A[0],D[0]),this.minY=Math.min(this.minY,A[1],D[1]),this.maxX=Math.max(this.maxX,A[0],D[0]),this.maxY=Math.max(this.maxY,A[1],D[1])}updateScalingPathMinMax(u,l){c.Util.scaleMinMax(u,l),this.minX=Math.min(this.minX,l[0]),this.maxX=Math.max(this.maxX,l[1]),this.minY=Math.min(this.minY,l[2]),this.maxY=Math.max(this.maxY,l[3])}updateCurvePathMinMax(u,l,A,D,O,R,K,et,ot,Q){const o=c.Util.bezierBoundingBox(l,A,D,O,R,K,et,ot);if(Q){Q[0]=Math.min(Q[0],o[0],o[2]),Q[1]=Math.max(Q[1],o[0],o[2]),Q[2]=Math.min(Q[2],o[1],o[3]),Q[3]=Math.max(Q[3],o[1],o[3]);return}this.updateRectMinMax(u,o)}getPathBoundingBox(u=H.PathType.FILL,l=null){const A=[this.minX,this.minY,this.maxX,this.maxY];if(u===H.PathType.STROKE){l||(0,c.unreachable)("Stroke bounding box must include transform.");const D=c.Util.singularValueDecompose2dScale(l),O=D[0]*this.lineWidth/2,R=D[1]*this.lineWidth/2;A[0]-=O,A[1]-=R,A[2]+=O,A[3]+=R}return A}updateClipFromPath(){const u=c.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(u||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(u){this.clipBox=u,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(u=H.PathType.FILL,l=null){return c.Util.intersect(this.clipBox,this.getPathBoundingBox(u,l))}}function s(I,u,l=null){if(typeof ImageData<"u"&&u instanceof ImageData){I.putImageData(u,0,0);return}const A=u.height,D=u.width,O=A%y,R=(A-O)/y,K=O===0?R:R+1,et=I.createImageData(D,y);let ot=0,Q;const o=u.data,d=et.data;let w,C,p,M,U,q,nt,F;if(l)switch(l.length){case 1:U=l[0],q=l[0],nt=l[0],F=l[0];break;case 4:U=l[0],q=l[1],nt=l[2],F=l[3];break}if(u.kind===c.ImageKind.GRAYSCALE_1BPP){const W=o.byteLength,N=new Uint32Array(d.buffer,0,d.byteLength>>2),V=N.length,it=D+7>>3;let ut=4294967295,ft=c.FeatureTest.isLittleEndian?4278190080:255;for(F&&F[0]===255&&F[255]===0&&([ut,ft]=[ft,ut]),w=0;w<K;w++){for(p=w<R?y:O,Q=0,C=0;C<p;C++){const bt=W-ot;let yt=0;const xt=bt>it?D:bt*8-7,ct=xt&-8;let J=0,$=0;for(;yt<ct;yt+=8)$=o[ot++],N[Q++]=$&128?ut:ft,N[Q++]=$&64?ut:ft,N[Q++]=$&32?ut:ft,N[Q++]=$&16?ut:ft,N[Q++]=$&8?ut:ft,N[Q++]=$&4?ut:ft,N[Q++]=$&2?ut:ft,N[Q++]=$&1?ut:ft;for(;yt<xt;yt++)J===0&&($=o[ot++],J=128),N[Q++]=$&J?ut:ft,J>>=1}for(;Q<V;)N[Q++]=0;I.putImageData(et,0,w*y)}}else if(u.kind===c.ImageKind.RGBA_32BPP){const W=!!(U||q||nt);for(C=0,M=D*y*4,w=0;w<R;w++){if(d.set(o.subarray(ot,ot+M)),ot+=M,W)for(let N=0;N<M;N+=4)U&&(d[N+0]=U[d[N+0]]),q&&(d[N+1]=q[d[N+1]]),nt&&(d[N+2]=nt[d[N+2]]);I.putImageData(et,0,C),C+=y}if(w<K){if(M=D*O*4,d.set(o.subarray(ot,ot+M)),W)for(let N=0;N<M;N+=4)U&&(d[N+0]=U[d[N+0]]),q&&(d[N+1]=q[d[N+1]]),nt&&(d[N+2]=nt[d[N+2]]);I.putImageData(et,0,C)}}else if(u.kind===c.ImageKind.RGB_24BPP){const W=!!(U||q||nt);for(p=y,M=D*p,w=0;w<K;w++){for(w>=R&&(p=O,M=D*p),Q=0,C=M;C--;)d[Q++]=o[ot++],d[Q++]=o[ot++],d[Q++]=o[ot++],d[Q++]=255;if(W)for(let N=0;N<Q;N+=4)U&&(d[N+0]=U[d[N+0]]),q&&(d[N+1]=q[d[N+1]]),nt&&(d[N+2]=nt[d[N+2]]);I.putImageData(et,0,w*y)}}else throw new Error(`bad image kind: ${u.kind}`)}function a(I,u){if(u.bitmap){I.drawImage(u.bitmap,0,0);return}const l=u.height,A=u.width,D=l%y,O=(l-D)/y,R=D===0?O:O+1,K=I.createImageData(A,y);let et=0;const ot=u.data,Q=K.data;for(let o=0;o<R;o++){const d=o<O?y:D;({srcPos:et}=(0,B.applyMaskImageData)({src:ot,srcPos:et,dest:Q,width:A,height:d})),I.putImageData(K,0,o*y)}}function t(I,u){const l=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const A of l)I[A]!==void 0&&(u[A]=I[A]);I.setLineDash!==void 0&&(u.setLineDash(I.getLineDash()),u.lineDashOffset=I.lineDashOffset)}function n(I,u){I.strokeStyle=I.fillStyle=u||"#000000",I.fillRule="nonzero",I.globalAlpha=1,I.lineWidth=1,I.lineCap="butt",I.lineJoin="miter",I.miterLimit=10,I.globalCompositeOperation="source-over",I.font="10px sans-serif",I.setLineDash!==void 0&&(I.setLineDash([]),I.lineDashOffset=0)}function v(I,u,l,A){const D=I.length;for(let O=3;O<D;O+=4){const R=I[O];if(R===0)I[O-3]=u,I[O-2]=l,I[O-1]=A;else if(R<255){const K=255-R;I[O-3]=I[O-3]*R+u*K>>8,I[O-2]=I[O-2]*R+l*K>>8,I[O-1]=I[O-1]*R+A*K>>8}}}function e(I,u,l){const A=I.length,D=1/255;for(let O=3;O<A;O+=4){const R=l?l[I[O]]:I[O];u[O]=u[O]*R*D|0}}function x(I,u,l){const A=I.length;for(let D=3;D<A;D+=4){const O=I[D-3]*77+I[D-2]*152+I[D-1]*28;u[D]=l?u[D]*l[O>>8]>>8:u[D]*O>>16}}function L(I,u,l,A,D,O,R,K,et,ot,Q){const o=!!O,d=o?O[0]:0,w=o?O[1]:0,C=o?O[2]:0;let p;D==="Luminosity"?p=x:p=e;const U=Math.min(A,Math.ceil(1048576/l));for(let q=0;q<A;q+=U){const nt=Math.min(U,A-q),F=I.getImageData(K-ot,q+(et-Q),l,nt),W=u.getImageData(K,q+et,l,nt);o&&v(F.data,d,w,C),p(F.data,W.data,R),u.putImageData(W,K,q+et)}}function G(I,u,l,A){const D=A[0],O=A[1],R=A[2]-D,K=A[3]-O;R===0||K===0||(L(u.context,l,R,K,u.subtype,u.backdrop,u.transferMap,D,O,u.offsetX,u.offsetY),I.save(),I.globalAlpha=1,I.globalCompositeOperation="source-over",I.setTransform(1,0,0,1,0,0),I.drawImage(l.canvas,0,0),I.restore())}function at(I,u){const l=c.Util.singularValueDecompose2dScale(I);l[0]=Math.fround(l[0]),l[1]=Math.fround(l[1]);const A=Math.fround((globalThis.devicePixelRatio||1)*S.PixelsPerInch.PDF_TO_CSS_UNITS);return u!==void 0?u:l[0]<=A||l[1]<=A}const mt=["butt","round","square"],rt=["miter","round","bevel"],lt={},tt={},ht=class ht{constructor(u,l,A,D,{optionalContentConfig:O,markedContentStack:R=null},K,et){pt(this,Y);this.ctx=u,this.current=new g(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=l,this.objs=A,this.canvasFactory=D,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=R||[],this.optionalContentConfig=O,this.cachedCanvases=new m(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=K,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(et==null?void 0:et.background)||null,this.foregroundColor=(et==null?void 0:et.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(u,l=null){return typeof u=="string"?u.startsWith("g_")?this.commonObjs.get(u):this.objs.get(u):l}beginDrawing({transform:u,viewport:l,transparency:A=!1,background:D=null}){const O=this.ctx.canvas.width,R=this.ctx.canvas.height,K=D||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const et=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ot=this.backgroundColor=this.ctx.fillStyle;let Q=!0,o=K;if(this.ctx.fillStyle=K,o=this.ctx.fillStyle,Q=typeof o=="string"&&/^#[0-9A-Fa-f]{6}$/.test(o),et==="#000000"&&ot==="#ffffff"||et===ot||!Q)this.foregroundColor=this.backgroundColor=null;else{const[d,w,C]=(0,S.getRGB)(o),p=U=>(U/=255,U<=.03928?U/12.92:((U+.055)/1.055)**2.4),M=Math.round(.2126*p(d)+.7152*p(w)+.0722*p(C));this.selectColor=(U,q,nt)=>{const F=.2126*p(U)+.7152*p(q)+.0722*p(nt);return Math.round(F)===M?ot:et}}}if(this.ctx.fillStyle=this.backgroundColor||K,this.ctx.fillRect(0,0,O,R),this.ctx.restore(),A){const et=this.cachedCanvases.getCanvas("transparent",O,R);this.compositeCtx=this.ctx,this.transparentCanvas=et.canvas,this.ctx=et.context,this.ctx.save(),this.ctx.transform(...(0,S.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),n(this.ctx,this.foregroundColor),u&&(this.ctx.transform(...u),this.outputScaleX=u[0],this.outputScaleY=u[0]),this.ctx.transform(...l.transform),this.viewportScale=l.scale,this.baseTransform=(0,S.getCurrentTransform)(this.ctx)}executeOperatorList(u,l,A,D){const O=u.argsArray,R=u.fnArray;let K=l||0;const et=O.length;if(et===K)return K;const ot=et-K>j&&typeof A=="function",Q=ot?Date.now()+T:0;let o=0;const d=this.commonObjs,w=this.objs;let C;for(;;){if(D!==void 0&&K===D.nextBreakPoint)return D.breakIt(K,A),K;if(C=R[K],C!==c.OPS.dependency)this[C].apply(this,O[K]);else for(const p of O[K]){const M=p.startsWith("g_")?d:w;if(!M.has(p))return M.get(p,A),K}if(K++,K===et)return K;if(ot&&++o>j){if(Date.now()>Q)return A(),K;o=0}}}endDrawing(){dt(this,Y,se).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const u of this._cachedBitmapsMap.values()){for(const l of u.values())typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement&&(l.width=l.height=0);u.clear()}this._cachedBitmapsMap.clear()}_scaleImage(u,l){const A=u.width,D=u.height;let O=Math.max(Math.hypot(l[0],l[1]),1),R=Math.max(Math.hypot(l[2],l[3]),1),K=A,et=D,ot="prescale1",Q,o;for(;O>2&&K>1||R>2&&et>1;){let d=K,w=et;O>2&&K>1&&(d=Math.ceil(K/2),O/=K/d),R>2&&et>1&&(w=Math.ceil(et/2),R/=et/w),Q=this.cachedCanvases.getCanvas(ot,d,w),o=Q.context,o.clearRect(0,0,d,w),o.drawImage(u,0,0,K,et,0,0,d,w),u=Q.canvas,K=d,et=w,ot=ot==="prescale1"?"prescale2":"prescale1"}return{img:u,paintWidth:K,paintHeight:et}}_createMaskCanvas(u){const l=this.ctx,{width:A,height:D}=u,O=this.current.fillColor,R=this.current.patternFill,K=(0,S.getCurrentTransform)(l);let et,ot,Q,o;if((u.bitmap||u.data)&&u.count>1){const V=u.bitmap||u.data.buffer;ot=JSON.stringify(R?K:[K.slice(0,4),O]),et=this._cachedBitmapsMap.get(V),et||(et=new Map,this._cachedBitmapsMap.set(V,et));const it=et.get(ot);if(it&&!R){const ut=Math.round(Math.min(K[0],K[2])+K[4]),ft=Math.round(Math.min(K[1],K[3])+K[5]);return{canvas:it,offsetX:ut,offsetY:ft}}Q=it}Q||(o=this.cachedCanvases.getCanvas("maskCanvas",A,D),a(o.context,u));let d=c.Util.transform(K,[1/A,0,0,-1/D,0,0]);d=c.Util.transform(d,[1,0,0,1,0,-D]);const w=c.Util.applyTransform([0,0],d),C=c.Util.applyTransform([A,D],d),p=c.Util.normalizeRect([w[0],w[1],C[0],C[1]]),M=Math.round(p[2]-p[0])||1,U=Math.round(p[3]-p[1])||1,q=this.cachedCanvases.getCanvas("fillCanvas",M,U),nt=q.context,F=Math.min(w[0],C[0]),W=Math.min(w[1],C[1]);nt.translate(-F,-W),nt.transform(...d),Q||(Q=this._scaleImage(o.canvas,(0,S.getCurrentTransformInverse)(nt)),Q=Q.img,et&&R&&et.set(ot,Q)),nt.imageSmoothingEnabled=at((0,S.getCurrentTransform)(nt),u.interpolate),r(nt,Q,0,0,Q.width,Q.height,0,0,A,D),nt.globalCompositeOperation="source-in";const N=c.Util.transform((0,S.getCurrentTransformInverse)(nt),[1,0,0,1,-F,-W]);return nt.fillStyle=R?O.getPattern(l,this,N,H.PathType.FILL):O,nt.fillRect(0,0,A,D),et&&!R&&(this.cachedCanvases.delete("fillCanvas"),et.set(ot,q.canvas)),{canvas:q.canvas,offsetX:Math.round(F),offsetY:Math.round(W)}}setLineWidth(u){u!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=u,this.ctx.lineWidth=u}setLineCap(u){this.ctx.lineCap=mt[u]}setLineJoin(u){this.ctx.lineJoin=rt[u]}setMiterLimit(u){this.ctx.miterLimit=u}setDash(u,l){const A=this.ctx;A.setLineDash!==void 0&&(A.setLineDash(u),A.lineDashOffset=l)}setRenderingIntent(u){}setFlatness(u){}setGState(u){for(const[l,A]of u)switch(l){case"LW":this.setLineWidth(A);break;case"LC":this.setLineCap(A);break;case"LJ":this.setLineJoin(A);break;case"ML":this.setMiterLimit(A);break;case"D":this.setDash(A[0],A[1]);break;case"RI":this.setRenderingIntent(A);break;case"FL":this.setFlatness(A);break;case"Font":this.setFont(A[0],A[1]);break;case"CA":this.current.strokeAlpha=A;break;case"ca":this.current.fillAlpha=A,this.ctx.globalAlpha=A;break;case"BM":this.ctx.globalCompositeOperation=A;break;case"SMask":this.current.activeSMask=A?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=A}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const u=this.inSMaskMode;this.current.activeSMask&&!u?this.beginSMaskMode():!this.current.activeSMask&&u&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const u=this.ctx.canvas.width,l=this.ctx.canvas.height,A="smaskGroupAt"+this.groupLevel,D=this.cachedCanvases.getCanvas(A,u,l);this.suspendedCtx=this.ctx,this.ctx=D.context;const O=this.ctx;O.setTransform(...(0,S.getCurrentTransform)(this.suspendedCtx)),t(this.suspendedCtx,O),b(O,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),t(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(u){if(!this.current.activeSMask)return;u?(u[0]=Math.floor(u[0]),u[1]=Math.floor(u[1]),u[2]=Math.ceil(u[2]),u[3]=Math.ceil(u[3])):u=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const l=this.current.activeSMask,A=this.suspendedCtx;G(A,l,this.ctx,u),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(t(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const u=this.current;this.stateStack.push(u),this.current=u.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),t(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(u,l,A,D,O,R){this.ctx.transform(u,l,A,D,O,R),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(u,l,A){const D=this.ctx,O=this.current;let R=O.x,K=O.y,et,ot;const Q=(0,S.getCurrentTransform)(D),o=Q[0]===0&&Q[3]===0||Q[1]===0&&Q[2]===0,d=o?A.slice(0):null;for(let w=0,C=0,p=u.length;w<p;w++)switch(u[w]|0){case c.OPS.rectangle:R=l[C++],K=l[C++];const M=l[C++],U=l[C++],q=R+M,nt=K+U;D.moveTo(R,K),M===0||U===0?D.lineTo(q,nt):(D.lineTo(q,K),D.lineTo(q,nt),D.lineTo(R,nt)),o||O.updateRectMinMax(Q,[R,K,q,nt]),D.closePath();break;case c.OPS.moveTo:R=l[C++],K=l[C++],D.moveTo(R,K),o||O.updatePathMinMax(Q,R,K);break;case c.OPS.lineTo:R=l[C++],K=l[C++],D.lineTo(R,K),o||O.updatePathMinMax(Q,R,K);break;case c.OPS.curveTo:et=R,ot=K,R=l[C+4],K=l[C+5],D.bezierCurveTo(l[C],l[C+1],l[C+2],l[C+3],R,K),O.updateCurvePathMinMax(Q,et,ot,l[C],l[C+1],l[C+2],l[C+3],R,K,d),C+=6;break;case c.OPS.curveTo2:et=R,ot=K,D.bezierCurveTo(R,K,l[C],l[C+1],l[C+2],l[C+3]),O.updateCurvePathMinMax(Q,et,ot,R,K,l[C],l[C+1],l[C+2],l[C+3],d),R=l[C+2],K=l[C+3],C+=4;break;case c.OPS.curveTo3:et=R,ot=K,R=l[C+2],K=l[C+3],D.bezierCurveTo(l[C],l[C+1],R,K,R,K),O.updateCurvePathMinMax(Q,et,ot,l[C],l[C+1],R,K,R,K,d),C+=4;break;case c.OPS.closePath:D.closePath();break}o&&O.updateScalingPathMinMax(Q,d),O.setCurrentPoint(R,K)}closePath(){this.ctx.closePath()}stroke(u=!0){const l=this.ctx,A=this.current.strokeColor;l.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof A=="object"&&(A!=null&&A.getPattern)?(l.save(),l.strokeStyle=A.getPattern(l,this,(0,S.getCurrentTransformInverse)(l),H.PathType.STROKE),this.rescaleAndStroke(!1),l.restore()):this.rescaleAndStroke(!0)),u&&this.consumePath(this.current.getClippedPathBoundingBox()),l.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(u=!0){const l=this.ctx,A=this.current.fillColor,D=this.current.patternFill;let O=!1;D&&(l.save(),l.fillStyle=A.getPattern(l,this,(0,S.getCurrentTransformInverse)(l),H.PathType.FILL),O=!0);const R=this.current.getClippedPathBoundingBox();this.contentVisible&&R!==null&&(this.pendingEOFill?(l.fill("evenodd"),this.pendingEOFill=!1):l.fill()),O&&l.restore(),u&&this.consumePath(R)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=lt}eoClip(){this.pendingClip=tt}beginText(){this.current.textMatrix=c.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const u=this.pendingTextPaths,l=this.ctx;if(u===void 0){l.beginPath();return}l.save(),l.beginPath();for(const A of u)l.setTransform(...A.transform),l.translate(A.x,A.y),A.addToPath(l,A.fontSize);l.restore(),l.clip(),l.beginPath(),delete this.pendingTextPaths}setCharSpacing(u){this.current.charSpacing=u}setWordSpacing(u){this.current.wordSpacing=u}setHScale(u){this.current.textHScale=u/100}setLeading(u){this.current.leading=-u}setFont(u,l){const A=this.commonObjs.get(u),D=this.current;if(!A)throw new Error(`Can't find font for ${u}`);if(D.fontMatrix=A.fontMatrix||c.FONT_IDENTITY_MATRIX,(D.fontMatrix[0]===0||D.fontMatrix[3]===0)&&(0,c.warn)("Invalid font matrix for font "+u),l<0?(l=-l,D.fontDirection=-1):D.fontDirection=1,this.current.font=A,this.current.fontSize=l,A.isType3Font)return;const O=A.loadedName||"sans-serif";let R="normal";A.black?R="900":A.bold&&(R="bold");const K=A.italic?"italic":"normal",et=`"${O}", ${A.fallbackName}`;let ot=l;l<Z?ot=Z:l>z&&(ot=z),this.current.fontSizeScale=l/ot,this.ctx.font=`${K} ${R} ${ot}px ${et}`}setTextRenderingMode(u){this.current.textRenderingMode=u}setTextRise(u){this.current.textRise=u}moveText(u,l){this.current.x=this.current.lineX+=u,this.current.y=this.current.lineY+=l}setLeadingMoveText(u,l){this.setLeading(-l),this.moveText(u,l)}setTextMatrix(u,l,A,D,O,R){this.current.textMatrix=[u,l,A,D,O,R],this.current.textMatrixScale=Math.hypot(u,l),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(u,l,A,D){const O=this.ctx,R=this.current,K=R.font,et=R.textRenderingMode,ot=R.fontSize/R.fontSizeScale,Q=et&c.TextRenderingMode.FILL_STROKE_MASK,o=!!(et&c.TextRenderingMode.ADD_TO_PATH_FLAG),d=R.patternFill&&!K.missingFile;let w;(K.disableFontFace||o||d)&&(w=K.getPathGenerator(this.commonObjs,u)),K.disableFontFace||d?(O.save(),O.translate(l,A),O.beginPath(),w(O,ot),D&&O.setTransform(...D),(Q===c.TextRenderingMode.FILL||Q===c.TextRenderingMode.FILL_STROKE)&&O.fill(),(Q===c.TextRenderingMode.STROKE||Q===c.TextRenderingMode.FILL_STROKE)&&O.stroke(),O.restore()):((Q===c.TextRenderingMode.FILL||Q===c.TextRenderingMode.FILL_STROKE)&&O.fillText(u,l,A),(Q===c.TextRenderingMode.STROKE||Q===c.TextRenderingMode.FILL_STROKE)&&O.strokeText(u,l,A)),o&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,S.getCurrentTransform)(O),x:l,y:A,fontSize:ot,addToPath:w})}get isFontSubpixelAAEnabled(){const{context:u}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);u.scale(1.5,1),u.fillText("I",0,10);const l=u.getImageData(0,0,10,10).data;let A=!1;for(let D=3;D<l.length;D+=4)if(l[D]>0&&l[D]<255){A=!0;break}return(0,c.shadow)(this,"isFontSubpixelAAEnabled",A)}showText(u){const l=this.current,A=l.font;if(A.isType3Font)return this.showType3Text(u);const D=l.fontSize;if(D===0)return;const O=this.ctx,R=l.fontSizeScale,K=l.charSpacing,et=l.wordSpacing,ot=l.fontDirection,Q=l.textHScale*ot,o=u.length,d=A.vertical,w=d?1:-1,C=A.defaultVMetrics,p=D*l.fontMatrix[0],M=l.textRenderingMode===c.TextRenderingMode.FILL&&!A.disableFontFace&&!l.patternFill;O.save(),O.transform(...l.textMatrix),O.translate(l.x,l.y+l.textRise),ot>0?O.scale(Q,-1):O.scale(Q,1);let U;if(l.patternFill){O.save();const N=l.fillColor.getPattern(O,this,(0,S.getCurrentTransformInverse)(O),H.PathType.FILL);U=(0,S.getCurrentTransform)(O),O.restore(),O.fillStyle=N}let q=l.lineWidth;const nt=l.textMatrixScale;if(nt===0||q===0){const N=l.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;(N===c.TextRenderingMode.STROKE||N===c.TextRenderingMode.FILL_STROKE)&&(q=this.getSinglePixelWidth())}else q/=nt;if(R!==1&&(O.scale(R,R),q/=R),O.lineWidth=q,A.isInvalidPDFjsFont){const N=[];let V=0;for(const it of u)N.push(it.unicode),V+=it.width;O.fillText(N.join(""),0,0),l.x+=V*p*Q,O.restore(),this.compose();return}let F=0,W;for(W=0;W<o;++W){const N=u[W];if(typeof N=="number"){F+=w*N*D/1e3;continue}let V=!1;const it=(N.isSpace?et:0)+K,ut=N.fontChar,ft=N.accent;let bt,yt,xt=N.width;if(d){const J=N.vmetric||C,$=-(N.vmetric?J[1]:xt*.5)*p,gt=J[2]*p;xt=J?-J[0]:xt,bt=$/R,yt=(F+gt)/R}else bt=F/R,yt=0;if(A.remeasure&&xt>0){const J=O.measureText(ut).width*1e3/D*R;if(xt<J&&this.isFontSubpixelAAEnabled){const $=xt/J;V=!0,O.save(),O.scale($,1),bt/=$}else xt!==J&&(bt+=(xt-J)/2e3*D/R)}if(this.contentVisible&&(N.isInFont||A.missingFile)){if(M&&!ft)O.fillText(ut,bt,yt);else if(this.paintChar(ut,bt,yt,U),ft){const J=bt+D*ft.offset.x/R,$=yt-D*ft.offset.y/R;this.paintChar(ft.fontChar,J,$,U)}}let ct;d?ct=xt*p-it*ot:ct=xt*p+it*ot,F+=ct,V&&O.restore()}d?l.y-=F:l.x+=F*Q,O.restore(),this.compose()}showType3Text(u){const l=this.ctx,A=this.current,D=A.font,O=A.fontSize,R=A.fontDirection,K=D.vertical?1:-1,et=A.charSpacing,ot=A.wordSpacing,Q=A.textHScale*R,o=A.fontMatrix||c.FONT_IDENTITY_MATRIX,d=u.length,w=A.textRenderingMode===c.TextRenderingMode.INVISIBLE;let C,p,M,U;if(!(w||O===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,l.save(),l.transform(...A.textMatrix),l.translate(A.x,A.y),l.scale(Q,R),C=0;C<d;++C){if(p=u[C],typeof p=="number"){U=K*p*O/1e3,this.ctx.translate(U,0),A.x+=U*Q;continue}const q=(p.isSpace?ot:0)+et,nt=D.charProcOperatorList[p.operatorListId];if(!nt){(0,c.warn)(`Type3 character "${p.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=p,this.save(),l.scale(O,O),l.transform(...o),this.executeOperatorList(nt),this.restore()),M=c.Util.applyTransform([p.width,0],o)[0]*O+q,l.translate(M,0),A.x+=M*Q}l.restore(),this.processingType3=null}}setCharWidth(u,l){}setCharWidthAndBounds(u,l,A,D,O,R){this.ctx.rect(A,D,O-A,R-D),this.ctx.clip(),this.endPath()}getColorN_Pattern(u){let l;if(u[0]==="TilingPattern"){const A=u[1],D=this.baseTransform||(0,S.getCurrentTransform)(this.ctx),O={createCanvasGraphics:R=>new ht(R,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};l=new H.TilingPattern(u,A,this.ctx,O,D)}else l=this._getPattern(u[1],u[2]);return l}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(u,l,A){var O;const D=((O=this.selectColor)==null?void 0:O.call(this,u,l,A))||c.Util.makeHexColor(u,l,A);this.ctx.strokeStyle=D,this.current.strokeColor=D}setFillRGBColor(u,l,A){var O;const D=((O=this.selectColor)==null?void 0:O.call(this,u,l,A))||c.Util.makeHexColor(u,l,A);this.ctx.fillStyle=D,this.current.fillColor=D,this.current.patternFill=!1}_getPattern(u,l=null){let A;return this.cachedPatterns.has(u)?A=this.cachedPatterns.get(u):(A=(0,H.getShadingPattern)(this.objs.get(u)),this.cachedPatterns.set(u,A)),l&&(A.matrix=l),A}shadingFill(u){if(!this.contentVisible)return;const l=this.ctx;this.save();const A=this._getPattern(u);l.fillStyle=A.getPattern(l,this,(0,S.getCurrentTransformInverse)(l),H.PathType.SHADING);const D=(0,S.getCurrentTransformInverse)(l);if(D){const O=l.canvas,R=O.width,K=O.height,et=c.Util.applyTransform([0,0],D),ot=c.Util.applyTransform([0,K],D),Q=c.Util.applyTransform([R,0],D),o=c.Util.applyTransform([R,K],D),d=Math.min(et[0],ot[0],Q[0],o[0]),w=Math.min(et[1],ot[1],Q[1],o[1]),C=Math.max(et[0],ot[0],Q[0],o[0]),p=Math.max(et[1],ot[1],Q[1],o[1]);this.ctx.fillRect(d,w,C-d,p-w)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,c.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,c.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(u,l){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(u)&&u.length===6&&this.transform(...u),this.baseTransform=(0,S.getCurrentTransform)(this.ctx),l)){const A=l[2]-l[0],D=l[3]-l[1];this.ctx.rect(l[0],l[1],A,D),this.current.updateRectMinMax((0,S.getCurrentTransform)(this.ctx),l),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(u){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const l=this.ctx;u.isolated||(0,c.info)("TODO: Support non-isolated groups."),u.knockout&&(0,c.warn)("Knockout groups not supported.");const A=(0,S.getCurrentTransform)(l);if(u.matrix&&l.transform(...u.matrix),!u.bbox)throw new Error("Bounding box is required.");let D=c.Util.getAxialAlignedBoundingBox(u.bbox,(0,S.getCurrentTransform)(l));const O=[0,0,l.canvas.width,l.canvas.height];D=c.Util.intersect(D,O)||[0,0,0,0];const R=Math.floor(D[0]),K=Math.floor(D[1]);let et=Math.max(Math.ceil(D[2])-R,1),ot=Math.max(Math.ceil(D[3])-K,1),Q=1,o=1;et>E&&(Q=et/E,et=E),ot>E&&(o=ot/E,ot=E),this.current.startNewPathAndClipBox([0,0,et,ot]);let d="groupAt"+this.groupLevel;u.smask&&(d+="_smask_"+this.smaskCounter++%2);const w=this.cachedCanvases.getCanvas(d,et,ot),C=w.context;C.scale(1/Q,1/o),C.translate(-R,-K),C.transform(...A),u.smask?this.smaskStack.push({canvas:w.canvas,context:C,offsetX:R,offsetY:K,scaleX:Q,scaleY:o,subtype:u.smask.subtype,backdrop:u.smask.backdrop,transferMap:u.smask.transferMap||null,startTransformInverse:null}):(l.setTransform(1,0,0,1,0,0),l.translate(R,K),l.scale(Q,o),l.save()),t(l,C),this.ctx=C,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(l),this.groupLevel++}endGroup(u){if(!this.contentVisible)return;this.groupLevel--;const l=this.ctx,A=this.groupStack.pop();if(this.ctx=A,this.ctx.imageSmoothingEnabled=!1,u.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const D=(0,S.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...D);const O=c.Util.getAxialAlignedBoundingBox([0,0,l.canvas.width,l.canvas.height],D);this.ctx.drawImage(l.canvas,0,0),this.ctx.restore(),this.compose(O)}}beginAnnotation(u,l,A,D,O){if(dt(this,Y,se).call(this),n(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(l)&&l.length===4){const R=l[2]-l[0],K=l[3]-l[1];if(O&&this.annotationCanvasMap){A=A.slice(),A[4]-=l[0],A[5]-=l[1],l=l.slice(),l[0]=l[1]=0,l[2]=R,l[3]=K;const[et,ot]=c.Util.singularValueDecompose2dScale((0,S.getCurrentTransform)(this.ctx)),{viewportScale:Q}=this,o=Math.ceil(R*this.outputScaleX*Q),d=Math.ceil(K*this.outputScaleY*Q);this.annotationCanvas=this.canvasFactory.create(o,d);const{canvas:w,context:C}=this.annotationCanvas;this.annotationCanvasMap.set(u,w),this.annotationCanvas.savedCtx=this.ctx,this.ctx=C,this.ctx.setTransform(et,0,0,-ot,0,K*ot),n(this.ctx,this.foregroundColor)}else n(this.ctx,this.foregroundColor),this.ctx.rect(l[0],l[1],R,K),this.ctx.clip(),this.endPath()}this.current=new g(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...A),this.transform(...D)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(u){if(!this.contentVisible)return;const l=u.count;u=this.getObject(u.data,u),u.count=l;const A=this.ctx,D=this.processingType3;if(D&&(D.compiled===void 0&&(D.compiled=h(u)),D.compiled)){D.compiled(A);return}const O=this._createMaskCanvas(u),R=O.canvas;A.save(),A.setTransform(1,0,0,1,0,0),A.drawImage(R,O.offsetX,O.offsetY),A.restore(),this.compose()}paintImageMaskXObjectRepeat(u,l,A=0,D=0,O,R){if(!this.contentVisible)return;u=this.getObject(u.data,u);const K=this.ctx;K.save();const et=(0,S.getCurrentTransform)(K);K.transform(l,A,D,O,0,0);const ot=this._createMaskCanvas(u);K.setTransform(1,0,0,1,ot.offsetX-et[4],ot.offsetY-et[5]);for(let Q=0,o=R.length;Q<o;Q+=2){const d=c.Util.transform(et,[l,A,D,O,R[Q],R[Q+1]]),[w,C]=c.Util.applyTransform([0,0],d);K.drawImage(ot.canvas,w,C)}K.restore(),this.compose()}paintImageMaskXObjectGroup(u){if(!this.contentVisible)return;const l=this.ctx,A=this.current.fillColor,D=this.current.patternFill;for(const O of u){const{data:R,width:K,height:et,transform:ot}=O,Q=this.cachedCanvases.getCanvas("maskCanvas",K,et),o=Q.context;o.save();const d=this.getObject(R,O);a(o,d),o.globalCompositeOperation="source-in",o.fillStyle=D?A.getPattern(o,this,(0,S.getCurrentTransformInverse)(l),H.PathType.FILL):A,o.fillRect(0,0,K,et),o.restore(),l.save(),l.transform(...ot),l.scale(1,-1),r(l,Q.canvas,0,0,K,et,0,-1,1,1),l.restore()}this.compose()}paintImageXObject(u){if(!this.contentVisible)return;const l=this.getObject(u);if(!l){(0,c.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(l)}paintImageXObjectRepeat(u,l,A,D){if(!this.contentVisible)return;const O=this.getObject(u);if(!O){(0,c.warn)("Dependent image isn't ready yet");return}const R=O.width,K=O.height,et=[];for(let ot=0,Q=D.length;ot<Q;ot+=2)et.push({transform:[l,0,0,A,D[ot],D[ot+1]],x:0,y:0,w:R,h:K});this.paintInlineImageXObjectGroup(O,et)}paintInlineImageXObject(u){if(!this.contentVisible)return;const l=u.width,A=u.height,D=this.ctx;this.save(),D.scale(1/l,-1/A);let O;if(typeof HTMLElement=="function"&&u instanceof HTMLElement||!u.data)O=u;else{const K=this.cachedCanvases.getCanvas("inlineImage",l,A),et=K.context;s(et,u,this.current.transferMaps),O=K.canvas}const R=this._scaleImage(O,(0,S.getCurrentTransformInverse)(D));D.imageSmoothingEnabled=at((0,S.getCurrentTransform)(D),u.interpolate),r(D,R.img,0,0,R.paintWidth,R.paintHeight,0,-A,l,A),this.compose(),this.restore()}paintInlineImageXObjectGroup(u,l){if(!this.contentVisible)return;const A=this.ctx,D=u.width,O=u.height,R=this.cachedCanvases.getCanvas("inlineImage",D,O),K=R.context;s(K,u,this.current.transferMaps);for(const et of l)A.save(),A.transform(...et.transform),A.scale(1,-1),r(A,R.canvas,et.x,et.y,et.w,et.h,0,-1,1,1),A.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(u){}markPointProps(u,l){}beginMarkedContent(u){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(u,l){u==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(l)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(u){const l=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(u);const A=this.ctx;this.pendingClip&&(l||(this.pendingClip===tt?A.clip("evenodd"):A.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),A.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const u=(0,S.getCurrentTransform)(this.ctx);if(u[1]===0&&u[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(u[0]),Math.abs(u[3]));else{const l=Math.abs(u[0]*u[3]-u[2]*u[1]),A=Math.hypot(u[0],u[2]),D=Math.hypot(u[1],u[3]);this._cachedGetSinglePixelWidth=Math.max(A,D)/l}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:u}=this.current,l=(0,S.getCurrentTransform)(this.ctx);let A,D;if(l[1]===0&&l[2]===0){const O=Math.abs(l[0]),R=Math.abs(l[3]);if(u===0)A=1/O,D=1/R;else{const K=O*u,et=R*u;A=K<1?1/K:1,D=et<1?1/et:1}}else{const O=Math.abs(l[0]*l[3]-l[2]*l[1]),R=Math.hypot(l[0],l[1]),K=Math.hypot(l[2],l[3]);if(u===0)A=K/O,D=R/O;else{const et=u*O;A=K>et?K/et:1,D=R>et?R/et:1}}this._cachedScaleForStroking=[A,D]}return this._cachedScaleForStroking}rescaleAndStroke(u){const{ctx:l}=this,{lineWidth:A}=this.current,[D,O]=this.getScaleForStroking();if(l.lineWidth=A||1,D===1&&O===1){l.stroke();return}let R,K,et;u&&(R=(0,S.getCurrentTransform)(l),K=l.getLineDash().slice(),et=l.lineDashOffset),l.scale(D,O);const ot=Math.max(D,O);l.setLineDash(l.getLineDash().map(Q=>Q/ot)),l.lineDashOffset/=ot,l.stroke(),u&&(l.setTransform(...R),l.setLineDash(K),l.lineDashOffset=et)}isContentVisible(){for(let u=this.markedContentStack.length-1;u>=0;u--)if(!this.markedContentStack[u].visible)return!1;return!0}};Y=new WeakSet,se=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let X=ht;i.CanvasGraphics=X;for(const I in c.OPS)X.prototype[I]!==void 0&&(X.prototype[c.OPS[I]]=X.prototype[I])},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=y;var c=P(1),S=P(6);const H={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=H;function B(r,h){if(!h)return;const g=h[2]-h[0],s=h[3]-h[1],a=new Path2D;a.rect(h[0],h[1],g,s),r.clip(a)}class Z{constructor(){this.constructor===Z&&(0,c.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,c.unreachable)("Abstract method `getPattern` called.")}}class z extends Z{constructor(h){super(),this._type=h[1],this._bbox=h[2],this._colorStops=h[3],this._p0=h[4],this._p1=h[5],this._r0=h[6],this._r1=h[7],this.matrix=null}_createGradient(h){let g;this._type==="axial"?g=h.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(g=h.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)g.addColorStop(s[0],s[1]);return g}getPattern(h,g,s,a){let t;if(a===H.STROKE||a===H.FILL){const n=g.current.getClippedPathBoundingBox(a,(0,S.getCurrentTransform)(h))||[0,0,0,0],v=Math.ceil(n[2]-n[0])||1,e=Math.ceil(n[3]-n[1])||1,x=g.cachedCanvases.getCanvas("pattern",v,e,!0),L=x.context;L.clearRect(0,0,L.canvas.width,L.canvas.height),L.beginPath(),L.rect(0,0,L.canvas.width,L.canvas.height),L.translate(-n[0],-n[1]),s=c.Util.transform(s,[1,0,0,1,n[0],n[1]]),L.transform(...g.baseTransform),this.matrix&&L.transform(...this.matrix),B(L,this._bbox),L.fillStyle=this._createGradient(L),L.fill(),t=h.createPattern(x.canvas,"no-repeat");const G=new DOMMatrix(s);t.setTransform(G)}else B(h,this._bbox),t=this._createGradient(h);return t}}function E(r,h,g,s,a,t,n,v){const e=h.coords,x=h.colors,L=r.data,G=r.width*4;let at;e[g+1]>e[s+1]&&(at=g,g=s,s=at,at=t,t=n,n=at),e[s+1]>e[a+1]&&(at=s,s=a,a=at,at=n,n=v,v=at),e[g+1]>e[s+1]&&(at=g,g=s,s=at,at=t,t=n,n=at);const mt=(e[g]+h.offsetX)*h.scaleX,rt=(e[g+1]+h.offsetY)*h.scaleY,lt=(e[s]+h.offsetX)*h.scaleX,tt=(e[s+1]+h.offsetY)*h.scaleY,X=(e[a]+h.offsetX)*h.scaleX,Y=(e[a+1]+h.offsetY)*h.scaleY;if(rt>=Y)return;const st=x[t],ht=x[t+1],I=x[t+2],u=x[n],l=x[n+1],A=x[n+2],D=x[v],O=x[v+1],R=x[v+2],K=Math.round(rt),et=Math.round(Y);let ot,Q,o,d,w,C,p,M;for(let U=K;U<=et;U++){if(U<tt){let N;U<rt?N=0:N=(rt-U)/(rt-tt),ot=mt-(mt-lt)*N,Q=st-(st-u)*N,o=ht-(ht-l)*N,d=I-(I-A)*N}else{let N;U>Y?N=1:tt===Y?N=0:N=(tt-U)/(tt-Y),ot=lt-(lt-X)*N,Q=u-(u-D)*N,o=l-(l-O)*N,d=A-(A-R)*N}let q;U<rt?q=0:U>Y?q=1:q=(rt-U)/(rt-Y),w=mt-(mt-X)*q,C=st-(st-D)*q,p=ht-(ht-O)*q,M=I-(I-R)*q;const nt=Math.round(Math.min(ot,w)),F=Math.round(Math.max(ot,w));let W=G*U+nt*4;for(let N=nt;N<=F;N++)q=(ot-N)/(ot-w),q<0?q=0:q>1&&(q=1),L[W++]=Q-(Q-C)*q|0,L[W++]=o-(o-p)*q|0,L[W++]=d-(d-M)*q|0,L[W++]=255}}function T(r,h,g){const s=h.coords,a=h.colors;let t,n;switch(h.type){case"lattice":const v=h.verticesPerRow,e=Math.floor(s.length/v)-1,x=v-1;for(t=0;t<e;t++){let L=t*v;for(let G=0;G<x;G++,L++)E(r,g,s[L],s[L+1],s[L+v],a[L],a[L+1],a[L+v]),E(r,g,s[L+v+1],s[L+1],s[L+v],a[L+v+1],a[L+1],a[L+v])}break;case"triangles":for(t=0,n=s.length;t<n;t+=3)E(r,g,s[t],s[t+1],s[t+2],a[t],a[t+1],a[t+2]);break;default:throw new Error("illegal figure")}}class j extends Z{constructor(h){super(),this._coords=h[2],this._colors=h[3],this._figures=h[4],this._bounds=h[5],this._bbox=h[7],this._background=h[8],this.matrix=null}_createMeshCanvas(h,g,s){const v=Math.floor(this._bounds[0]),e=Math.floor(this._bounds[1]),x=Math.ceil(this._bounds[2])-v,L=Math.ceil(this._bounds[3])-e,G=Math.min(Math.ceil(Math.abs(x*h[0]*1.1)),3e3),at=Math.min(Math.ceil(Math.abs(L*h[1]*1.1)),3e3),mt=x/G,rt=L/at,lt={coords:this._coords,colors:this._colors,offsetX:-v,offsetY:-e,scaleX:1/mt,scaleY:1/rt},tt=G+2*2,X=at+2*2,Y=s.getCanvas("mesh",tt,X,!1),st=Y.context,ht=st.createImageData(G,at);if(g){const u=ht.data;for(let l=0,A=u.length;l<A;l+=4)u[l]=g[0],u[l+1]=g[1],u[l+2]=g[2],u[l+3]=255}for(const u of this._figures)T(ht,u,lt);return st.putImageData(ht,2,2),{canvas:Y.canvas,offsetX:v-2*mt,offsetY:e-2*rt,scaleX:mt,scaleY:rt}}getPattern(h,g,s,a){B(h,this._bbox);let t;if(a===H.SHADING)t=c.Util.singularValueDecompose2dScale((0,S.getCurrentTransform)(h));else if(t=c.Util.singularValueDecompose2dScale(g.baseTransform),this.matrix){const v=c.Util.singularValueDecompose2dScale(this.matrix);t=[t[0]*v[0],t[1]*v[1]]}const n=this._createMeshCanvas(t,a===H.SHADING?null:this._background,g.cachedCanvases);return a!==H.SHADING&&(h.setTransform(...g.baseTransform),this.matrix&&h.transform(...this.matrix)),h.translate(n.offsetX,n.offsetY),h.scale(n.scaleX,n.scaleY),h.createPattern(n.canvas,"no-repeat")}}class k extends Z{getPattern(){return"hotpink"}}function y(r){switch(r[0]){case"RadialAxial":return new z(r);case"Mesh":return new j(r);case"Dummy":return new k}throw new Error(`Unknown IR type: ${r[0]}`)}const b={COLORED:1,UNCOLORED:2};class m{static get MAX_PATTERN_SIZE(){return(0,c.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(h,g,s,a,t){this.operatorList=h[2],this.matrix=h[3]||[1,0,0,1,0,0],this.bbox=h[4],this.xstep=h[5],this.ystep=h[6],this.paintType=h[7],this.tilingType=h[8],this.color=g,this.ctx=s,this.canvasGraphicsFactory=a,this.baseTransform=t}createPatternCanvas(h){const g=this.operatorList,s=this.bbox,a=this.xstep,t=this.ystep,n=this.paintType,v=this.tilingType,e=this.color,x=this.canvasGraphicsFactory;(0,c.info)("TilingType: "+v);const L=s[0],G=s[1],at=s[2],mt=s[3],rt=c.Util.singularValueDecompose2dScale(this.matrix),lt=c.Util.singularValueDecompose2dScale(this.baseTransform),tt=[rt[0]*lt[0],rt[1]*lt[1]],X=this.getSizeAndScale(a,this.ctx.canvas.width,tt[0]),Y=this.getSizeAndScale(t,this.ctx.canvas.height,tt[1]),st=h.cachedCanvases.getCanvas("pattern",X.size,Y.size,!0),ht=st.context,I=x.createCanvasGraphics(ht);I.groupLevel=h.groupLevel,this.setFillAndStrokeStyleToContext(I,n,e);let u=L,l=G,A=at,D=mt;return L<0&&(u=0,A+=Math.abs(L)),G<0&&(l=0,D+=Math.abs(G)),ht.translate(-(X.scale*u),-(Y.scale*l)),I.transform(X.scale,0,0,Y.scale,0,0),ht.save(),this.clipBbox(I,u,l,A,D),I.baseTransform=(0,S.getCurrentTransform)(I.ctx),I.executeOperatorList(g),I.endDrawing(),{canvas:st.canvas,scaleX:X.scale,scaleY:Y.scale,offsetX:u,offsetY:l}}getSizeAndScale(h,g,s){h=Math.abs(h);const a=Math.max(m.MAX_PATTERN_SIZE,g);let t=Math.ceil(h*s);return t>=a?t=a:s=t/h,{scale:s,size:t}}clipBbox(h,g,s,a,t){const n=a-g,v=t-s;h.ctx.rect(g,s,n,v),h.current.updateRectMinMax((0,S.getCurrentTransform)(h.ctx),[g,s,a,t]),h.clip(),h.endPath()}setFillAndStrokeStyleToContext(h,g,s){const a=h.ctx,t=h.current;switch(g){case b.COLORED:const n=this.ctx;a.fillStyle=n.fillStyle,a.strokeStyle=n.strokeStyle,t.fillColor=n.fillStyle,t.strokeColor=n.strokeStyle;break;case b.UNCOLORED:const v=c.Util.makeHexColor(s[0],s[1],s[2]);a.fillStyle=v,a.strokeStyle=v,t.fillColor=v,t.strokeColor=v;break;default:throw new c.FormatError(`Unsupported paint type: ${g}`)}}getPattern(h,g,s,a){let t=s;a!==H.SHADING&&(t=c.Util.transform(t,g.baseTransform),this.matrix&&(t=c.Util.transform(t,this.matrix)));const n=this.createPatternCanvas(g);let v=new DOMMatrix(t);v=v.translate(n.offsetX,n.offsetY),v=v.scale(1/n.scaleX,1/n.scaleY);const e=h.createPattern(n.canvas,"repeat");return e.setTransform(v),e}}i.TilingPattern=m},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.applyMaskImageData=S;var c=P(1);function S({src:H,srcPos:B=0,dest:Z,destPos:z=0,width:E,height:T,inverseDecode:j=!1}){const k=c.FeatureTest.isLittleEndian?4278190080:255,[y,b]=j?[0,k]:[k,0],m=E>>3,r=E&7,h=H.length;Z=new Uint32Array(Z.buffer);for(let g=0;g<T;g++){for(const a=B+m;B<a;B++){const t=B<h?H[B]:255;Z[z++]=t&128?b:y,Z[z++]=t&64?b:y,Z[z++]=t&32?b:y,Z[z++]=t&16?b:y,Z[z++]=t&8?b:y,Z[z++]=t&4?b:y,Z[z++]=t&2?b:y,Z[z++]=t&1?b:y}if(r===0)continue;const s=B<h?H[B++]:255;for(let a=0;a<r;a++)Z[z++]=s&1<<7-a?b:y}return{srcPos:B,destPos:z}}},(f,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const P=Object.create(null);i.GlobalWorkerOptions=P,P.workerPort=null,P.workerSrc=""},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var c=P(1);const S={DATA:1,ERROR:2},H={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function B(z){switch(z instanceof Error||typeof z=="object"&&z!==null||(0,c.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),z.name){case"AbortException":return new c.AbortException(z.message);case"MissingPDFException":return new c.MissingPDFException(z.message);case"PasswordException":return new c.PasswordException(z.message,z.code);case"UnexpectedResponseException":return new c.UnexpectedResponseException(z.message,z.status);case"UnknownErrorException":return new c.UnknownErrorException(z.message,z.details);default:return new c.UnknownErrorException(z.message,z.toString())}}class Z{constructor(E,T,j){this.sourceName=E,this.targetName=T,this.comObj=j,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=k=>{const y=k.data;if(y.targetName!==this.sourceName)return;if(y.stream){this._processStreamMessage(y);return}if(y.callback){const m=y.callbackId,r=this.callbackCapabilities[m];if(!r)throw new Error(`Cannot resolve callback ${m}`);if(delete this.callbackCapabilities[m],y.callback===S.DATA)r.resolve(y.data);else if(y.callback===S.ERROR)r.reject(B(y.reason));else throw new Error("Unexpected callback case");return}const b=this.actionHandler[y.action];if(!b)throw new Error(`Unknown action from worker: ${y.action}`);if(y.callbackId){const m=this.sourceName,r=y.sourceName;new Promise(function(h){h(b(y.data))}).then(function(h){j.postMessage({sourceName:m,targetName:r,callback:S.DATA,callbackId:y.callbackId,data:h})},function(h){j.postMessage({sourceName:m,targetName:r,callback:S.ERROR,callbackId:y.callbackId,reason:B(h)})});return}if(y.streamId){this._createStreamSink(y);return}b(y.data)},j.addEventListener("message",this._onComObjOnMessage)}on(E,T){const j=this.actionHandler;if(j[E])throw new Error(`There is already an actionName called "${E}"`);j[E]=T}send(E,T,j){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:E,data:T},j)}sendWithPromise(E,T,j){const k=this.callbackId++,y=(0,c.createPromiseCapability)();this.callbackCapabilities[k]=y;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:E,callbackId:k,data:T},j)}catch(b){y.reject(b)}return y.promise}sendWithStream(E,T,j,k){const y=this.streamId++,b=this.sourceName,m=this.targetName,r=this.comObj;return new ReadableStream({start:h=>{const g=(0,c.createPromiseCapability)();return this.streamControllers[y]={controller:h,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},r.postMessage({sourceName:b,targetName:m,action:E,streamId:y,data:T,desiredSize:h.desiredSize},k),g.promise},pull:h=>{const g=(0,c.createPromiseCapability)();return this.streamControllers[y].pullCall=g,r.postMessage({sourceName:b,targetName:m,stream:H.PULL,streamId:y,desiredSize:h.desiredSize}),g.promise},cancel:h=>{(0,c.assert)(h instanceof Error,"cancel must have a valid reason");const g=(0,c.createPromiseCapability)();return this.streamControllers[y].cancelCall=g,this.streamControllers[y].isClosed=!0,r.postMessage({sourceName:b,targetName:m,stream:H.CANCEL,streamId:y,reason:B(h)}),g.promise}},j)}_createStreamSink(E){const T=E.streamId,j=this.sourceName,k=E.sourceName,y=this.comObj,b=this,m=this.actionHandler[E.action],r={enqueue(h,g=1,s){if(this.isCancelled)return;const a=this.desiredSize;this.desiredSize-=g,a>0&&this.desiredSize<=0&&(this.sinkCapability=(0,c.createPromiseCapability)(),this.ready=this.sinkCapability.promise),y.postMessage({sourceName:j,targetName:k,stream:H.ENQUEUE,streamId:T,chunk:h},s)},close(){this.isCancelled||(this.isCancelled=!0,y.postMessage({sourceName:j,targetName:k,stream:H.CLOSE,streamId:T}),delete b.streamSinks[T])},error(h){(0,c.assert)(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,y.postMessage({sourceName:j,targetName:k,stream:H.ERROR,streamId:T,reason:B(h)}))},sinkCapability:(0,c.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:E.desiredSize,ready:null};r.sinkCapability.resolve(),r.ready=r.sinkCapability.promise,this.streamSinks[T]=r,new Promise(function(h){h(m(E.data,r))}).then(function(){y.postMessage({sourceName:j,targetName:k,stream:H.START_COMPLETE,streamId:T,success:!0})},function(h){y.postMessage({sourceName:j,targetName:k,stream:H.START_COMPLETE,streamId:T,reason:B(h)})})}_processStreamMessage(E){const T=E.streamId,j=this.sourceName,k=E.sourceName,y=this.comObj,b=this.streamControllers[T],m=this.streamSinks[T];switch(E.stream){case H.START_COMPLETE:E.success?b.startCall.resolve():b.startCall.reject(B(E.reason));break;case H.PULL_COMPLETE:E.success?b.pullCall.resolve():b.pullCall.reject(B(E.reason));break;case H.PULL:if(!m){y.postMessage({sourceName:j,targetName:k,stream:H.PULL_COMPLETE,streamId:T,success:!0});break}m.desiredSize<=0&&E.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=E.desiredSize,new Promise(function(r){r(m.onPull&&m.onPull())}).then(function(){y.postMessage({sourceName:j,targetName:k,stream:H.PULL_COMPLETE,streamId:T,success:!0})},function(r){y.postMessage({sourceName:j,targetName:k,stream:H.PULL_COMPLETE,streamId:T,reason:B(r)})});break;case H.ENQUEUE:if((0,c.assert)(b,"enqueue should have stream controller"),b.isClosed)break;b.controller.enqueue(E.chunk);break;case H.CLOSE:if((0,c.assert)(b,"close should have stream controller"),b.isClosed)break;b.isClosed=!0,b.controller.close(),this._deleteStreamController(b,T);break;case H.ERROR:(0,c.assert)(b,"error should have stream controller"),b.controller.error(B(E.reason)),this._deleteStreamController(b,T);break;case H.CANCEL_COMPLETE:E.success?b.cancelCall.resolve():b.cancelCall.reject(B(E.reason)),this._deleteStreamController(b,T);break;case H.CANCEL:if(!m)break;new Promise(function(r){r(m.onCancel&&m.onCancel(B(E.reason)))}).then(function(){y.postMessage({sourceName:j,targetName:k,stream:H.CANCEL_COMPLETE,streamId:T,success:!0})},function(r){y.postMessage({sourceName:j,targetName:k,stream:H.CANCEL_COMPLETE,streamId:T,reason:B(r)})}),m.sinkCapability.reject(B(E.reason)),m.isCancelled=!0,delete this.streamSinks[T];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(E,T){await Promise.allSettled([E.startCall&&E.startCall.promise,E.pullCall&&E.pullCall.promise,E.cancelCall&&E.cancelCall.promise]),delete this.streamControllers[T]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}i.MessageHandler=Z},(f,i,P)=>{var H,B;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var c=P(1);class S{constructor({parsedData:z,rawData:E}){pt(this,H);pt(this,B);vt(this,H,z),vt(this,B,E)}getRaw(){return _(this,B)}get(z){return _(this,H).get(z)??null}getAll(){return(0,c.objectFromMap)(_(this,H))}has(z){return _(this,H).has(z)}}H=new WeakMap,B=new WeakMap,i.Metadata=S},(f,i,P)=>{var z,E,T,j,k,y,re;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var c=P(1),S=P(8);const H=Symbol("INTERNAL");class B{constructor(r,h){pt(this,z,!0);this.name=r,this.intent=h}get visible(){return _(this,z)}_setVisible(r,h){r!==H&&(0,c.unreachable)("Internal method `_setVisible` called."),vt(this,z,h)}}z=new WeakMap;class Z{constructor(r){pt(this,y);pt(this,E,null);pt(this,T,new Map);pt(this,j,null);pt(this,k,null);if(this.name=null,this.creator=null,r!==null){this.name=r.name,this.creator=r.creator,vt(this,k,r.order);for(const h of r.groups)_(this,T).set(h.id,new B(h.name,h.intent));if(r.baseState==="OFF")for(const h of _(this,T).values())h._setVisible(H,!1);for(const h of r.on)_(this,T).get(h)._setVisible(H,!0);for(const h of r.off)_(this,T).get(h)._setVisible(H,!1);vt(this,j,this.getHash())}}isVisible(r){if(_(this,T).size===0)return!0;if(!r)return(0,c.warn)("Optional content group not defined."),!0;if(r.type==="OCG")return _(this,T).has(r.id)?_(this,T).get(r.id).visible:((0,c.warn)(`Optional content group not found: ${r.id}`),!0);if(r.type==="OCMD"){if(r.expression)return dt(this,y,re).call(this,r.expression);if(!r.policy||r.policy==="AnyOn"){for(const h of r.ids){if(!_(this,T).has(h))return(0,c.warn)(`Optional content group not found: ${h}`),!0;if(_(this,T).get(h).visible)return!0}return!1}else if(r.policy==="AllOn"){for(const h of r.ids){if(!_(this,T).has(h))return(0,c.warn)(`Optional content group not found: ${h}`),!0;if(!_(this,T).get(h).visible)return!1}return!0}else if(r.policy==="AnyOff"){for(const h of r.ids){if(!_(this,T).has(h))return(0,c.warn)(`Optional content group not found: ${h}`),!0;if(!_(this,T).get(h).visible)return!0}return!1}else if(r.policy==="AllOff"){for(const h of r.ids){if(!_(this,T).has(h))return(0,c.warn)(`Optional content group not found: ${h}`),!0;if(_(this,T).get(h).visible)return!1}return!0}return(0,c.warn)(`Unknown optional content policy ${r.policy}.`),!0}return(0,c.warn)(`Unknown group type ${r.type}.`),!0}setVisibility(r,h=!0){if(!_(this,T).has(r)){(0,c.warn)(`Optional content group not found: ${r}`);return}_(this,T).get(r)._setVisible(H,!!h),vt(this,E,null)}get hasInitialVisibility(){return this.getHash()===_(this,j)}getOrder(){return _(this,T).size?_(this,k)?_(this,k).slice():[..._(this,T).keys()]:null}getGroups(){return _(this,T).size>0?(0,c.objectFromMap)(_(this,T)):null}getGroup(r){return _(this,T).get(r)||null}getHash(){if(_(this,E)!==null)return _(this,E);const r=new S.MurmurHash3_64;for(const[h,g]of _(this,T))r.update(`${h}:${g.visible}`);return vt(this,E,r.hexdigest())}}E=new WeakMap,T=new WeakMap,j=new WeakMap,k=new WeakMap,y=new WeakSet,re=function(r){const h=r.length;if(h<2)return!0;const g=r[0];for(let s=1;s<h;s++){const a=r[s];let t;if(Array.isArray(a))t=dt(this,y,re).call(this,a);else if(_(this,T).has(a))t=_(this,T).get(a).visible;else return(0,c.warn)(`Optional content group not found: ${a}`),!0;switch(g){case"And":if(!t)return!1;break;case"Or":if(t)return!0;break;case"Not":return!t;default:return!0}}return g==="And"},i.OptionalContentConfig=Z},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var c=P(1),S=P(6);class H{constructor({length:E,initialData:T,progressiveDone:j=!1,contentDispositionFilename:k=null,disableRange:y=!1,disableStream:b=!1},m){if((0,c.assert)(m,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=j,this._contentDispositionFilename=k,(T==null?void 0:T.length)>0){const r=T instanceof Uint8Array&&T.byteLength===T.buffer.byteLength?T.buffer:new Uint8Array(T).buffer;this._queuedChunks.push(r)}this._pdfDataRangeTransport=m,this._isStreamingSupported=!b,this._isRangeSupported=!y,this._contentLength=E,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((r,h)=>{this._onReceiveData({begin:r,chunk:h})}),this._pdfDataRangeTransport.addProgressListener((r,h)=>{this._onProgress({loaded:r,total:h})}),this._pdfDataRangeTransport.addProgressiveReadListener(r=>{this._onReceiveData({chunk:r})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:E,chunk:T}){const j=T instanceof Uint8Array&&T.byteLength===T.buffer.byteLength?T.buffer:new Uint8Array(T).buffer;if(E===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(j):this._queuedChunks.push(j);else{const k=this._rangeReaders.some(function(y){return y._begin!==E?!1:(y._enqueue(j),!0)});(0,c.assert)(k,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var E;return((E=this._fullRequestReader)==null?void 0:E._loaded)??0}_onProgress(E){var T,j,k,y;E.total===void 0?(j=(T=this._rangeReaders[0])==null?void 0:T.onProgress)==null||j.call(T,{loaded:E.loaded}):(y=(k=this._fullRequestReader)==null?void 0:k.onProgress)==null||y.call(k,{loaded:E.loaded,total:E.total})}_onProgressiveDone(){var E;(E=this._fullRequestReader)==null||E.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(E){const T=this._rangeReaders.indexOf(E);T>=0&&this._rangeReaders.splice(T,1)}getFullReader(){(0,c.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const E=this._queuedChunks;return this._queuedChunks=null,new B(this,E,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(E,T){if(T<=this._progressiveDataLength)return null;const j=new Z(this,E,T);return this._pdfDataRangeTransport.requestDataRange(E,T),this._rangeReaders.push(j),j}cancelAllRequests(E){var T;(T=this._fullRequestReader)==null||T.cancel(E);for(const j of this._rangeReaders.slice(0))j.cancel(E);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=H;class B{constructor(E,T,j=!1,k=null){this._stream=E,this._done=j||!1,this._filename=(0,S.isPdfFile)(k)?k:null,this._queuedChunks=T||[],this._loaded=0;for(const y of this._queuedChunks)this._loaded+=y.byteLength;this._requests=[],this._headersReady=Promise.resolve(),E._fullRequestReader=this,this.onProgress=null}_enqueue(E){this._done||(this._requests.length>0?this._requests.shift().resolve({value:E,done:!1}):this._queuedChunks.push(E),this._loaded+=E.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const E=(0,c.createPromiseCapability)();return this._requests.push(E),E.promise}cancel(E){this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Z{constructor(E,T,j){this._stream=E,this._begin=T,this._end=j,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(E){if(!this._done){if(this._requests.length===0)this._queuedChunk=E;else{this._requests.shift().resolve({value:E,done:!1});for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const T=this._queuedChunk;return this._queuedChunk=null,{value:T,done:!1}}if(this._done)return{value:void 0,done:!0};const E=(0,c.createPromiseCapability)();return this._requests.push(E),E.promise}cancel(E){this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(f,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class P{static textContent(S){const H=[],B={items:H,styles:Object.create(null)};function Z(z){var j;if(!z)return;let E=null;const T=z.name;if(T==="#text")E=z.value;else if(P.shouldBuildText(T))(j=z==null?void 0:z.attributes)!=null&&j.textContent?E=z.attributes.textContent:z.value&&(E=z.value);else return;if(E!==null&&H.push({str:E}),!!z.children)for(const k of z.children)Z(k)}return Z(S),B}static shouldBuildText(S){return!(S==="textarea"||S==="input"||S==="option"||S==="select")}}i.XfaText=P},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var c=P(7);const S=function(z){return new Promise((E,T)=>{require$$5.readFile(z,(k,y)=>{if(k||!y){T(new Error(k));return}E(new Uint8Array(y))})})};class H extends c.BaseCanvasFactory{_createCanvas(E,T){return require$$5.createCanvas(E,T)}}i.NodeCanvasFactory=H;class B extends c.BaseCMapReaderFactory{_fetchData(E,T){return S(E).then(j=>({cMapData:j,compressionType:T}))}}i.NodeCMapReaderFactory=B;class Z extends c.BaseStandardFontDataFactory{_fetchData(E){return S(E)}}i.NodeStandardFontDataFactory=Z},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var c=P(1),S=P(22);const H=require$$5,B=require$$5,Z=require$$5,z=require$$5,E=/^file:\/\/\/[a-zA-Z]:\//;function T(s){const a=z.parse(s);return a.protocol==="file:"||a.host?a:/^[a-z]:[/\\]/i.test(s)?z.parse(`file:///${s}`):(a.host||(a.protocol="file:"),a)}class j{constructor(a){this.source=a,this.url=T(a.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&a.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var a;return((a=this._fullRequestReader)==null?void 0:a._loaded)??0}getFullReader(){return(0,c.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new h(this):new m(this),this._fullRequestReader}getRangeReader(a,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new g(this,a,t):new r(this,a,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(a){var t;(t=this._fullRequestReader)==null||t.cancel(a);for(const n of this._rangeRequestReaders.slice(0))n.cancel(a)}}i.PDFNodeStream=j;class k{constructor(a){this._url=a.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=a.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,c.createPromiseCapability)(),this._headersCapability=(0,c.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const a=this._readableStream.read();return a===null?(this._readCapability=(0,c.createPromiseCapability)(),this.read()):(this._loaded+=a.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(a).buffer,done:!1})}cancel(a){if(!this._readableStream){this._error(a);return}this._readableStream.destroy(a)}_error(a){this._storedError=a,this._readCapability.resolve()}_setReadableStream(a){this._readableStream=a,a.on("readable",()=>{this._readCapability.resolve()}),a.on("end",()=>{a.destroy(),this._done=!0,this._readCapability.resolve()}),a.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new c.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class y{constructor(a){this._url=a.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,c.createPromiseCapability)();const t=a.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const a=this._readableStream.read();return a===null?(this._readCapability=(0,c.createPromiseCapability)(),this.read()):(this._loaded+=a.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(a).buffer,done:!1})}cancel(a){if(!this._readableStream){this._error(a);return}this._readableStream.destroy(a)}_error(a){this._storedError=a,this._readCapability.resolve()}_setReadableStream(a){this._readableStream=a,a.on("readable",()=>{this._readCapability.resolve()}),a.on("end",()=>{a.destroy(),this._done=!0,this._readCapability.resolve()}),a.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function b(s,a){return{protocol:s.protocol,auth:s.auth,host:s.hostname,port:s.port,path:s.path,method:"GET",headers:a}}class m extends k{constructor(a){super(a);const t=n=>{if(n.statusCode===404){const L=new c.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=L,this._headersCapability.reject(L);return}this._headersCapability.resolve(),this._setReadableStream(n);const v=L=>this._readableStream.headers[L.toLowerCase()],{allowRangeRequests:e,suggestedLength:x}=(0,S.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:a.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=e,this._contentLength=x||this._contentLength,this._filename=(0,S.extractFilenameFromHeader)(v)};this._request=null,this._url.protocol==="http:"?this._request=B.request(b(this._url,a.httpHeaders),t):this._request=Z.request(b(this._url,a.httpHeaders),t),this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class r extends y{constructor(a,t,n){super(a),this._httpHeaders={};for(const e in a.httpHeaders){const x=a.httpHeaders[e];x!==void 0&&(this._httpHeaders[e]=x)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const v=e=>{if(e.statusCode===404){const x=new c.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=x;return}this._setReadableStream(e)};this._request=null,this._url.protocol==="http:"?this._request=B.request(b(this._url,this._httpHeaders),v):this._request=Z.request(b(this._url,this._httpHeaders),v),this._request.on("error",e=>{this._storedError=e}),this._request.end()}}class h extends k{constructor(a){super(a);let t=decodeURIComponent(this._url.path);E.test(this._url.href)&&(t=t.replace(/^\//,"")),H.lstat(t,(n,v)=>{if(n){n.code==="ENOENT"&&(n=new c.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=n,this._headersCapability.reject(n);return}this._contentLength=v.size,this._setReadableStream(H.createReadStream(t)),this._headersCapability.resolve()})}}class g extends y{constructor(a,t,n){super(a);let v=decodeURIComponent(this._url.path);E.test(this._url.href)&&(v=v.replace(/^\//,"")),this._setReadableStream(H.createReadStream(v,{start:t,end:n-1}))}}},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=z,i.extractFilenameFromHeader=Z,i.validateRangeRequestCapabilities=B,i.validateResponseStatus=E;var c=P(1),S=P(23),H=P(6);function B({getResponseHeader:T,isHttp:j,rangeChunkSize:k,disableRange:y}){const b={allowRangeRequests:!1,suggestedLength:void 0},m=parseInt(T("Content-Length"),10);return!Number.isInteger(m)||(b.suggestedLength=m,m<=2*k)||y||!j||T("Accept-Ranges")!=="bytes"||(T("Content-Encoding")||"identity")!=="identity"||(b.allowRangeRequests=!0),b}function Z(T){const j=T("Content-Disposition");if(j){let k=(0,S.getFilenameFromContentDispositionHeader)(j);if(k.includes("%"))try{k=decodeURIComponent(k)}catch{}if((0,H.isPdfFile)(k))return k}return null}function z(T,j){return T===404||T===0&&j.startsWith("file:")?new c.MissingPDFException('Missing PDF "'+j+'".'):new c.UnexpectedResponseException(`Unexpected server response (${T}) while retrieving PDF "${j}".`,T)}function E(T){return T===200||T===206}},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=S;var c=P(1);function S(H){let B=!0,Z=z("filename\\*","i").exec(H);if(Z){Z=Z[1];let m=k(Z);return m=unescape(m),m=y(m),m=b(m),T(m)}if(Z=j(H),Z){const m=b(Z);return T(m)}if(Z=z("filename","i").exec(H),Z){Z=Z[1];let m=k(Z);return m=b(m),T(m)}function z(m,r){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',r)}function E(m,r){if(m){if(!/^[\x00-\xFF]+$/.test(r))return r;try{const h=new TextDecoder(m,{fatal:!0}),g=(0,c.stringToBytes)(r);r=h.decode(g),B=!1}catch{}}return r}function T(m){return B&&/[\x80-\xff]/.test(m)&&(m=E("utf-8",m),B&&(m=E("iso-8859-1",m))),m}function j(m){const r=[];let h;const g=z("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=g.exec(m))!==null;){let[,a,t,n]=h;if(a=parseInt(a,10),a in r){if(a===0)break;continue}r[a]=[t,n]}const s=[];for(let a=0;a<r.length&&a in r;++a){let[t,n]=r[a];n=k(n),t&&(n=unescape(n),a===0&&(n=y(n))),s.push(n)}return s.join("")}function k(m){if(m.startsWith('"')){const r=m.slice(1).split('\\"');for(let h=0;h<r.length;++h){const g=r[h].indexOf('"');g!==-1&&(r[h]=r[h].slice(0,g),r.length=h+1),r[h]=r[h].replace(/\\(.)/g,"$1")}m=r.join('"')}return m}function y(m){const r=m.indexOf("'");if(r===-1)return m;const h=m.slice(0,r),s=m.slice(r+1).replace(/^[^']*'/,"");return E(h,s)}function b(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(r,h,g,s){if(g==="q"||g==="Q")return s=s.replace(/_/g," "),s=s.replace(/=([0-9a-fA-F]{2})/g,function(a,t){return String.fromCharCode(parseInt(t,16))}),E(h,s);try{s=atob(s)}catch{}return E(h,s)})}return""}},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var c=P(1),S=P(22);const H=200,B=206;function Z(k){const y=k.response;return typeof y!="string"?y:(0,c.stringToBytes)(y).buffer}class z{constructor(y,b={}){this.url=y,this.isHttp=/^https?:/i.test(y),this.httpHeaders=this.isHttp&&b.httpHeaders||Object.create(null),this.withCredentials=b.withCredentials||!1,this.getXhr=b.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(y,b,m){const r={begin:y,end:b};for(const h in m)r[h]=m[h];return this.request(r)}requestFull(y){return this.request(y)}request(y){const b=this.getXhr(),m=this.currXhrId++,r=this.pendingRequests[m]={xhr:b};b.open("GET",this.url),b.withCredentials=this.withCredentials;for(const h in this.httpHeaders){const g=this.httpHeaders[h];g!==void 0&&b.setRequestHeader(h,g)}return this.isHttp&&"begin"in y&&"end"in y?(b.setRequestHeader("Range",`bytes=${y.begin}-${y.end-1}`),r.expectedStatus=B):r.expectedStatus=H,b.responseType="arraybuffer",y.onError&&(b.onerror=function(h){y.onError(b.status)}),b.onreadystatechange=this.onStateChange.bind(this,m),b.onprogress=this.onProgress.bind(this,m),r.onHeadersReceived=y.onHeadersReceived,r.onDone=y.onDone,r.onError=y.onError,r.onProgress=y.onProgress,b.send(null),m}onProgress(y,b){var r;const m=this.pendingRequests[y];m&&((r=m.onProgress)==null||r.call(m,b))}onStateChange(y,b){var a,t,n;const m=this.pendingRequests[y];if(!m)return;const r=m.xhr;if(r.readyState>=2&&m.onHeadersReceived&&(m.onHeadersReceived(),delete m.onHeadersReceived),r.readyState!==4||!(y in this.pendingRequests))return;if(delete this.pendingRequests[y],r.status===0&&this.isHttp){(a=m.onError)==null||a.call(m,r.status);return}const h=r.status||H;if(!(h===H&&m.expectedStatus===B)&&h!==m.expectedStatus){(t=m.onError)==null||t.call(m,r.status);return}const s=Z(r);if(h===B){const v=r.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);m.onDone({begin:parseInt(e[1],10),chunk:s})}else s?m.onDone({begin:0,chunk:s}):(n=m.onError)==null||n.call(m,r.status)}getRequestXhr(y){return this.pendingRequests[y].xhr}isPendingRequest(y){return y in this.pendingRequests}abortRequest(y){const b=this.pendingRequests[y].xhr;delete this.pendingRequests[y],b.abort()}}class E{constructor(y){this._source=y,this._manager=new z(y.url,{httpHeaders:y.httpHeaders,withCredentials:y.withCredentials}),this._rangeChunkSize=y.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(y){const b=this._rangeRequestReaders.indexOf(y);b>=0&&this._rangeRequestReaders.splice(b,1)}getFullReader(){return(0,c.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new T(this._manager,this._source),this._fullRequestReader}getRangeReader(y,b){const m=new j(this._manager,y,b);return m.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(m),m}cancelAllRequests(y){var b;(b=this._fullRequestReader)==null||b.cancel(y);for(const m of this._rangeRequestReaders.slice(0))m.cancel(y)}}i.PDFNetworkStream=E;class T{constructor(y,b){this._manager=y;const m={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._fullRequestId=y.requestFull(m),this._headersReceivedCapability=(0,c.createPromiseCapability)(),this._disableRange=b.disableRange||!1,this._contentLength=b.length,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const y=this._fullRequestId,b=this._manager.getRequestXhr(y),m=g=>b.getResponseHeader(g),{allowRangeRequests:r,suggestedLength:h}=(0,S.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=h||this._contentLength,this._filename=(0,S.extractFilenameFromHeader)(m),this._isRangeSupported&&this._manager.abortRequest(y),this._headersReceivedCapability.resolve()}_onDone(y){if(y&&(this._requests.length>0?this._requests.shift().resolve({value:y.chunk,done:!1}):this._cachedChunks.push(y.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(y){this._storedError=(0,S.createResponseStatusError)(y,this._url),this._headersReceivedCapability.reject(this._storedError);for(const b of this._requests)b.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(y){var b;(b=this.onProgress)==null||b.call(this,{loaded:y.loaded,total:y.lengthComputable?y.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const y=(0,c.createPromiseCapability)();return this._requests.push(y),y.promise}cancel(y){this._done=!0,this._headersReceivedCapability.reject(y);for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class j{constructor(y,b,m){this._manager=y;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=y.url,this._requestId=y.requestRange(b,m,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var y;(y=this.onClosed)==null||y.call(this,this)}_onDone(y){const b=y.chunk;this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunk=b,this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(y){this._storedError=(0,S.createResponseStatusError)(y,this._url);for(const b of this._requests)b.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(y){var b;this.isStreamingSupported||(b=this.onProgress)==null||b.call(this,{loaded:y.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const b=this._queuedChunk;return this._queuedChunk=null,{value:b,done:!1}}if(this._done)return{value:void 0,done:!0};const y=(0,c.createPromiseCapability)();return this._requests.push(y),y.promise}cancel(y){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var c=P(1),S=P(22);function H(j,k,y){return{method:"GET",headers:j,signal:y.signal,mode:"cors",credentials:k?"include":"same-origin",redirect:"follow"}}function B(j){const k=new Headers;for(const y in j){const b=j[y];b!==void 0&&k.append(y,b)}return k}function Z(j){return j instanceof Uint8Array?j.buffer:j instanceof ArrayBuffer?j:((0,c.warn)(`getArrayBuffer - unexpected data format: ${j}`),new Uint8Array(j).buffer)}class z{constructor(k){this.source=k,this.isHttp=/^https?:/i.test(k.url),this.httpHeaders=this.isHttp&&k.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var k;return((k=this._fullRequestReader)==null?void 0:k._loaded)??0}getFullReader(){return(0,c.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new E(this),this._fullRequestReader}getRangeReader(k,y){if(y<=this._progressiveDataLength)return null;const b=new T(this,k,y);return this._rangeRequestReaders.push(b),b}cancelAllRequests(k){var y;(y=this._fullRequestReader)==null||y.cancel(k);for(const b of this._rangeRequestReaders.slice(0))b.cancel(k)}}i.PDFFetchStream=z;class E{constructor(k){this._stream=k,this._reader=null,this._loaded=0,this._filename=null;const y=k.source;this._withCredentials=y.withCredentials||!1,this._contentLength=y.length,this._headersCapability=(0,c.createPromiseCapability)(),this._disableRange=y.disableRange||!1,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!y.disableStream,this._isRangeSupported=!y.disableRange,this._headers=B(this._stream.httpHeaders);const b=y.url;fetch(b,H(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,S.validateResponseStatus)(m.status))throw(0,S.createResponseStatusError)(m.status,b);this._reader=m.body.getReader(),this._headersCapability.resolve();const r=s=>m.headers.get(s),{allowRangeRequests:h,suggestedLength:g}=(0,S.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=g||this._contentLength,this._filename=(0,S.extractFilenameFromHeader)(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new c.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var b;await this._headersCapability.promise;const{value:k,done:y}=await this._reader.read();return y?{value:k,done:y}:(this._loaded+=k.byteLength,(b=this.onProgress)==null||b.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Z(k),done:!1})}cancel(k){var y;(y=this._reader)==null||y.cancel(k),this._abortController.abort()}}class T{constructor(k,y,b){this._stream=k,this._reader=null,this._loaded=0;const m=k.source;this._withCredentials=m.withCredentials||!1,this._readCapability=(0,c.createPromiseCapability)(),this._isStreamingSupported=!m.disableStream,this._abortController=new AbortController,this._headers=B(this._stream.httpHeaders),this._headers.append("Range",`bytes=${y}-${b-1}`);const r=m.url;fetch(r,H(this._headers,this._withCredentials,this._abortController)).then(h=>{if(!(0,S.validateResponseStatus)(h.status))throw(0,S.createResponseStatusError)(h.status,r);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var b;await this._readCapability.promise;const{value:k,done:y}=await this._reader.read();return y?{value:k,done:y}:(this._loaded+=k.byteLength,(b=this.onProgress)==null||b.call(this,{loaded:this._loaded}),{value:Z(k),done:!1})}cancel(k){var y;(y=this._reader)==null||y.cancel(k),this._abortController.abort()}}},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=m,i.updateTextLayer=r;var c=P(1),S=P(6);const H=1e5,B=30,Z=.8,z=new Map;function E(h,g){let s;if(g&&c.FeatureTest.isOffscreenCanvasSupported)s=new OffscreenCanvas(h,h).getContext("2d",{alpha:!1});else{const a=document.createElement("canvas");a.width=a.height=h,s=a.getContext("2d",{alpha:!1})}return s}function T(h,g){const s=z.get(h);if(s)return s;const a=E(B,g);a.font=`${B}px ${h}`;const t=a.measureText("");let n=t.fontBoundingBoxAscent,v=Math.abs(t.fontBoundingBoxDescent);if(n){const x=n/(n+v);return z.set(h,x),a.canvas.width=a.canvas.height=0,x}a.strokeStyle="red",a.clearRect(0,0,B,B),a.strokeText("g",0,0);let e=a.getImageData(0,0,B,B).data;v=0;for(let x=e.length-1-3;x>=0;x-=4)if(e[x]>0){v=Math.ceil(x/4/B);break}a.clearRect(0,0,B,B),a.strokeText("A",0,B),e=a.getImageData(0,0,B,B).data,n=0;for(let x=0,L=e.length;x<L;x+=4)if(e[x]>0){n=B-Math.floor(x/4/B);break}if(a.canvas.width=a.canvas.height=0,n){const x=n/(n+v);return z.set(h,x),x}return z.set(h,Z),Z}function j(h,g,s){const a=document.createElement("span"),t={angle:0,canvasWidth:0,hasText:g.str!=="",hasEOL:g.hasEOL,fontSize:0};h._textDivs.push(a);const n=c.Util.transform(h._transform,g.transform);let v=Math.atan2(n[1],n[0]);const e=s[g.fontName];e.vertical&&(v+=Math.PI/2);const x=Math.hypot(n[2],n[3]),L=x*T(e.fontFamily,h._isOffscreenCanvasSupported);let G,at;v===0?(G=n[4],at=n[5]-L):(G=n[4]+L*Math.sin(v),at=n[5]-L*Math.cos(v));const mt="calc(var(--scale-factor)*",rt=a.style;h._container===h._rootContainer?(rt.left=`${(100*G/h._pageWidth).toFixed(2)}%`,rt.top=`${(100*at/h._pageHeight).toFixed(2)}%`):(rt.left=`${mt}${G.toFixed(2)}px)`,rt.top=`${mt}${at.toFixed(2)}px)`),rt.fontSize=`${mt}${x.toFixed(2)}px)`,rt.fontFamily=e.fontFamily,t.fontSize=x,a.setAttribute("role","presentation"),a.textContent=g.str,a.dir=g.dir,h._fontInspectorEnabled&&(a.dataset.fontName=g.fontName),v!==0&&(t.angle=v*(180/Math.PI));let lt=!1;if(g.str.length>1)lt=!0;else if(g.str!==" "&&g.transform[0]!==g.transform[3]){const tt=Math.abs(g.transform[0]),X=Math.abs(g.transform[3]);tt!==X&&Math.max(tt,X)/Math.min(tt,X)>1.5&&(lt=!0)}lt&&(t.canvasWidth=e.vertical?g.height:g.width),h._textDivProperties.set(a,t),h._isReadableStream&&h._layoutText(a)}function k(h){const{div:g,scale:s,properties:a,ctx:t,prevFontSize:n,prevFontFamily:v}=h,{style:e}=g;let x="";if(a.canvasWidth!==0&&a.hasText){const{fontFamily:L}=e,{canvasWidth:G,fontSize:at}=a;(n!==at||v!==L)&&(t.font=`${at*s}px ${L}`,h.prevFontSize=at,h.prevFontFamily=L);const{width:mt}=t.measureText(g.textContent);mt>0&&(x=`scaleX(${G*s/mt})`)}a.angle!==0&&(x=`rotate(${a.angle}deg) ${x}`),x.length>0&&(e.transform=x)}function y(h){if(h._canceled)return;const g=h._textDivs,s=h._capability;if(g.length>H){s.resolve();return}if(!h._isReadableStream)for(const t of g)h._layoutText(t);s.resolve()}class b{constructor({textContentSource:g,container:s,viewport:a,textDivs:t,textDivProperties:n,textContentItemsStr:v,isOffscreenCanvasSupported:e}){var mt;this._textContentSource=g,this._isReadableStream=g instanceof ReadableStream,this._container=this._rootContainer=s,this._textDivs=t||[],this._textContentItemsStr=v||[],this._isOffscreenCanvasSupported=e,this._fontInspectorEnabled=!!((mt=globalThis.FontInspector)!=null&&mt.enabled),this._reader=null,this._textDivProperties=n||new WeakMap,this._canceled=!1,this._capability=(0,c.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:a.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:E(0,e)};const{pageWidth:x,pageHeight:L,pageX:G,pageY:at}=a.rawDims;this._transform=[1,0,0,-1,-G,at+L],this._pageWidth=x,this._pageHeight=L,(0,S.setLayerDimensions)(s,a),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new c.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new c.AbortException("TextLayer task cancelled."))}_processItems(g,s){for(const a of g){if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const t=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),a.id!==null&&this._container.setAttribute("id",`${a.id}`),t.append(this._container)}else a.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(a.str),j(this,a,s)}}_layoutText(g){const s=this._layoutTextParams.properties=this._textDivProperties.get(g);if(this._layoutTextParams.div=g,k(this._layoutTextParams),s.hasText&&this._container.append(g),s.hasEOL){const a=document.createElement("br");a.setAttribute("role","presentation"),this._container.append(a)}}_render(){const g=(0,c.createPromiseCapability)();let s=Object.create(null);if(this._isReadableStream){const a=()=>{this._reader.read().then(({value:t,done:n})=>{if(n){g.resolve();return}Object.assign(s,t.styles),this._processItems(t.items,s),a()},g.reject)};this._reader=this._textContentSource.getReader(),a()}else if(this._textContentSource){const{items:a,styles:t}=this._textContentSource;this._processItems(a,t),g.resolve()}else throw new Error('No "textContentSource" parameter specified.');g.promise.then(()=>{s=null,y(this)},this._capability.reject)}}i.TextLayerRenderTask=b;function m(h){!h.textContentSource&&(h.textContent||h.textContentStream)&&((0,S.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),h.textContentSource=h.textContent||h.textContentStream);const g=new b(h);return g._render(),g}function r({container:h,viewport:g,textDivs:s,textDivProperties:a,isOffscreenCanvasSupported:t,mustRotate:n=!0,mustRescale:v=!0}){if(n&&(0,S.setLayerDimensions)(h,{rotation:g.rotation}),v){const e=E(0,t),L={prevFontSize:null,prevFontFamily:null,div:null,scale:g.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:e};for(const G of s)L.properties=a.get(G),L.div=G,k(L)}}},(f,i,P)=>{var E,T,j,k,y,b,m,r,h,oe,ke,le,ce;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var c=P(1),S=P(5),H=P(28),B=P(29),Z=P(6);const n=class n{constructor(e){pt(this,h);pt(this,E);pt(this,T,!1);pt(this,j,this.pointerup.bind(this));pt(this,k,this.pointerdown.bind(this));pt(this,y,new Map);pt(this,b,!1);pt(this,m,!1);pt(this,r);n._initialized||(n._initialized=!0,H.FreeTextEditor.initialize(e.l10n),B.InkEditor.initialize(e.l10n)),e.uiManager.registerEditorTypes([H.FreeTextEditor,B.InkEditor]),vt(this,r,e.uiManager),this.pageIndex=e.pageIndex,this.div=e.div,vt(this,E,e.accessibilityManager),_(this,r).addLayer(this)}get isEmpty(){return _(this,y).size===0}updateToolbar(e){_(this,r).updateToolbar(e)}updateMode(e=_(this,r).getMode()){dt(this,h,ce).call(this),e===c.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),_(this,r).unselectAll(),e!==c.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",e===c.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",e===c.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(e){if(!e&&_(this,r).getMode()!==c.AnnotationEditorType.INK)return;if(!e){for(const L of _(this,y).values())if(L.isEmpty()){L.setInBackground();return}}dt(this,h,le).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(e){_(this,r).setEditingState(e)}addCommands(e){_(this,r).addCommands(e)}enable(){this.div.style.pointerEvents="auto";for(const e of _(this,y).values())e.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const e of _(this,y).values())e.disableEditing();dt(this,h,ce).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(e){_(this,r).getActive()!==e&&_(this,r).setActiveEditor(e)}enableClick(){this.div.addEventListener("pointerdown",_(this,k)),this.div.addEventListener("pointerup",_(this,j))}disableClick(){this.div.removeEventListener("pointerdown",_(this,k)),this.div.removeEventListener("pointerup",_(this,j))}attach(e){_(this,y).set(e.id,e)}detach(e){var x;_(this,y).delete(e.id),(x=_(this,E))==null||x.removePointerInTextLayer(e.contentDiv)}remove(e){_(this,r).removeEditor(e),this.detach(e),e.div.style.display="none",setTimeout(()=>{e.div.style.display="",e.div.remove(),e.isAttachedToDOM=!1,document.activeElement===document.body&&_(this,r).focusMainContainer()},0),_(this,m)||this.addInkEditorIfNeeded(!1)}add(e){if(dt(this,h,oe).call(this,e),_(this,r).addEditor(e),this.attach(e),!e.isAttachedToDOM){const x=e.render();this.div.append(x),e.isAttachedToDOM=!0}this.moveEditorInDOM(e),e.onceAdded(),_(this,r).addToAnnotationStorage(e)}moveEditorInDOM(e){var x;(x=_(this,E))==null||x.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?e.rebuild():this.add(e)}addANewEditor(e){const x=()=>{this.addOrRebuild(e)},L=()=>{e.remove()};this.addCommands({cmd:x,undo:L,mustExec:!0})}addUndoableEditor(e){const x=()=>{this.addOrRebuild(e)},L=()=>{e.remove()};this.addCommands({cmd:x,undo:L,mustExec:!1})}getNextId(){return _(this,r).getId()}deserialize(e){switch(e.annotationType){case c.AnnotationEditorType.FREETEXT:return H.FreeTextEditor.deserialize(e,this,_(this,r));case c.AnnotationEditorType.INK:return B.InkEditor.deserialize(e,this,_(this,r))}return null}setSelected(e){_(this,r).setSelected(e)}toggleSelected(e){_(this,r).toggleSelected(e)}isSelected(e){return _(this,r).isSelected(e)}unselect(e){_(this,r).unselect(e)}pointerup(e){const{isMac:x}=c.FeatureTest.platform;if(!(e.button!==0||e.ctrlKey&&x)&&e.target===this.div&&_(this,b)){if(vt(this,b,!1),!_(this,T)){vt(this,T,!0);return}dt(this,h,le).call(this,e)}}pointerdown(e){const{isMac:x}=c.FeatureTest.platform;if(e.button!==0||e.ctrlKey&&x||e.target!==this.div)return;vt(this,b,!0);const L=_(this,r).getActive();vt(this,T,!L||L.isEmpty())}drop(e){const x=e.dataTransfer.getData("text/plain"),L=_(this,r).getEditor(x);if(!L)return;e.preventDefault(),e.dataTransfer.dropEffect="move",dt(this,h,oe).call(this,L);const G=this.div.getBoundingClientRect(),at=e.clientX-G.x,mt=e.clientY-G.y;L.translate(at-L.startX,mt-L.startY),this.moveEditorInDOM(L),L.div.focus()}dragover(e){e.preventDefault()}destroy(){var e,x;((e=_(this,r).getActive())==null?void 0:e.parent)===this&&_(this,r).setActiveEditor(null);for(const L of _(this,y).values())(x=_(this,E))==null||x.removePointerInTextLayer(L.contentDiv),L.setParent(null),L.isAttachedToDOM=!1,L.div.remove();this.div=null,_(this,y).clear(),_(this,r).removeLayer(this)}render({viewport:e}){this.viewport=e,(0,Z.setLayerDimensions)(this.div,e),(0,S.bindEvents)(this,this.div,["dragover","drop"]);for(const x of _(this,r).getEditors(this.pageIndex))this.add(x);this.updateMode()}update({viewport:e}){_(this,r).commitOrRemove(),this.viewport=e,(0,Z.setLayerDimensions)(this.div,{rotation:e.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:e,pageHeight:x}=this.viewport.rawDims;return[e,x]}};E=new WeakMap,T=new WeakMap,j=new WeakMap,k=new WeakMap,y=new WeakMap,b=new WeakMap,m=new WeakMap,r=new WeakMap,h=new WeakSet,oe=function(e){var x;e.parent!==this&&(this.attach(e),(x=e.parent)==null||x.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))},ke=function(e){switch(_(this,r).getMode()){case c.AnnotationEditorType.FREETEXT:return new H.FreeTextEditor(e);case c.AnnotationEditorType.INK:return new B.InkEditor(e)}return null},le=function(e){const x=this.getNextId(),L=dt(this,h,ke).call(this,{parent:this,id:x,x:e.offsetX,y:e.offsetY,uiManager:_(this,r)});return L&&this.add(L),L},ce=function(){vt(this,m,!0);for(const e of _(this,y).values())e.isEmpty()&&e.remove();vt(this,m,!1)},Et(n,"_initialized",!1);let z=n;i.AnnotationEditorLayer=z},(f,i,P)=>{var Z,z,E,T,j,k,y,b,m,r,Te,Pe,Fe,de;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var c=P(1),S=P(5),H=P(4);const t=class t extends H.AnnotationEditor{constructor(e){super({...e,name:"freeTextEditor"});pt(this,r);pt(this,Z,this.editorDivBlur.bind(this));pt(this,z,this.editorDivFocus.bind(this));pt(this,E,this.editorDivInput.bind(this));pt(this,T,this.editorDivKeydown.bind(this));pt(this,j);pt(this,k,"");pt(this,y,`${this.id}-editor`);pt(this,b,!1);pt(this,m);vt(this,j,e.color||t._defaultColor||H.AnnotationEditor._defaultLineColor),vt(this,m,e.fontSize||t._defaultFontSize)}static initialize(e){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(L=>[L,e.get(L)]));const x=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(x.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,x){switch(e){case c.AnnotationEditorParamsType.FREETEXT_SIZE:t._defaultFontSize=x;break;case c.AnnotationEditorParamsType.FREETEXT_COLOR:t._defaultColor=x;break}}updateParams(e,x){switch(e){case c.AnnotationEditorParamsType.FREETEXT_SIZE:dt(this,r,Te).call(this,x);break;case c.AnnotationEditorParamsType.FREETEXT_COLOR:dt(this,r,Pe).call(this,x);break}}static get defaultPropertiesToUpdate(){return[[c.AnnotationEditorParamsType.FREETEXT_SIZE,t._defaultFontSize],[c.AnnotationEditorParamsType.FREETEXT_COLOR,t._defaultColor||H.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[c.AnnotationEditorParamsType.FREETEXT_SIZE,_(this,m)],[c.AnnotationEditorParamsType.FREETEXT_COLOR,_(this,j)]]}getInitialTranslation(){const e=this.parentScale;return[-t._internalPadding*e,-(t._internalPadding+_(this,m))*e]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(c.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_(this,T)),this.editorDiv.addEventListener("focus",_(this,z)),this.editorDiv.addEventListener("blur",_(this,Z)),this.editorDiv.addEventListener("input",_(this,E)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_(this,y)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",_(this,T)),this.editorDiv.removeEventListener("focus",_(this,z)),this.editorDiv.removeEventListener("blur",_(this,Z)),this.editorDiv.removeEventListener("input",_(this,E)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(e){super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),_(this,b)||(vt(this,b,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),vt(this,k,dt(this,r,Fe).call(this).trimEnd()),dt(this,r,de).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(e){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(e){t._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,x;this.width&&(e=this.x,x=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_(this,y)),this.enableEditing(),t._l10nPromise.get("editor_free_text2_aria_label").then(G=>{var at;return(at=this.editorDiv)==null?void 0:at.setAttribute("aria-label",G)}),t._l10nPromise.get("free_text2_default_content").then(G=>{var at;return(at=this.editorDiv)==null?void 0:at.setAttribute("default-content",G)}),this.editorDiv.contentEditable=!0;const{style:L}=this.editorDiv;if(L.fontSize=`calc(${_(this,m)}px * var(--scale-factor))`,L.color=_(this,j),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,S.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[G,at]=this.parentDimensions;this.setAt(e*G,x*at,this.width*G,this.height*at);for(const mt of _(this,k).split(`
`)){const rt=document.createElement("div");rt.append(mt?document.createTextNode(mt):document.createElement("br")),this.editorDiv.append(rt)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(e,x,L){const G=super.deserialize(e,x,L);return vt(G,m,e.fontSize),vt(G,j,c.Util.makeHexColor(...e.color)),vt(G,k,e.value),G}serialize(){if(this.isEmpty())return null;const e=t._internalPadding*this.parentScale,x=this.getRect(e,e),L=H.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_(this,j));return{annotationType:c.AnnotationEditorType.FREETEXT,color:L,fontSize:_(this,m),value:_(this,k),pageIndex:this.pageIndex,rect:x,rotation:this.rotation}}};Z=new WeakMap,z=new WeakMap,E=new WeakMap,T=new WeakMap,j=new WeakMap,k=new WeakMap,y=new WeakMap,b=new WeakMap,m=new WeakMap,r=new WeakSet,Te=function(e){const x=G=>{this.editorDiv.style.fontSize=`calc(${G}px * var(--scale-factor))`,this.translate(0,-(G-_(this,m))*this.parentScale),vt(this,m,G),dt(this,r,de).call(this)},L=_(this,m);this.addCommands({cmd:()=>{x(e)},undo:()=>{x(L)},mustExec:!0,type:c.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Pe=function(e){const x=_(this,j);this.addCommands({cmd:()=>{vt(this,j,this.editorDiv.style.color=e)},undo:()=>{vt(this,j,this.editorDiv.style.color=x)},mustExec:!0,type:c.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Fe=function(){const e=this.editorDiv.getElementsByTagName("div");if(e.length===0)return this.editorDiv.innerText;const x=[];for(const L of e)x.push(L.innerText.replace(/\r\n?|\n/,""));return x.join(`
`)},de=function(){const[e,x]=this.parentDimensions;let L;if(this.isAttachedToDOM)L=this.div.getBoundingClientRect();else{const{currentLayer:G,div:at}=this,mt=at.style.display;at.style.display="hidden",G.div.append(this.div),L=at.getBoundingClientRect(),at.remove(),at.style.display=mt}this.width=L.width/e,this.height=L.height/x},Et(t,"_freeTextDefaultContent",""),Et(t,"_l10nPromise"),Et(t,"_internalPadding",0),Et(t,"_defaultColor",null),Et(t,"_defaultFontSize",10),Et(t,"_keyboardManager",new S.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.prototype.commitOrRemove]])),Et(t,"_type","freetext");let B=t;i.FreeTextEditor=B},(f,i,P)=>{var T,j,k,y,b,m,r,h,g,s,a,t,n,v,e,Re,De,Me,Oe,he,Ie,Le,Ne,Dt,ue,Gt,Xt,Lt,pe,Vt,A,fe,je,Ue,Be,me,Yt,Nt,ge;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0,Object.defineProperty(i,"fitCurve",{enumerable:!0,get:function(){return H.fitCurve}});var c=P(1),S=P(4),H=P(30),B=P(5);const Z=16,z=100,d=class d extends S.AnnotationEditor{constructor(p){super({...p,name:"inkEditor"});pt(this,e);pt(this,T,0);pt(this,j,0);pt(this,k,0);pt(this,y,this.canvasPointermove.bind(this));pt(this,b,this.canvasPointerleave.bind(this));pt(this,m,this.canvasPointerup.bind(this));pt(this,r,this.canvasPointerdown.bind(this));pt(this,h,!1);pt(this,g,!1);pt(this,s,null);pt(this,a,null);pt(this,t,0);pt(this,n,0);pt(this,v,null);this.color=p.color||null,this.thickness=p.thickness||null,this.opacity=p.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(p){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(M=>[M,p.get(M)]))}static updateDefaultParams(p,M){switch(p){case c.AnnotationEditorParamsType.INK_THICKNESS:d._defaultThickness=M;break;case c.AnnotationEditorParamsType.INK_COLOR:d._defaultColor=M;break;case c.AnnotationEditorParamsType.INK_OPACITY:d._defaultOpacity=M/100;break}}updateParams(p,M){switch(p){case c.AnnotationEditorParamsType.INK_THICKNESS:dt(this,e,Re).call(this,M);break;case c.AnnotationEditorParamsType.INK_COLOR:dt(this,e,De).call(this,M);break;case c.AnnotationEditorParamsType.INK_OPACITY:dt(this,e,Me).call(this,M);break}}static get defaultPropertiesToUpdate(){return[[c.AnnotationEditorParamsType.INK_THICKNESS,d._defaultThickness],[c.AnnotationEditorParamsType.INK_COLOR,d._defaultColor||S.AnnotationEditor._defaultLineColor],[c.AnnotationEditorParamsType.INK_OPACITY,Math.round(d._defaultOpacity*100)]]}get propertiesToUpdate(){return[[c.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||d._defaultThickness],[c.AnnotationEditorParamsType.INK_COLOR,this.color||d._defaultColor||S.AnnotationEditor._defaultLineColor],[c.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??d._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(dt(this,e,Gt).call(this),dt(this,e,Xt).call(this)),this.isAttachedToDOM||(this.parent.add(this),dt(this,e,Lt).call(this)),dt(this,e,Nt).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_(this,a).disconnect(),vt(this,a,null),super.remove())}setParent(p){!this.parent&&p?this._uiManager.removeShouldRescale(this):this.parent&&p===null&&this._uiManager.addShouldRescale(this),super.setParent(p)}onScaleChanging(){const[p,M]=this.parentDimensions,U=this.width*p,q=this.height*M;this.setDimensions(U,q)}enableEditMode(){_(this,h)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",_(this,r)),this.canvas.addEventListener("pointerup",_(this,m)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_(this,r)),this.canvas.removeEventListener("pointerup",_(this,m)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){_(this,h)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),vt(this,h,!0),this.div.classList.add("disabled"),dt(this,e,Nt).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(p){super.focusin(p),this.enableEditMode()}canvasPointerdown(p){p.button!==0||!this.isInEditMode()||_(this,h)||(this.setInForeground(),p.type!=="mouse"&&this.div.focus(),p.stopPropagation(),this.canvas.addEventListener("pointerleave",_(this,b)),this.canvas.addEventListener("pointermove",_(this,y)),dt(this,e,Ie).call(this,p.offsetX,p.offsetY))}canvasPointermove(p){p.stopPropagation(),dt(this,e,Le).call(this,p.offsetX,p.offsetY)}canvasPointerup(p){p.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(p.stopPropagation(),dt(this,e,ue).call(this,p),this.setInBackground())}canvasPointerleave(p){dt(this,e,ue).call(this,p),this.setInBackground()}render(){if(this.div)return this.div;let p,M;this.width&&(p=this.x,M=this.y),super.render(),d._l10nPromise.get("editor_ink2_aria_label").then(W=>{var N;return(N=this.div)==null?void 0:N.setAttribute("aria-label",W)});const[U,q,nt,F]=dt(this,e,Oe).call(this);if(this.setAt(U,q,0,0),this.setDims(nt,F),dt(this,e,Gt).call(this),this.width){const[W,N]=this.parentDimensions;this.setAt(p*W,M*N,this.width*W,this.height*N),vt(this,g,!0),dt(this,e,Lt).call(this),this.setDims(this.width*W,this.height*N),dt(this,e,Dt).call(this),dt(this,e,ge).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return dt(this,e,Xt).call(this),this.div}setDimensions(p,M){const U=Math.round(p),q=Math.round(M);if(_(this,t)===U&&_(this,n)===q)return;vt(this,t,U),vt(this,n,q),this.canvas.style.visibility="hidden",_(this,T)&&Math.abs(_(this,T)-p/M)>.01&&(M=Math.ceil(p/_(this,T)),this.setDims(p,M));const[nt,F]=this.parentDimensions;this.width=p/nt,this.height=M/F,_(this,h)&&dt(this,e,pe).call(this,p,M),dt(this,e,Lt).call(this),dt(this,e,Dt).call(this),this.canvas.style.visibility="visible"}static deserialize(p,M,U){var ft,bt;const q=super.deserialize(p,M,U);q.thickness=p.thickness,q.color=c.Util.makeHexColor(...p.color),q.opacity=p.opacity;const[nt,F]=q.pageDimensions,W=q.width*nt,N=q.height*F,V=q.parentScale,it=p.thickness/2;vt(q,T,W/N),vt(q,h,!0),vt(q,t,Math.round(W)),vt(q,n,Math.round(N));for(const{bezier:yt}of p.paths){const xt=[];q.paths.push(xt);let ct=V*(yt[0]-it),J=V*(N-yt[1]-it);for(let gt=2,_t=yt.length;gt<_t;gt+=6){const At=V*(yt[gt]-it),St=V*(N-yt[gt+1]-it),kt=V*(yt[gt+2]-it),Tt=V*(N-yt[gt+3]-it),Rt=V*(yt[gt+4]-it),Ct=V*(N-yt[gt+5]-it);xt.push([[ct,J],[At,St],[kt,Tt],[Rt,Ct]]),ct=Rt,J=Ct}const $=dt(this,A,fe).call(this,xt);q.bezierPath2D.push($)}const ut=dt(ft=q,e,me).call(ft);return vt(q,k,Math.max(Z,ut[2]-ut[0])),vt(q,j,Math.max(Z,ut[3]-ut[1])),dt(bt=q,e,pe).call(bt,W,N),q}serialize(){if(this.isEmpty())return null;const p=this.getRect(0,0),M=this.rotation%180===0?p[3]-p[1]:p[2]-p[0],U=S.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:c.AnnotationEditorType.INK,color:U,thickness:this.thickness,opacity:this.opacity,paths:dt(this,e,je).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,M),pageIndex:this.pageIndex,rect:p,rotation:this.rotation}}};T=new WeakMap,j=new WeakMap,k=new WeakMap,y=new WeakMap,b=new WeakMap,m=new WeakMap,r=new WeakMap,h=new WeakMap,g=new WeakMap,s=new WeakMap,a=new WeakMap,t=new WeakMap,n=new WeakMap,v=new WeakMap,e=new WeakSet,Re=function(p){const M=this.thickness;this.addCommands({cmd:()=>{this.thickness=p,dt(this,e,Nt).call(this)},undo:()=>{this.thickness=M,dt(this,e,Nt).call(this)},mustExec:!0,type:c.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},De=function(p){const M=this.color;this.addCommands({cmd:()=>{this.color=p,dt(this,e,Dt).call(this)},undo:()=>{this.color=M,dt(this,e,Dt).call(this)},mustExec:!0,type:c.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Me=function(p){p/=100;const M=this.opacity;this.addCommands({cmd:()=>{this.opacity=p,dt(this,e,Dt).call(this)},undo:()=>{this.opacity=M,dt(this,e,Dt).call(this)},mustExec:!0,type:c.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Oe=function(){const{parentRotation:p,parentDimensions:[M,U]}=this;switch(p){case 90:return[0,U,U,M];case 180:return[M,U,M,U];case 270:return[M,0,U,M];default:return[0,0,M,U]}},he=function(){const{ctx:p,color:M,opacity:U,thickness:q,parentScale:nt,scaleFactor:F}=this;p.lineWidth=q*nt/F,p.lineCap="round",p.lineJoin="round",p.miterLimit=10,p.strokeStyle=`${M}${(0,B.opacityToHex)(U)}`},Ie=function(p,M){this.isEditing=!0,_(this,g)||(vt(this,g,!0),dt(this,e,Lt).call(this),this.thickness||(this.thickness=d._defaultThickness),this.color||(this.color=d._defaultColor||S.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=d._defaultOpacity)),this.currentPath.push([p,M]),vt(this,s,null),dt(this,e,he).call(this),this.ctx.beginPath(),this.ctx.moveTo(p,M),vt(this,v,()=>{_(this,v)&&(_(this,s)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):dt(this,e,Dt).call(this),this.ctx.lineTo(..._(this,s)),vt(this,s,null),this.ctx.stroke()),window.requestAnimationFrame(_(this,v)))}),window.requestAnimationFrame(_(this,v))},Le=function(p,M){const[U,q]=this.currentPath.at(-1);p===U&&M===q||(this.currentPath.push([p,M]),vt(this,s,[p,M]))},Ne=function(p,M){var V;this.ctx.closePath(),vt(this,v,null),p=Math.min(Math.max(p,0),this.canvas.width),M=Math.min(Math.max(M,0),this.canvas.height);const[U,q]=this.currentPath.at(-1);(p!==U||M!==q)&&this.currentPath.push([p,M]);let nt;if(this.currentPath.length!==1)nt=(0,H.fitCurve)(this.currentPath,30,null);else{const it=[p,M];nt=[[it,it.slice(),it.slice(),it]]}const F=dt(V=d,A,fe).call(V,nt);this.currentPath.length=0;const W=()=>{this.paths.push(nt),this.bezierPath2D.push(F),this.rebuild()},N=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(dt(this,e,Gt).call(this),dt(this,e,Xt).call(this)),dt(this,e,Nt).call(this))};this.addCommands({cmd:W,undo:N,mustExec:!0})},Dt=function(){if(this.isEmpty()){dt(this,e,Vt).call(this);return}dt(this,e,he).call(this);const{canvas:p,ctx:M}=this;M.setTransform(1,0,0,1,0,0),M.clearRect(0,0,p.width,p.height),dt(this,e,Vt).call(this);for(const U of this.bezierPath2D)M.stroke(U)},ue=function(p){dt(this,e,Ne).call(this,p.offsetX,p.offsetY),this.canvas.removeEventListener("pointerleave",_(this,b)),this.canvas.removeEventListener("pointermove",_(this,y)),this.addToAnnotationStorage()},Gt=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",d._l10nPromise.get("editor_ink_canvas_aria_label").then(p=>{var M;return(M=this.canvas)==null?void 0:M.setAttribute("aria-label",p)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Xt=function(){let p=null;vt(this,a,new ResizeObserver(M=>{const U=M[0].contentRect;U.width&&U.height&&(p!==null&&clearTimeout(p),p=setTimeout(()=>{this.fixDims(),p=null},z),this.setDimensions(U.width,U.height))})),_(this,a).observe(this.div)},Lt=function(){if(!_(this,g))return;const[p,M]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*p),this.canvas.height=Math.ceil(this.height*M),dt(this,e,Vt).call(this)},pe=function(p,M){const U=dt(this,e,Yt).call(this),q=(p-U)/_(this,k),nt=(M-U)/_(this,j);this.scaleFactor=Math.min(q,nt)},Vt=function(){const p=dt(this,e,Yt).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+p,this.translationY*this.scaleFactor+p)},A=new WeakSet,fe=function(p){const M=new Path2D;for(let U=0,q=p.length;U<q;U++){const[nt,F,W,N]=p[U];U===0&&M.moveTo(...nt),M.bezierCurveTo(F[0],F[1],W[0],W[1],N[0],N[1])}return M},je=function(p,M,U,q){const F=[],W=this.thickness/2;let N,V;for(const it of this.paths){N=[],V=[];for(let ut=0,ft=it.length;ut<ft;ut++){const[bt,yt,xt,ct]=it[ut],J=p*(bt[0]+M)+W,$=q-p*(bt[1]+U)-W,gt=p*(yt[0]+M)+W,_t=q-p*(yt[1]+U)-W,At=p*(xt[0]+M)+W,St=q-p*(xt[1]+U)-W,kt=p*(ct[0]+M)+W,Tt=q-p*(ct[1]+U)-W;ut===0&&(N.push(J,$),V.push(J,$)),N.push(gt,_t,At,St,kt,Tt),dt(this,e,Ue).call(this,J,$,gt,_t,At,St,kt,Tt,4,V)}F.push({bezier:N,points:V})}return F},Ue=function(p,M,U,q,nt,F,W,N,V,it){if(dt(this,e,Be).call(this,p,M,U,q,nt,F,W,N)){it.push(W,N);return}for(let ut=1;ut<V-1;ut++){const ft=ut/V,bt=1-ft;let yt=ft*p+bt*U,xt=ft*M+bt*q,ct=ft*U+bt*nt,J=ft*q+bt*F;const $=ft*nt+bt*W,gt=ft*F+bt*N;yt=ft*yt+bt*ct,xt=ft*xt+bt*J,ct=ft*ct+bt*$,J=ft*J+bt*gt,yt=ft*yt+bt*ct,xt=ft*xt+bt*J,it.push(yt,xt)}it.push(W,N)},Be=function(p,M,U,q,nt,F,W,N){const it=(3*U-2*p-W)**2,ut=(3*q-2*M-N)**2,ft=(3*nt-p-2*W)**2,bt=(3*F-M-2*N)**2;return Math.max(it,ft)+Math.max(ut,bt)<=10},me=function(){let p=1/0,M=-1/0,U=1/0,q=-1/0;for(const nt of this.paths)for(const[F,W,N,V]of nt){const it=c.Util.bezierBoundingBox(...F,...W,...N,...V);p=Math.min(p,it[0]),U=Math.min(U,it[1]),M=Math.max(M,it[2]),q=Math.max(q,it[3])}return[p,U,M,q]},Yt=function(){return _(this,h)?Math.ceil(this.thickness*this.parentScale):0},Nt=function(p=!1){if(this.isEmpty())return;if(!_(this,h)){dt(this,e,Dt).call(this);return}const M=dt(this,e,me).call(this),U=dt(this,e,Yt).call(this);vt(this,k,Math.max(Z,M[2]-M[0])),vt(this,j,Math.max(Z,M[3]-M[1]));const q=Math.ceil(U+_(this,k)*this.scaleFactor),nt=Math.ceil(U+_(this,j)*this.scaleFactor),[F,W]=this.parentDimensions;this.width=q/F,this.height=nt/W,vt(this,T,q/nt),dt(this,e,ge).call(this);const N=this.translationX,V=this.translationY;this.translationX=-M[0],this.translationY=-M[1],dt(this,e,Lt).call(this),dt(this,e,Dt).call(this),vt(this,t,q),vt(this,n,nt),this.setDims(q,nt);const it=p?U/this.scaleFactor/2:0;this.translate(N-this.translationX-it,V-this.translationY-it)},ge=function(){const{style:p}=this.div;_(this,T)>=1?(p.minHeight=`${Z}px`,p.minWidth=`${Math.round(_(this,T)*Z)}px`):(p.minWidth=`${Z}px`,p.minHeight=`${Math.round(Z/_(this,T))}px`)},pt(d,A),Et(d,"_defaultColor",null),Et(d,"_defaultOpacity",1),Et(d,"_defaultThickness",1),Et(d,"_l10nPromise"),Et(d,"_type","ink");let E=d;i.InkEditor=E},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.fitCurve=void 0;const c=P(31);i.fitCurve=c},f=>{function i(b,m,r){if(!Array.isArray(b))throw new TypeError("First argument should be an array");if(b.forEach(a=>{if(!Array.isArray(a)||a.some(t=>typeof t!="number")||a.length!==b[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),b=b.filter((a,t)=>t===0||!a.every((n,v)=>n===b[t-1][v])),b.length<2)return[];const h=b.length,g=j(b[1],b[0]),s=j(b[h-2],b[h-1]);return P(b,g,s,m,r)}function P(b,m,r,h,g){var a,t,n,v,e,x,L,G,at,mt,rt,lt,tt;if(b.length===2)return lt=k.vectorLen(k.subtract(b[0],b[1]))/3,a=[b[0],k.addArrays(b[0],k.mulItems(m,lt)),k.addArrays(b[1],k.mulItems(r,lt)),b[1]],[a];if(t=Z(b),[a,v,x]=c(b,t,t,m,r,g),v===0||v<h)return[a];if(v<h*h)for(n=t,e=v,L=x,tt=0;tt<20;tt++){if(n=H(a,b,n),[a,v,x]=c(b,t,n,m,r,g),v<h)return[a];if(x===L){let X=v/e;if(X>.9999&&X<1.0001)break}e=v,L=x}return rt=[],G=k.subtract(b[x-1],b[x+1]),G.every(X=>X===0)&&(G=k.subtract(b[x-1],b[x]),[G[0],G[1]]=[-G[1],G[0]]),at=k.normalize(G),mt=k.mulItems(at,-1),rt=rt.concat(P(b.slice(0,x+1),m,at,h,g)),rt=rt.concat(P(b.slice(x),mt,r,h,g)),rt}function c(b,m,r,h,g,s){var a,t,n;return a=S(b,r,h,g),[t,n]=z(b,a,m),s&&s({bez:a,points:b,params:m,maxErr:t,maxPoint:n}),[a,t,n]}function S(b,m,r,h){var g,s,a,t,n,v,e,x,L,G,at,mt,rt,lt,tt,X,Y,st=b[0],ht=b[b.length-1];for(g=[st,null,null,ht],s=k.zeros_Xx2x2(m.length),rt=0,lt=m.length;rt<lt;rt++)X=m[rt],Y=1-X,a=s[rt],a[0]=k.mulItems(r,3*X*(Y*Y)),a[1]=k.mulItems(h,3*Y*(X*X));for(t=[[0,0],[0,0]],n=[0,0],rt=0,lt=b.length;rt<lt;rt++)X=m[rt],a=s[rt],t[0][0]+=k.dot(a[0],a[0]),t[0][1]+=k.dot(a[0],a[1]),t[1][0]+=k.dot(a[0],a[1]),t[1][1]+=k.dot(a[1],a[1]),tt=k.subtract(b[rt],y.q([st,st,ht,ht],X)),n[0]+=k.dot(a[0],tt),n[1]+=k.dot(a[1],tt);return v=t[0][0]*t[1][1]-t[1][0]*t[0][1],e=t[0][0]*n[1]-t[1][0]*n[0],x=n[0]*t[1][1]-n[1]*t[0][1],L=v===0?0:x/v,G=v===0?0:e/v,mt=k.vectorLen(k.subtract(st,ht)),at=1e-6*mt,L<at||G<at?(g[1]=k.addArrays(st,k.mulItems(r,mt/3)),g[2]=k.addArrays(ht,k.mulItems(h,mt/3))):(g[1]=k.addArrays(st,k.mulItems(r,L)),g[2]=k.addArrays(ht,k.mulItems(h,G))),g}function H(b,m,r){return r.map((h,g)=>B(b,m[g],h))}function B(b,m,r){var h=k.subtract(y.q(b,r),m),g=y.qprime(b,r),s=k.mulMatrix(h,g),a=k.sum(k.squareItems(g))+2*k.mulMatrix(h,y.qprimeprime(b,r));return a===0?r:r-s/a}function Z(b){var m=[],r,h,g;return b.forEach((s,a)=>{r=a?h+k.vectorLen(k.subtract(s,g)):0,m.push(r),h=r,g=s}),m=m.map(s=>s/h),m}function z(b,m,r){var h,g,s,a,t,n,v,e;g=0,s=Math.floor(b.length/2);const x=E(m,10);for(t=0,n=b.length;t<n;t++)v=b[t],e=T(m,r[t],x,10),a=k.subtract(y.q(m,e),v),h=a[0]*a[0]+a[1]*a[1],h>g&&(g=h,s=t);return[g,s]}var E=function(b,m){for(var r,h=[0],g=b[0],s=0,a=1;a<=m;a++)r=y.q(b,a/m),s+=k.vectorLen(k.subtract(r,g)),h.push(s),g=r;return h=h.map(t=>t/s),h};function T(b,m,r,h){if(m<0)return 0;if(m>1)return 1;for(var g,s,a,t,n,v=1;v<=h;v++)if(m<=r[v]){t=(v-1)/h,a=v/h,s=r[v-1],g=r[v],n=(m-s)/(g-s)*(a-t)+t;break}return n}function j(b,m){return k.normalize(k.subtract(b,m))}class k{static zeros_Xx2x2(m){for(var r=[];m--;)r.push([0,0]);return r}static mulItems(m,r){return m.map(h=>h*r)}static mulMatrix(m,r){return m.reduce((h,g,s)=>h+g*r[s],0)}static subtract(m,r){return m.map((h,g)=>h-r[g])}static addArrays(m,r){return m.map((h,g)=>h+r[g])}static addItems(m,r){return m.map(h=>h+r)}static sum(m){return m.reduce((r,h)=>r+h)}static dot(m,r){return k.mulMatrix(m,r)}static vectorLen(m){return Math.hypot(...m)}static divItems(m,r){return m.map(h=>h/r)}static squareItems(m){return m.map(r=>r*r)}static normalize(m){return this.divItems(m,this.vectorLen(m))}}class y{static q(m,r){var h=1-r,g=k.mulItems(m[0],h*h*h),s=k.mulItems(m[1],3*h*h*r),a=k.mulItems(m[2],3*h*r*r),t=k.mulItems(m[3],r*r*r);return k.addArrays(k.addArrays(g,s),k.addArrays(a,t))}static qprime(m,r){var h=1-r,g=k.mulItems(k.subtract(m[1],m[0]),3*h*h),s=k.mulItems(k.subtract(m[2],m[1]),6*h*r),a=k.mulItems(k.subtract(m[3],m[2]),3*r*r);return k.addArrays(k.addArrays(g,s),a)}static qprimeprime(m,r){return k.addArrays(k.mulItems(k.addArrays(k.subtract(m[2],k.mulItems(m[1],2)),m[0]),6*(1-r)),k.mulItems(k.addArrays(k.subtract(m[3],k.mulItems(m[2],2)),m[1]),6*r))}}f.exports=i,f.exports.fitCubic=P,f.exports.createTangent=j},(f,i,P)=>{var l,Ot,ze,R,ve,be;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationLayer=void 0;var c=P(1),S=P(6),H=P(3),B=P(33),Z=P(34);const z=1e3,E=9,T=new WeakSet;function j(Q){return{width:Q[2]-Q[0],height:Q[3]-Q[1]}}class k{static create(o){switch(o.data.annotationType){case c.AnnotationType.LINK:return new b(o);case c.AnnotationType.TEXT:return new m(o);case c.AnnotationType.WIDGET:switch(o.data.fieldType){case"Tx":return new h(o);case"Btn":return o.data.radioButton?new s(o):o.data.checkBox?new g(o):new a(o);case"Ch":return new t(o)}return new r(o);case c.AnnotationType.POPUP:return new n(o);case c.AnnotationType.FREETEXT:return new e(o);case c.AnnotationType.LINE:return new x(o);case c.AnnotationType.SQUARE:return new L(o);case c.AnnotationType.CIRCLE:return new G(o);case c.AnnotationType.POLYLINE:return new at(o);case c.AnnotationType.CARET:return new rt(o);case c.AnnotationType.INK:return new lt(o);case c.AnnotationType.POLYGON:return new mt(o);case c.AnnotationType.HIGHLIGHT:return new tt(o);case c.AnnotationType.UNDERLINE:return new X(o);case c.AnnotationType.SQUIGGLY:return new Y(o);case c.AnnotationType.STRIKEOUT:return new st(o);case c.AnnotationType.STAMP:return new ht(o);case c.AnnotationType.FILEATTACHMENT:return new I(o);default:return new y(o)}}}class y{constructor(o,{isRenderable:d=!1,ignoreBorder:w=!1,createQuadrilaterals:C=!1}={}){this.isRenderable=d,this.data=o.data,this.layer=o.layer,this.page=o.page,this.viewport=o.viewport,this.linkService=o.linkService,this.downloadManager=o.downloadManager,this.imageResourcesPath=o.imageResourcesPath,this.renderForms=o.renderForms,this.svgFactory=o.svgFactory,this.annotationStorage=o.annotationStorage,this.enableScripting=o.enableScripting,this.hasJSActions=o.hasJSActions,this._fieldObjects=o.fieldObjects,d&&(this.container=this._createContainer(w)),C&&(this.quadrilaterals=this._createQuadrilaterals(w))}_createContainer(o=!1){const{data:d,page:w,viewport:C}=this,p=document.createElement("section");p.setAttribute("data-annotation-id",d.id);const{pageWidth:M,pageHeight:U,pageX:q,pageY:nt}=C.rawDims,{width:F,height:W}=j(d.rect),N=c.Util.normalizeRect([d.rect[0],w.view[3]-d.rect[1]+w.view[1],d.rect[2],w.view[3]-d.rect[3]+w.view[1]]);if(!o&&d.borderStyle.width>0){p.style.borderWidth=`${d.borderStyle.width}px`;const it=d.borderStyle.horizontalCornerRadius,ut=d.borderStyle.verticalCornerRadius;if(it>0||ut>0){const bt=`calc(${it}px * var(--scale-factor)) / calc(${ut}px * var(--scale-factor))`;p.style.borderRadius=bt}else if(this instanceof s){const bt=`calc(${F}px * var(--scale-factor)) / calc(${W}px * var(--scale-factor))`;p.style.borderRadius=bt}switch(d.borderStyle.style){case c.AnnotationBorderStyleType.SOLID:p.style.borderStyle="solid";break;case c.AnnotationBorderStyleType.DASHED:p.style.borderStyle="dashed";break;case c.AnnotationBorderStyleType.BEVELED:(0,c.warn)("Unimplemented border style: beveled");break;case c.AnnotationBorderStyleType.INSET:(0,c.warn)("Unimplemented border style: inset");break;case c.AnnotationBorderStyleType.UNDERLINE:p.style.borderBottomStyle="solid";break}const ft=d.borderColor||null;ft?p.style.borderColor=c.Util.makeHexColor(ft[0]|0,ft[1]|0,ft[2]|0):p.style.borderWidth=0}p.style.left=`${100*(N[0]-q)/M}%`,p.style.top=`${100*(N[1]-nt)/U}%`;const{rotation:V}=d;return d.hasOwnCanvas||V===0?(p.style.width=`${100*F/M}%`,p.style.height=`${100*W/U}%`):this.setRotation(V,p),p}setRotation(o,d=this.container){const{pageWidth:w,pageHeight:C}=this.viewport.rawDims,{width:p,height:M}=j(this.data.rect);let U,q;o%180===0?(U=100*p/w,q=100*M/C):(U=100*M/w,q=100*p/C),d.style.width=`${U}%`,d.style.height=`${q}%`,d.setAttribute("data-main-rotation",(360-o)%360)}get _commonActions(){const o=(d,w,C)=>{const p=C.detail[d];C.target.style[w]=B.ColorConverters[`${p[0]}_HTML`](p.slice(1))};return(0,c.shadow)(this,"_commonActions",{display:d=>{const w=d.detail.display%2===1;this.container.style.visibility=w?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:w,print:d.detail.display===0||d.detail.display===3})},print:d=>{this.annotationStorage.setValue(this.data.id,{print:d.detail.print})},hidden:d=>{this.container.style.visibility=d.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:d.detail.hidden})},focus:d=>{setTimeout(()=>d.target.focus({preventScroll:!1}),0)},userName:d=>{d.target.title=d.detail.userName},readonly:d=>{d.detail.readonly?d.target.setAttribute("readonly",""):d.target.removeAttribute("readonly")},required:d=>{this._setRequired(d.target,d.detail.required)},bgColor:d=>{o("bgColor","backgroundColor",d)},fillColor:d=>{o("fillColor","backgroundColor",d)},fgColor:d=>{o("fgColor","color",d)},textColor:d=>{o("textColor","color",d)},borderColor:d=>{o("borderColor","borderColor",d)},strokeColor:d=>{o("strokeColor","borderColor",d)},rotation:d=>{const w=d.detail.rotation;this.setRotation(w),this.annotationStorage.setValue(this.data.id,{rotation:w})}})}_dispatchEventFromSandbox(o,d){const w=this._commonActions;for(const C of Object.keys(d.detail)){const p=o[C]||w[C];p==null||p(d)}}_setDefaultPropertiesFromJS(o){if(!this.enableScripting)return;const d=this.annotationStorage.getRawValue(this.data.id);if(!d)return;const w=this._commonActions;for(const[C,p]of Object.entries(d)){const M=w[C];if(M){const U={detail:{[C]:p},target:o};M(U),delete d[C]}}}_createQuadrilaterals(o=!1){if(!this.data.quadPoints)return null;const d=[],w=this.data.rect;for(const C of this.data.quadPoints)this.data.rect=[C[2].x,C[2].y,C[1].x,C[1].y],d.push(this._createContainer(o));return this.data.rect=w,d}_createPopup(o,d){let w=this.container;this.quadrilaterals&&(o=o||this.quadrilaterals,w=this.quadrilaterals[0]),o||(o=document.createElement("div"),o.className="popupTriggerArea",w.append(o));const p=new v({container:w,trigger:o,color:d.color,titleObj:d.titleObj,modificationDate:d.modificationDate,contentsObj:d.contentsObj,richText:d.richText,hideWrapper:!0}).render();p.style.left="100%",w.append(p)}_renderQuadrilaterals(o){for(const d of this.quadrilaterals)d.className=o;return this.quadrilaterals}render(){(0,c.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(o,d=null){const w=[];if(this._fieldObjects){const C=this._fieldObjects[o];if(C)for(const{page:p,id:M,exportValues:U}of C){if(p===-1||M===d)continue;const q=typeof U=="string"?U:null,nt=document.querySelector(`[data-element-id="${M}"]`);if(nt&&!T.has(nt)){(0,c.warn)(`_getElementsByName - element not allowed: ${M}`);continue}w.push({id:M,exportValue:q,domElement:nt})}return w}for(const C of document.getElementsByName(o)){const{exportValue:p}=C,M=C.getAttribute("data-element-id");M!==d&&T.has(C)&&w.push({id:M,exportValue:p,domElement:C})}return w}}class b extends y{constructor(d,w=null){super(d,{isRenderable:!0,ignoreBorder:!!(w!=null&&w.ignoreBorder),createQuadrilaterals:!0});pt(this,l);this.isTooltipOnly=d.data.isTooltipOnly}render(){const{data:d,linkService:w}=this,C=document.createElement("a");C.setAttribute("data-element-id",d.id);let p=!1;return d.url?(w.addLinkAttributes(C,d.url,d.newWindow),p=!0):d.action?(this._bindNamedAction(C,d.action),p=!0):d.attachment?(this._bindAttachment(C,d.attachment),p=!0):d.setOCGState?(dt(this,l,ze).call(this,C,d.setOCGState),p=!0):d.dest?(this._bindLink(C,d.dest),p=!0):(d.actions&&(d.actions.Action||d.actions["Mouse Up"]||d.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(C,d),p=!0),d.resetForm?(this._bindResetFormAction(C,d.resetForm),p=!0):this.isTooltipOnly&&!p&&(this._bindLink(C,""),p=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((M,U)=>{const q=U===0?C:C.cloneNode();return M.append(q),M}):(this.container.className="linkAnnotation",p&&this.container.append(C),this.container)}_bindLink(d,w){d.href=this.linkService.getDestinationHash(w),d.onclick=()=>(w&&this.linkService.goToDestination(w),!1),(w||w==="")&&dt(this,l,Ot).call(this)}_bindNamedAction(d,w){d.href=this.linkService.getAnchorUrl(""),d.onclick=()=>(this.linkService.executeNamedAction(w),!1),dt(this,l,Ot).call(this)}_bindAttachment(d,w){d.href=this.linkService.getAnchorUrl(""),d.onclick=()=>{var C;return(C=this.downloadManager)==null||C.openOrDownloadData(this.container,w.content,w.filename),!1},dt(this,l,Ot).call(this)}_bindJSAction(d,w){d.href=this.linkService.getAnchorUrl("");const C=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const p of Object.keys(w.actions)){const M=C.get(p);M&&(d[M]=()=>{var U;return(U=this.linkService.eventBus)==null||U.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w.id,name:p}}),!1})}d.onclick||(d.onclick=()=>!1),dt(this,l,Ot).call(this)}_bindResetFormAction(d,w){const C=d.onclick;if(C||(d.href=this.linkService.getAnchorUrl("")),dt(this,l,Ot).call(this),!this._fieldObjects){(0,c.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),C||(d.onclick=()=>!1);return}d.onclick=()=>{var W;C==null||C();const{fields:p,refs:M,include:U}=w,q=[];if(p.length!==0||M.length!==0){const N=new Set(M);for(const V of p){const it=this._fieldObjects[V]||[];for(const{id:ut}of it)N.add(ut)}for(const V of Object.values(this._fieldObjects))for(const it of V)N.has(it.id)===U&&q.push(it)}else for(const N of Object.values(this._fieldObjects))q.push(...N);const nt=this.annotationStorage,F=[];for(const N of q){const{id:V}=N;switch(F.push(V),N.type){case"text":{const ut=N.defaultValue||"";nt.setValue(V,{value:ut});break}case"checkbox":case"radiobutton":{const ut=N.defaultValue===N.exportValues;nt.setValue(V,{value:ut});break}case"combobox":case"listbox":{const ut=N.defaultValue||"";nt.setValue(V,{value:ut});break}default:continue}const it=document.querySelector(`[data-element-id="${V}"]`);if(it){if(!T.has(it)){(0,c.warn)(`_bindResetFormAction - element not allowed: ${V}`);continue}}else continue;it.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((W=this.linkService.eventBus)==null||W.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:F,name:"ResetForm"}})),!1}}}l=new WeakSet,Ot=function(){this.container.setAttribute("data-internal-link","")},ze=function(d,w){d.href=this.linkService.getAnchorUrl(""),d.onclick=()=>(this.linkService.executeSetOCGState(w),!1),dt(this,l,Ot).call(this)};class m extends y{constructor(o){var w,C,p;const d=!!(o.data.hasPopup||(w=o.data.titleObj)!=null&&w.str||(C=o.data.contentsObj)!=null&&C.str||(p=o.data.richText)!=null&&p.str);super(o,{isRenderable:d})}render(){this.container.className="textAnnotation";const o=document.createElement("img");return o.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",o.alt="[{{type}} Annotation]",o.dataset.l10nId="text_annotation_type",o.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(o,this.data),this.container.append(o),this.container}}class r extends y{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(o){const{isWin:d,isMac:w}=c.FeatureTest.platform;return d&&o.ctrlKey||w&&o.metaKey}_setEventListener(o,d,w,C){d.includes("mouse")?o.addEventListener(d,p=>{var M;(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:w,value:C(p),shift:p.shiftKey,modifier:this._getKeyModifier(p)}})}):o.addEventListener(d,p=>{var M;(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:w,value:C(p)}})})}_setEventListeners(o,d,w){var C;for(const[p,M]of d)(M==="Action"||(C=this.data.actions)!=null&&C[M])&&this._setEventListener(o,p,M,w)}_setBackgroundColor(o){const d=this.data.backgroundColor||null;o.style.backgroundColor=d===null?"transparent":c.Util.makeHexColor(d[0],d[1],d[2])}_setTextStyle(o){const d=["left","center","right"],{fontColor:w}=this.data.defaultAppearanceData,C=this.data.defaultAppearanceData.fontSize||E,p=o.style;let M;const U=2,q=nt=>Math.round(10*nt)/10;if(this.data.multiLine){const nt=Math.abs(this.data.rect[3]-this.data.rect[1]-U),F=Math.round(nt/(c.LINE_FACTOR*C))||1,W=nt/F;M=Math.min(C,q(W/c.LINE_FACTOR))}else{const nt=Math.abs(this.data.rect[3]-this.data.rect[1]-U);M=Math.min(C,q(nt/c.LINE_FACTOR))}p.fontSize=`calc(${M}px * var(--scale-factor))`,p.color=c.Util.makeHexColor(w[0],w[1],w[2]),this.data.textAlignment!==null&&(p.textAlign=d[this.data.textAlignment])}_setRequired(o,d){d?o.setAttribute("required",!0):o.removeAttribute("required"),o.setAttribute("aria-required",d)}}class h extends r{constructor(o){const d=o.renderForms||!o.data.hasAppearance&&!!o.data.fieldValue;super(o,{isRenderable:d})}setPropertyOnSiblings(o,d,w,C){const p=this.annotationStorage;for(const M of this._getElementsByName(o.name,o.id))M.domElement&&(M.domElement[d]=w),p.setValue(M.id,{[C]:w})}render(){var C;const o=this.annotationStorage,d=this.data.id;this.container.className="textWidgetAnnotation";let w=null;if(this.renderForms){const p=o.getValue(d,{value:this.data.fieldValue});let M=p.formattedValue||p.value||"";const U=o.getValue(d,{charLimit:this.data.maxLen}).charLimit;U&&M.length>U&&(M=M.slice(0,U));const q={userValue:M,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(w=document.createElement("textarea"),w.textContent=M,this.data.doNotScroll&&(w.style.overflowY="hidden")):(w=document.createElement("input"),w.type="text",w.setAttribute("value",M),this.data.doNotScroll&&(w.style.overflowX="hidden")),T.add(w),w.setAttribute("data-element-id",d),w.disabled=this.data.readOnly,w.name=this.data.fieldName,w.tabIndex=z,this._setRequired(w,this.data.required),U&&(w.maxLength=U),w.addEventListener("input",F=>{o.setValue(d,{value:F.target.value}),this.setPropertyOnSiblings(w,"value",F.target.value,"value")}),w.addEventListener("resetform",F=>{const W=this.data.defaultFieldValue??"";w.value=q.userValue=W,q.formattedValue=null});let nt=F=>{const{formattedValue:W}=q;W!=null&&(F.target.value=W),F.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){w.addEventListener("focus",W=>{const{target:N}=W;q.userValue&&(N.value=q.userValue),q.lastCommittedValue=N.value,q.commitKey=1}),w.addEventListener("updatefromsandbox",W=>{const N={value(V){q.userValue=V.detail.value??"",o.setValue(d,{value:q.userValue.toString()}),V.target.value=q.userValue},formattedValue(V){const{formattedValue:it}=V.detail;q.formattedValue=it,it!=null&&V.target!==document.activeElement&&(V.target.value=it),o.setValue(d,{formattedValue:it})},selRange(V){V.target.setSelectionRange(...V.detail.selRange)},charLimit:V=>{var bt;const{charLimit:it}=V.detail,{target:ut}=V;if(it===0){ut.removeAttribute("maxLength");return}ut.setAttribute("maxLength",it);let ft=q.userValue;!ft||ft.length<=it||(ft=ft.slice(0,it),ut.value=q.userValue=ft,o.setValue(d,{value:ft}),(bt=this.linkService.eventBus)==null||bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:ft,willCommit:!0,commitKey:1,selStart:ut.selectionStart,selEnd:ut.selectionEnd}}))}};this._dispatchEventFromSandbox(N,W)}),w.addEventListener("keydown",W=>{var it;q.commitKey=1;let N=-1;if(W.key==="Escape"?N=0:W.key==="Enter"&&!this.data.multiLine?N=2:W.key==="Tab"&&(q.commitKey=3),N===-1)return;const{value:V}=W.target;q.lastCommittedValue!==V&&(q.lastCommittedValue=V,q.userValue=V,(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:V,willCommit:!0,commitKey:N,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}}))});const F=nt;nt=null,w.addEventListener("blur",W=>{var V;if(!W.relatedTarget)return;const{value:N}=W.target;q.userValue=N,q.lastCommittedValue!==N&&((V=this.linkService.eventBus)==null||V.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:N,willCommit:!0,commitKey:q.commitKey,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}})),F(W)}),(C=this.data.actions)!=null&&C.Keystroke&&w.addEventListener("beforeinput",W=>{var xt;q.lastCommittedValue=null;const{data:N,target:V}=W,{value:it,selectionStart:ut,selectionEnd:ft}=V;let bt=ut,yt=ft;switch(W.inputType){case"deleteWordBackward":{const ct=it.substring(0,ut).match(/\w*[^\w]*$/);ct&&(bt-=ct[0].length);break}case"deleteWordForward":{const ct=it.substring(ut).match(/^[^\w]*\w*/);ct&&(yt+=ct[0].length);break}case"deleteContentBackward":ut===ft&&(bt-=1);break;case"deleteContentForward":ut===ft&&(yt+=1);break}W.preventDefault(),(xt=this.linkService.eventBus)==null||xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:it,change:N||"",willCommit:!1,selStart:bt,selEnd:yt}})}),this._setEventListeners(w,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.value)}if(nt&&w.addEventListener("blur",nt),this.data.comb){const W=(this.data.rect[2]-this.data.rect[0])/U;w.classList.add("comb"),w.style.letterSpacing=`calc(${W}px * var(--scale-factor) - 1ch)`}}else w=document.createElement("div"),w.textContent=this.data.fieldValue,w.style.verticalAlign="middle",w.style.display="table-cell";return this._setTextStyle(w),this._setBackgroundColor(w),this._setDefaultPropertiesFromJS(w),this.container.append(w),this.container}}class g extends r{constructor(o){super(o,{isRenderable:o.renderForms})}render(){const o=this.annotationStorage,d=this.data,w=d.id;let C=o.getValue(w,{value:d.exportValue===d.fieldValue}).value;typeof C=="string"&&(C=C!=="Off",o.setValue(w,{value:C})),this.container.className="buttonWidgetAnnotation checkBox";const p=document.createElement("input");return T.add(p),p.setAttribute("data-element-id",w),p.disabled=d.readOnly,this._setRequired(p,this.data.required),p.type="checkbox",p.name=d.fieldName,C&&p.setAttribute("checked",!0),p.setAttribute("exportValue",d.exportValue),p.tabIndex=z,p.addEventListener("change",M=>{const{name:U,checked:q}=M.target;for(const nt of this._getElementsByName(U,w)){const F=q&&nt.exportValue===d.exportValue;nt.domElement&&(nt.domElement.checked=F),o.setValue(nt.id,{value:F})}o.setValue(w,{value:q})}),p.addEventListener("resetform",M=>{const U=d.defaultFieldValue||"Off";M.target.checked=U===d.exportValue}),this.enableScripting&&this.hasJSActions&&(p.addEventListener("updatefromsandbox",M=>{const U={value(q){q.target.checked=q.detail.value!=="Off",o.setValue(w,{value:q.target.checked})}};this._dispatchEventFromSandbox(U,M)}),this._setEventListeners(p,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],M=>M.target.checked)),this._setBackgroundColor(p),this._setDefaultPropertiesFromJS(p),this.container.append(p),this.container}}class s extends r{constructor(o){super(o,{isRenderable:o.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const o=this.annotationStorage,d=this.data,w=d.id;let C=o.getValue(w,{value:d.fieldValue===d.buttonValue}).value;typeof C=="string"&&(C=C!==d.buttonValue,o.setValue(w,{value:C}));const p=document.createElement("input");if(T.add(p),p.setAttribute("data-element-id",w),p.disabled=d.readOnly,this._setRequired(p,this.data.required),p.type="radio",p.name=d.fieldName,C&&p.setAttribute("checked",!0),p.tabIndex=z,p.addEventListener("change",M=>{const{name:U,checked:q}=M.target;for(const nt of this._getElementsByName(U,w))o.setValue(nt.id,{value:!1});o.setValue(w,{value:q})}),p.addEventListener("resetform",M=>{const U=d.defaultFieldValue;M.target.checked=U!=null&&U===d.buttonValue}),this.enableScripting&&this.hasJSActions){const M=d.buttonValue;p.addEventListener("updatefromsandbox",U=>{const q={value:nt=>{const F=M===nt.detail.value;for(const W of this._getElementsByName(nt.target.name)){const N=F&&W.id===w;W.domElement&&(W.domElement.checked=N),o.setValue(W.id,{value:N})}}};this._dispatchEventFromSandbox(q,U)}),this._setEventListeners(p,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],U=>U.target.checked)}return this._setBackgroundColor(p),this._setDefaultPropertiesFromJS(p),this.container.append(p),this.container}}class a extends b{constructor(o){super(o,{ignoreBorder:o.data.hasAppearance})}render(){const o=super.render();o.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(o.title=this.data.alternativeText);const d=o.lastChild;return this.enableScripting&&this.hasJSActions&&d&&(this._setDefaultPropertiesFromJS(d),d.addEventListener("updatefromsandbox",w=>{this._dispatchEventFromSandbox({},w)})),o}}class t extends r{constructor(o){super(o,{isRenderable:o.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const o=this.annotationStorage,d=this.data.id,w=o.getValue(d,{value:this.data.fieldValue}),C=document.createElement("select");T.add(C),C.setAttribute("data-element-id",d),C.disabled=this.data.readOnly,this._setRequired(C,this.data.required),C.name=this.data.fieldName,C.tabIndex=z;let p=this.data.combo&&this.data.options.length>0;this.data.combo||(C.size=this.data.options.length,this.data.multiSelect&&(C.multiple=!0)),C.addEventListener("resetform",F=>{const W=this.data.defaultFieldValue;for(const N of C.options)N.selected=N.value===W});for(const F of this.data.options){const W=document.createElement("option");W.textContent=F.displayValue,W.value=F.exportValue,w.value.includes(F.exportValue)&&(W.setAttribute("selected",!0),p=!1),C.append(W)}let M=null;if(p){const F=document.createElement("option");F.value=" ",F.setAttribute("hidden",!0),F.setAttribute("selected",!0),C.prepend(F),M=()=>{F.remove(),C.removeEventListener("input",M),M=null},C.addEventListener("input",M)}const U=F=>{const W=F?"value":"textContent",{options:N,multiple:V}=C;return V?Array.prototype.filter.call(N,it=>it.selected).map(it=>it[W]):N.selectedIndex===-1?null:N[N.selectedIndex][W]};let q=U(!1);const nt=F=>{const W=F.target.options;return Array.prototype.map.call(W,N=>({displayValue:N.textContent,exportValue:N.value}))};return this.enableScripting&&this.hasJSActions?(C.addEventListener("updatefromsandbox",F=>{const W={value(N){M==null||M();const V=N.detail.value,it=new Set(Array.isArray(V)?V:[V]);for(const ut of C.options)ut.selected=it.has(ut.value);o.setValue(d,{value:U(!0)}),q=U(!1)},multipleSelection(N){C.multiple=!0},remove(N){const V=C.options,it=N.detail.remove;V[it].selected=!1,C.remove(it),V.length>0&&Array.prototype.findIndex.call(V,ft=>ft.selected)===-1&&(V[0].selected=!0),o.setValue(d,{value:U(!0),items:nt(N)}),q=U(!1)},clear(N){for(;C.length!==0;)C.remove(0);o.setValue(d,{value:null,items:[]}),q=U(!1)},insert(N){const{index:V,displayValue:it,exportValue:ut}=N.detail.insert,ft=C.children[V],bt=document.createElement("option");bt.textContent=it,bt.value=ut,ft?ft.before(bt):C.append(bt),o.setValue(d,{value:U(!0),items:nt(N)}),q=U(!1)},items(N){const{items:V}=N.detail;for(;C.length!==0;)C.remove(0);for(const it of V){const{displayValue:ut,exportValue:ft}=it,bt=document.createElement("option");bt.textContent=ut,bt.value=ft,C.append(bt)}C.options.length>0&&(C.options[0].selected=!0),o.setValue(d,{value:U(!0),items:nt(N)}),q=U(!1)},indices(N){const V=new Set(N.detail.indices);for(const it of N.target.options)it.selected=V.has(it.index);o.setValue(d,{value:U(!0)}),q=U(!1)},editable(N){N.target.disabled=!N.detail.editable}};this._dispatchEventFromSandbox(W,F)}),C.addEventListener("input",F=>{var N;const W=U(!0);o.setValue(d,{value:W}),F.preventDefault(),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:q,changeEx:W,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(C,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],F=>F.target.value)):C.addEventListener("input",function(F){o.setValue(d,{value:U(!0)})}),this.data.combo&&this._setTextStyle(C),this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.append(C),this.container}}const O=class O extends y{constructor(o){var C,p,M;const{data:d}=o,w=!O.IGNORE_TYPES.has(d.parentType)&&!!((C=d.titleObj)!=null&&C.str||(p=d.contentsObj)!=null&&p.str||(M=d.richText)!=null&&M.str);super(o,{isRenderable:w})}render(){this.container.className="popupAnnotation";const o=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(o.length===0)return this.container;const d=new v({container:this.container,trigger:Array.from(o),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),w=this.page,C=c.Util.normalizeRect([this.data.parentRect[0],w.view[3]-this.data.parentRect[1]+w.view[1],this.data.parentRect[2],w.view[3]-this.data.parentRect[3]+w.view[1]]),p=C[0]+this.data.parentRect[2]-this.data.parentRect[0],M=C[1],{pageWidth:U,pageHeight:q,pageX:nt,pageY:F}=this.viewport.rawDims;return this.container.style.left=`${100*(p-nt)/U}%`,this.container.style.top=`${100*(M-F)/q}%`,this.container.append(d.render()),this.container}};Et(O,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let n=O;class v{constructor(o){this.container=o.container,this.trigger=o.trigger,this.color=o.color,this.titleObj=o.titleObj,this.modificationDate=o.modificationDate,this.contentsObj=o.contentsObj,this.richText=o.richText,this.hideWrapper=o.hideWrapper||!1,this.pinned=!1}render(){var U,q;const d=document.createElement("div");d.className="popupWrapper",this.hideElement=this.hideWrapper?d:this.container,this.hideElement.hidden=!0;const w=document.createElement("div");w.className="popup";const C=this.color;if(C){const nt=.7*(255-C[0])+C[0],F=.7*(255-C[1])+C[1],W=.7*(255-C[2])+C[2];w.style.backgroundColor=c.Util.makeHexColor(nt|0,F|0,W|0)}const p=document.createElement("h1");p.dir=this.titleObj.dir,p.textContent=this.titleObj.str,w.append(p);const M=S.PDFDateString.toDateObject(this.modificationDate);if(M){const nt=document.createElement("span");nt.className="popupDate",nt.textContent="{{date}}, {{time}}",nt.dataset.l10nId="annotation_date_string",nt.dataset.l10nArgs=JSON.stringify({date:M.toLocaleDateString(),time:M.toLocaleTimeString()}),w.append(nt)}if((U=this.richText)!=null&&U.str&&(!((q=this.contentsObj)!=null&&q.str)||this.contentsObj.str===this.richText.str))Z.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:w}),w.lastChild.className="richText popupContent";else{const nt=this._formatContents(this.contentsObj);w.append(nt)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const nt of this.trigger)nt.addEventListener("click",this._toggle.bind(this)),nt.addEventListener("mouseover",this._show.bind(this,!1)),nt.addEventListener("mouseout",this._hide.bind(this,!1));return w.addEventListener("click",this._hide.bind(this,!0)),d.append(w),d}_formatContents({str:o,dir:d}){const w=document.createElement("p");w.className="popupContent",w.dir=d;const C=o.split(/(?:\r\n?|\n)/);for(let p=0,M=C.length;p<M;++p){const U=C[p];w.append(document.createTextNode(U)),p<M-1&&w.append(document.createElement("br"))}return w}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(o=!1){o&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(o=!0){o&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class e extends y{constructor(o){var w,C,p;const d=!!(o.data.hasPopup||(w=o.data.titleObj)!=null&&w.str||(C=o.data.contentsObj)!=null&&C.str||(p=o.data.richText)!=null&&p.str);super(o,{isRenderable:d,ignoreBorder:!0}),this.textContent=o.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const o=document.createElement("div");o.className="annotationTextContent",o.setAttribute("role","comment");for(const d of this.textContent){const w=document.createElement("span");w.textContent=d,o.append(w)}this.container.append(o)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class x extends y{constructor(o){var w,C,p;const d=!!(o.data.hasPopup||(w=o.data.titleObj)!=null&&w.str||(C=o.data.contentsObj)!=null&&C.str||(p=o.data.richText)!=null&&p.str);super(o,{isRenderable:d,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const o=this.data,{width:d,height:w}=j(o.rect),C=this.svgFactory.create(d,w,!0),p=this.svgFactory.createElement("svg:line");return p.setAttribute("x1",o.rect[2]-o.lineCoordinates[0]),p.setAttribute("y1",o.rect[3]-o.lineCoordinates[1]),p.setAttribute("x2",o.rect[2]-o.lineCoordinates[2]),p.setAttribute("y2",o.rect[3]-o.lineCoordinates[3]),p.setAttribute("stroke-width",o.borderStyle.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),C.append(p),this.container.append(C),this._createPopup(p,o),this.container}}class L extends y{constructor(o){var w,C,p;const d=!!(o.data.hasPopup||(w=o.data.titleObj)!=null&&w.str||(C=o.data.contentsObj)!=null&&C.str||(p=o.data.richText)!=null&&p.str);super(o,{isRenderable:d,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const o=this.data,{width:d,height:w}=j(o.rect),C=this.svgFactory.create(d,w,!0),p=o.borderStyle.width,M=this.svgFactory.createElement("svg:rect");return M.setAttribute("x",p/2),M.setAttribute("y",p/2),M.setAttribute("width",d-p),M.setAttribute("height",w-p),M.setAttribute("stroke-width",p||1),M.setAttribute("stroke","transparent"),M.setAttribute("fill","transparent"),C.append(M),this.container.append(C),this._createPopup(M,o),this.container}}class G extends y{constructor(o){var w,C,p;const d=!!(o.data.hasPopup||(w=o.data.titleObj)!=null&&w.str||(C=o.data.contentsObj)!=null&&C.str||(p=o.data.richText)!=null&&p.str);super(o,{isRenderable:d,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const o=this.data,{width:d,height:w}=j(o.rect),C=this.svgFactory.create(d,w,!0),p=o.borderStyle.width,M=this.svgFactory.createElement("svg:ellipse");return M.setAttribute("cx",d/2),M.setAttribute("cy",w/2),M.setAttribute("rx",d/2-p/2),M.setAttribute("ry",w/2-p/2),M.setAttribute("stroke-width",p||1),M.setAttribute("stroke","transparent"),M.setAttribute("fill","transparent"),C.append(M),this.container.append(C),this._createPopup(M,o),this.container}}class at extends y{constructor(o){var w,C,p;const d=!!(o.data.hasPopup||(w=o.data.titleObj)!=null&&w.str||(C=o.data.contentsObj)!=null&&C.str||(p=o.data.richText)!=null&&p.str);super(o,{isRenderable:d,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const o=this.data,{width:d,height:w}=j(o.rect),C=this.svgFactory.create(d,w,!0);let p=[];for(const U of o.vertices){const q=U.x-o.rect[0],nt=o.rect[3]-U.y;p.push(q+","+nt)}p=p.join(" ");const M=this.svgFactory.createElement(this.svgElementName);return M.setAttribute("points",p),M.setAttribute("stroke-width",o.borderStyle.width||1),M.setAttribute("stroke","transparent"),M.setAttribute("fill","transparent"),C.append(M),this.container.append(C),this._createPopup(M,o),this.container}}class mt extends at{constructor(o){super(o),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class rt extends y{constructor(o){var w,C,p;const d=!!(o.data.hasPopup||(w=o.data.titleObj)!=null&&w.str||(C=o.data.contentsObj)!=null&&C.str||(p=o.data.richText)!=null&&p.str);super(o,{isRenderable:d,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class lt extends y{constructor(o){var w,C,p;const d=!!(o.data.hasPopup||(w=o.data.titleObj)!=null&&w.str||(C=o.data.contentsObj)!=null&&C.str||(p=o.data.richText)!=null&&p.str);super(o,{isRenderable:d,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const o=this.data,{width:d,height:w}=j(o.rect),C=this.svgFactory.create(d,w,!0);for(const p of o.inkLists){let M=[];for(const q of p){const nt=q.x-o.rect[0],F=o.rect[3]-q.y;M.push(`${nt},${F}`)}M=M.join(" ");const U=this.svgFactory.createElement(this.svgElementName);U.setAttribute("points",M),U.setAttribute("stroke-width",o.borderStyle.width||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),this._createPopup(U,o),C.append(U)}return this.container.append(C),this.container}}class tt extends y{constructor(o){var w,C,p;const d=!!(o.data.hasPopup||(w=o.data.titleObj)!=null&&w.str||(C=o.data.contentsObj)!=null&&C.str||(p=o.data.richText)!=null&&p.str);super(o,{isRenderable:d,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class X extends y{constructor(o){var w,C,p;const d=!!(o.data.hasPopup||(w=o.data.titleObj)!=null&&w.str||(C=o.data.contentsObj)!=null&&C.str||(p=o.data.richText)!=null&&p.str);super(o,{isRenderable:d,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Y extends y{constructor(o){var w,C,p;const d=!!(o.data.hasPopup||(w=o.data.titleObj)!=null&&w.str||(C=o.data.contentsObj)!=null&&C.str||(p=o.data.richText)!=null&&p.str);super(o,{isRenderable:d,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class st extends y{constructor(o){var w,C,p;const d=!!(o.data.hasPopup||(w=o.data.titleObj)!=null&&w.str||(C=o.data.contentsObj)!=null&&C.str||(p=o.data.richText)!=null&&p.str);super(o,{isRenderable:d,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class ht extends y{constructor(o){var w,C,p;const d=!!(o.data.hasPopup||(w=o.data.titleObj)!=null&&w.str||(C=o.data.contentsObj)!=null&&C.str||(p=o.data.richText)!=null&&p.str);super(o,{isRenderable:d,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class I extends y{constructor(o){var C;super(o,{isRenderable:!0});const{filename:d,content:w}=this.data.file;this.filename=(0,S.getFilenameFromUrl)(d,!0),this.content=w,(C=this.linkService.eventBus)==null||C.dispatch("fileattachmentannotation",{source:this,filename:d,content:w})}render(){var d,w;this.container.className="fileAttachmentAnnotation";let o;return this.data.hasAppearance?o=document.createElement("div"):(o=document.createElement("img"),o.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),o.className="popupTriggerArea",o.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((d=this.data.titleObj)!=null&&d.str||(w=this.data.contentsObj)!=null&&w.str||this.data.richText)&&this._createPopup(o,this.data),this.container.append(o),this.container}_download(){var o;(o=this.downloadManager)==null||o.openOrDownloadData(this.container,this.content,this.filename)}}const ot=class ot{static render(o){var q,nt;const{annotations:d,div:w,viewport:C,accessibilityManager:p}=o;(0,S.setLayerDimensions)(w,C);const M={data:null,layer:w,page:o.page,viewport:C,linkService:o.linkService,downloadManager:o.downloadManager,imageResourcesPath:o.imageResourcesPath||"",renderForms:o.renderForms!==!1,svgFactory:new S.DOMSVGFactory,annotationStorage:o.annotationStorage||new H.AnnotationStorage,enableScripting:o.enableScripting===!0,hasJSActions:o.hasJSActions,fieldObjects:o.fieldObjects};let U=0;for(const F of d){if(F.annotationType!==c.AnnotationType.POPUP){const{width:V,height:it}=j(F.rect);if(V<=0||it<=0)continue}M.data=F;const W=k.create(M);if(!W.isRenderable)continue;const N=W.render();if(F.hidden&&(N.style.visibility="hidden"),Array.isArray(N))for(const V of N)V.style.zIndex=U++,dt(q=ot,R,ve).call(q,V,F.id,w,p);else N.style.zIndex=U++,W instanceof n?w.prepend(N):dt(nt=ot,R,ve).call(nt,N,F.id,w,p)}dt(this,R,be).call(this,w,o.annotationCanvasMap)}static update(o){const{annotationCanvasMap:d,div:w,viewport:C}=o;(0,S.setLayerDimensions)(w,{rotation:C.rotation}),dt(this,R,be).call(this,w,d),w.hidden=!1}};R=new WeakSet,ve=function(o,d,w,C){const p=o.firstChild||o;p.id=`${S.AnnotationPrefix}${d}`,w.append(o),C==null||C.moveElementInDOM(w,o,p,!1)},be=function(o,d){if(d){for(const[w,C]of d){const p=o.querySelector(`[data-annotation-id="${w}"]`);if(!p)continue;const{firstChild:M}=p;M?M.nodeName==="CANVAS"?M.replaceWith(C):M.before(C):p.append(C)}d.clear()}},pt(ot,R);let u=ot;i.AnnotationLayer=u},(f,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function P(S){return Math.floor(Math.max(0,Math.min(1,S))*255).toString(16).padStart(2,"0")}class c{static CMYK_G([H,B,Z,z]){return["G",1-Math.min(1,.3*H+.59*Z+.11*B+z)]}static G_CMYK([H]){return["CMYK",0,0,0,1-H]}static G_RGB([H]){return["RGB",H,H,H]}static G_HTML([H]){const B=P(H);return`#${B}${B}${B}`}static RGB_G([H,B,Z]){return["G",.3*H+.59*B+.11*Z]}static RGB_HTML([H,B,Z]){const z=P(H),E=P(B),T=P(Z);return`#${z}${E}${T}`}static T_HTML(){return"#00000000"}static CMYK_RGB([H,B,Z,z]){return["RGB",1-Math.min(1,H+z),1-Math.min(1,Z+z),1-Math.min(1,B+z)]}static CMYK_HTML(H){const B=this.CMYK_RGB(H).slice(1);return this.RGB_HTML(B)}static RGB_CMYK([H,B,Z]){const z=1-H,E=1-B,T=1-Z,j=Math.min(z,E,T);return["CMYK",z,E,T,j]}}i.ColorConverters=c},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var c=P(19);class S{static setupStorage(B,Z,z,E,T){const j=E.getValue(Z,{value:null});switch(z.name){case"textarea":if(j.value!==null&&(B.textContent=j.value),T==="print")break;B.addEventListener("input",k=>{E.setValue(Z,{value:k.target.value})});break;case"input":if(z.attributes.type==="radio"||z.attributes.type==="checkbox"){if(j.value===z.attributes.xfaOn?B.setAttribute("checked",!0):j.value===z.attributes.xfaOff&&B.removeAttribute("checked"),T==="print")break;B.addEventListener("change",k=>{E.setValue(Z,{value:k.target.checked?k.target.getAttribute("xfaOn"):k.target.getAttribute("xfaOff")})})}else{if(j.value!==null&&B.setAttribute("value",j.value),T==="print")break;B.addEventListener("input",k=>{E.setValue(Z,{value:k.target.value})})}break;case"select":if(j.value!==null)for(const k of z.children)k.attributes.value===j.value&&(k.attributes.selected=!0);B.addEventListener("input",k=>{const y=k.target.options,b=y.selectedIndex===-1?"":y[y.selectedIndex].value;E.setValue(Z,{value:b})});break}}static setAttributes({html:B,element:Z,storage:z=null,intent:E,linkService:T}){const{attributes:j}=Z,k=B instanceof HTMLAnchorElement;j.type==="radio"&&(j.name=`${j.name}-${E}`);for(const[y,b]of Object.entries(j))if(b!=null)switch(y){case"class":b.length&&B.setAttribute(y,b.join(" "));break;case"dataId":break;case"id":B.setAttribute("data-element-id",b);break;case"style":Object.assign(B.style,b);break;case"textContent":B.textContent=b;break;default:(!k||y!=="href"&&y!=="newWindow")&&B.setAttribute(y,b)}k&&T.addLinkAttributes(B,j.href,j.newWindow),z&&j.dataId&&this.setupStorage(B,j.dataId,Z,z)}static render(B){var m;const Z=B.annotationStorage,z=B.linkService,E=B.xfaHtml,T=B.intent||"display",j=document.createElement(E.name);E.attributes&&this.setAttributes({html:j,element:E,intent:T,linkService:z});const k=[[E,-1,j]],y=B.div;if(y.append(j),B.viewport){const r=`matrix(${B.viewport.transform.join(",")})`;y.style.transform=r}T!=="richText"&&y.setAttribute("class","xfaLayer xfaFont");const b=[];for(;k.length>0;){const[r,h,g]=k.at(-1);if(h+1===r.children.length){k.pop();continue}const s=r.children[++k.at(-1)[1]];if(s===null)continue;const{name:a}=s;if(a==="#text"){const n=document.createTextNode(s.value);b.push(n),g.append(n);continue}let t;if((m=s==null?void 0:s.attributes)!=null&&m.xmlns?t=document.createElementNS(s.attributes.xmlns,a):t=document.createElement(a),g.append(t),s.attributes&&this.setAttributes({html:t,element:s,storage:Z,intent:T,linkService:z}),s.children&&s.children.length>0)k.push([s,-1,t]);else if(s.value){const n=document.createTextNode(s.value);c.XfaText.shouldBuildText(a)&&b.push(n),t.append(n)}}for(const r of y.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))r.setAttribute("readOnly",!0);return{textDivs:b}}static update(B){const Z=`matrix(${B.viewport.transform.join(",")})`;B.div.style.transform=Z,B.div.hidden=!1}}i.XfaLayer=S},(f,i,P)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var c=P(6),S=P(1),H=P(10);let B=class{constructor(){(0,S.unreachable)("Not implemented: SVGGraphics")}};i.SVGGraphics=B;{let m=function(t){let n=[];const v=[];for(const e of t){if(e.fn==="save"){n.push({fnId:92,fn:"group",items:[]}),v.push(n),n=n.at(-1).items;continue}e.fn==="restore"?n=v.pop():n.push(e)}return n},r=function(t){if(Number.isInteger(t))return t.toString();const n=t.toFixed(10);let v=n.length-1;if(n[v]!=="0")return n;do v--;while(n[v]==="0");return n.substring(0,n[v]==="."?v:v+1)},h=function(t){if(t[4]===0&&t[5]===0){if(t[1]===0&&t[2]===0)return t[0]===1&&t[3]===1?"":`scale(${r(t[0])} ${r(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const n=Math.acos(t[0])*180/Math.PI;return`rotate(${r(n)})`}}else if(t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1)return`translate(${r(t[4])} ${r(t[5])})`;return`matrix(${r(t[0])} ${r(t[1])} ${r(t[2])} ${r(t[3])} ${r(t[4])} ${r(t[5])})`};const Z={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},z="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/1999/xlink",T=["butt","round","square"],j=["miter","round","bevel"],k=function(t,n="",v=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!v)return URL.createObjectURL(new Blob([t],{type:n}));const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let x=`data:${n};base64,`;for(let L=0,G=t.length;L<G;L+=3){const at=t[L]&255,mt=t[L+1]&255,rt=t[L+2]&255,lt=at>>2,tt=(at&3)<<4|mt>>4,X=L+1<G?(mt&15)<<2|rt>>6:64,Y=L+2<G?rt&63:64;x+=e[lt]+e[tt]+e[X]+e[Y]}return x},y=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),n=12,v=new Int32Array(256);for(let rt=0;rt<256;rt++){let lt=rt;for(let tt=0;tt<8;tt++)lt&1?lt=3988292384^lt>>1&2147483647:lt=lt>>1&2147483647;v[rt]=lt}function e(rt,lt,tt){let X=-1;for(let Y=lt;Y<tt;Y++){const st=(X^rt[Y])&255,ht=v[st];X=X>>>8^ht}return X^-1}function x(rt,lt,tt,X){let Y=X;const st=lt.length;tt[Y]=st>>24&255,tt[Y+1]=st>>16&255,tt[Y+2]=st>>8&255,tt[Y+3]=st&255,Y+=4,tt[Y]=rt.charCodeAt(0)&255,tt[Y+1]=rt.charCodeAt(1)&255,tt[Y+2]=rt.charCodeAt(2)&255,tt[Y+3]=rt.charCodeAt(3)&255,Y+=4,tt.set(lt,Y),Y+=lt.length;const ht=e(tt,X+4,Y);tt[Y]=ht>>24&255,tt[Y+1]=ht>>16&255,tt[Y+2]=ht>>8&255,tt[Y+3]=ht&255}function L(rt,lt,tt){let X=1,Y=0;for(let st=lt;st<tt;++st)X=(X+(rt[st]&255))%65521,Y=(Y+X)%65521;return Y<<16|X}function G(rt){if(!H.isNodeJS)return at(rt);try{let lt;parseInt(process.versions.node)>=8?lt=rt:lt=Buffer.from(rt);const tt=require$$5.deflateSync(lt,{level:9});return tt instanceof Uint8Array?tt:new Uint8Array(tt)}catch(lt){(0,S.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+lt)}return at(rt)}function at(rt){let lt=rt.length;const tt=65535,X=Math.ceil(lt/tt),Y=new Uint8Array(2+lt+X*5+4);let st=0;Y[st++]=120,Y[st++]=156;let ht=0;for(;lt>tt;)Y[st++]=0,Y[st++]=255,Y[st++]=255,Y[st++]=0,Y[st++]=0,Y.set(rt.subarray(ht,ht+tt),st),st+=tt,ht+=tt,lt-=tt;Y[st++]=1,Y[st++]=lt&255,Y[st++]=lt>>8&255,Y[st++]=~lt&65535&255,Y[st++]=(~lt&65535)>>8&255,Y.set(rt.subarray(ht),st),st+=rt.length-ht;const I=L(rt,0,rt.length);return Y[st++]=I>>24&255,Y[st++]=I>>16&255,Y[st++]=I>>8&255,Y[st++]=I&255,Y}function mt(rt,lt,tt,X){const Y=rt.width,st=rt.height;let ht,I,u;const l=rt.data;switch(lt){case S.ImageKind.GRAYSCALE_1BPP:I=0,ht=1,u=Y+7>>3;break;case S.ImageKind.RGB_24BPP:I=2,ht=8,u=Y*3;break;case S.ImageKind.RGBA_32BPP:I=6,ht=8,u=Y*4;break;default:throw new Error("invalid format")}const A=new Uint8Array((1+u)*st);let D=0,O=0;for(let o=0;o<st;++o)A[D++]=0,A.set(l.subarray(O,O+u),D),O+=u,D+=u;if(lt===S.ImageKind.GRAYSCALE_1BPP&&X){D=0;for(let o=0;o<st;o++){D++;for(let d=0;d<u;d++)A[D++]^=255}}const R=new Uint8Array([Y>>24&255,Y>>16&255,Y>>8&255,Y&255,st>>24&255,st>>16&255,st>>8&255,st&255,ht,I,0,0,0]),K=G(A),et=t.length+n*3+R.length+K.length,ot=new Uint8Array(et);let Q=0;return ot.set(t,Q),Q+=t.length,x("IHDR",R,ot,Q),Q+=n+R.length,x("IDATA",K,ot,Q),Q+=n+K.length,x("IEND",new Uint8Array(0),ot,Q),k(ot,"image/png",tt)}return function(lt,tt,X){const Y=lt.kind===void 0?S.ImageKind.GRAYSCALE_1BPP:lt.kind;return mt(lt,Y,tt,X)}}();class b{constructor(){this.fontSizeScale=1,this.fontWeight=Z.fontWeight,this.fontSize=0,this.textMatrix=S.IDENTITY_MATRIX,this.fontMatrix=S.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=S.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Z.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(n,v){this.x=n,this.y=v}}let g=0,s=0,a=0;i.SVGGraphics=B=class{constructor(t,n,v=!1){(0,c.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new c.DOMSVGFactory,this.current=new b,this.transformMatrix=S.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!v,this._operatorIdMapping=[];for(const e in S.OPS)this._operatorIdMapping[S.OPS[e]]=e}getObject(t,n=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):n}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const n=t.fnArray,v=t.argsArray;for(let e=0,x=n.length;e<x;e++)if(n[e]===S.OPS.dependency)for(const L of v[e]){const G=L.startsWith("g_")?this.commonObjs:this.objs,at=new Promise(mt=>{G.get(L,mt)});this.current.dependencies.push(at)}return Promise.all(this.current.dependencies)}transform(t,n,v,e,x,L){const G=[t,n,v,e,x,L];this.transformMatrix=S.Util.transform(this.transformMatrix,G),this.tgrp=null}getSVG(t,n){this.viewport=n;const v=this._initialize(n);return this.loadDependencies(t).then(()=>(this.transformMatrix=S.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),v))}convertOpList(t){const n=this._operatorIdMapping,v=t.argsArray,e=t.fnArray,x=[];for(let L=0,G=e.length;L<G;L++){const at=e[L];x.push({fnId:at,fn:n[at],args:v[L]})}return m(x)}executeOpTree(t){for(const n of t){const v=n.fn,e=n.fnId,x=n.args;switch(e|0){case S.OPS.beginText:this.beginText();break;case S.OPS.dependency:break;case S.OPS.setLeading:this.setLeading(x);break;case S.OPS.setLeadingMoveText:this.setLeadingMoveText(x[0],x[1]);break;case S.OPS.setFont:this.setFont(x);break;case S.OPS.showText:this.showText(x[0]);break;case S.OPS.showSpacedText:this.showText(x[0]);break;case S.OPS.endText:this.endText();break;case S.OPS.moveText:this.moveText(x[0],x[1]);break;case S.OPS.setCharSpacing:this.setCharSpacing(x[0]);break;case S.OPS.setWordSpacing:this.setWordSpacing(x[0]);break;case S.OPS.setHScale:this.setHScale(x[0]);break;case S.OPS.setTextMatrix:this.setTextMatrix(x[0],x[1],x[2],x[3],x[4],x[5]);break;case S.OPS.setTextRise:this.setTextRise(x[0]);break;case S.OPS.setTextRenderingMode:this.setTextRenderingMode(x[0]);break;case S.OPS.setLineWidth:this.setLineWidth(x[0]);break;case S.OPS.setLineJoin:this.setLineJoin(x[0]);break;case S.OPS.setLineCap:this.setLineCap(x[0]);break;case S.OPS.setMiterLimit:this.setMiterLimit(x[0]);break;case S.OPS.setFillRGBColor:this.setFillRGBColor(x[0],x[1],x[2]);break;case S.OPS.setStrokeRGBColor:this.setStrokeRGBColor(x[0],x[1],x[2]);break;case S.OPS.setStrokeColorN:this.setStrokeColorN(x);break;case S.OPS.setFillColorN:this.setFillColorN(x);break;case S.OPS.shadingFill:this.shadingFill(x[0]);break;case S.OPS.setDash:this.setDash(x[0],x[1]);break;case S.OPS.setRenderingIntent:this.setRenderingIntent(x[0]);break;case S.OPS.setFlatness:this.setFlatness(x[0]);break;case S.OPS.setGState:this.setGState(x[0]);break;case S.OPS.fill:this.fill();break;case S.OPS.eoFill:this.eoFill();break;case S.OPS.stroke:this.stroke();break;case S.OPS.fillStroke:this.fillStroke();break;case S.OPS.eoFillStroke:this.eoFillStroke();break;case S.OPS.clip:this.clip("nonzero");break;case S.OPS.eoClip:this.clip("evenodd");break;case S.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case S.OPS.paintImageXObject:this.paintImageXObject(x[0]);break;case S.OPS.paintInlineImageXObject:this.paintInlineImageXObject(x[0]);break;case S.OPS.paintImageMaskXObject:this.paintImageMaskXObject(x[0]);break;case S.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(x[0],x[1]);break;case S.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case S.OPS.closePath:this.closePath();break;case S.OPS.closeStroke:this.closeStroke();break;case S.OPS.closeFillStroke:this.closeFillStroke();break;case S.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case S.OPS.nextLine:this.nextLine();break;case S.OPS.transform:this.transform(x[0],x[1],x[2],x[3],x[4],x[5]);break;case S.OPS.constructPath:this.constructPath(x[0],x[1]);break;case S.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,S.warn)(`Unimplemented operator ${v}`);break}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,n,v,e,x,L){const G=this.current;G.textMatrix=G.lineMatrix=[t,n,v,e,x,L],G.textMatrixScale=Math.hypot(t,n),G.x=G.lineX=0,G.y=G.lineY=0,G.xcoords=[],G.ycoords=[],G.tspan=this.svgFactory.createElement("svg:tspan"),G.tspan.setAttributeNS(null,"font-family",G.fontFamily),G.tspan.setAttributeNS(null,"font-size",`${r(G.fontSize)}px`),G.tspan.setAttributeNS(null,"y",r(-G.y)),G.txtElement=this.svgFactory.createElement("svg:text"),G.txtElement.append(G.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=S.IDENTITY_MATRIX,t.lineMatrix=S.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,n){const v=this.current;v.x=v.lineX+=t,v.y=v.lineY+=n,v.xcoords=[],v.ycoords=[],v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size",`${r(v.fontSize)}px`),v.tspan.setAttributeNS(null,"y",r(-v.y))}showText(t){const n=this.current,v=n.font,e=n.fontSize;if(e===0)return;const x=n.fontSizeScale,L=n.charSpacing,G=n.wordSpacing,at=n.fontDirection,mt=n.textHScale*at,rt=v.vertical,lt=rt?1:-1,tt=v.defaultVMetrics,X=e*n.fontMatrix[0];let Y=0;for(const I of t){if(I===null){Y+=at*G;continue}else if(typeof I=="number"){Y+=lt*I*e/1e3;continue}const u=(I.isSpace?G:0)+L,l=I.fontChar;let A,D,O=I.width;if(rt){let K;const et=I.vmetric||tt;K=I.vmetric?et[1]:O*.5,K=-K*X;const ot=et[2]*X;O=et?-et[0]:O,A=K/x,D=(Y+ot)/x}else A=Y/x,D=0;(I.isInFont||v.missingFile)&&(n.xcoords.push(n.x+A),rt&&n.ycoords.push(-n.y+D),n.tspan.textContent+=l);let R;rt?R=O*X-u*at:R=O*X+u*at,Y+=R}n.tspan.setAttributeNS(null,"x",n.xcoords.map(r).join(" ")),rt?n.tspan.setAttributeNS(null,"y",n.ycoords.map(r).join(" ")):n.tspan.setAttributeNS(null,"y",r(-n.y)),rt?n.y-=Y:n.x+=Y*mt,n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${r(n.fontSize)}px`),n.fontStyle!==Z.fontStyle&&n.tspan.setAttributeNS(null,"font-style",n.fontStyle),n.fontWeight!==Z.fontWeight&&n.tspan.setAttributeNS(null,"font-weight",n.fontWeight);const st=n.textRenderingMode&S.TextRenderingMode.FILL_STROKE_MASK;if(st===S.TextRenderingMode.FILL||st===S.TextRenderingMode.FILL_STROKE?(n.fillColor!==Z.fillColor&&n.tspan.setAttributeNS(null,"fill",n.fillColor),n.fillAlpha<1&&n.tspan.setAttributeNS(null,"fill-opacity",n.fillAlpha)):n.textRenderingMode===S.TextRenderingMode.ADD_TO_PATH?n.tspan.setAttributeNS(null,"fill","transparent"):n.tspan.setAttributeNS(null,"fill","none"),st===S.TextRenderingMode.STROKE||st===S.TextRenderingMode.FILL_STROKE){const I=1/(n.textMatrixScale||1);this._setStrokeAttributes(n.tspan,I)}let ht=n.textMatrix;n.textRise!==0&&(ht=ht.slice(),ht[5]+=n.textRise),n.txtElement.setAttributeNS(null,"transform",`${h(ht)} scale(${r(mt)}, -1)`),n.txtElement.setAttributeNS(z,"xml:space","preserve"),n.txtElement.append(n.tspan),n.txtgrp.append(n.txtElement),this._ensureTransformGroup().append(n.txtElement)}setLeadingMoveText(t,n){this.setLeading(-n),this.moveText(t,n)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const n=k(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${n}); }
`}setFont(t){const n=this.current,v=this.commonObjs.get(t[0]);let e=t[1];n.font=v,this.embedFonts&&!v.missingFile&&!this.embeddedFonts[v.loadedName]&&(this.addFontStyle(v),this.embeddedFonts[v.loadedName]=v),n.fontMatrix=v.fontMatrix||S.FONT_IDENTITY_MATRIX;let x="normal";v.black?x="900":v.bold&&(x="bold");const L=v.italic?"italic":"normal";e<0?(e=-e,n.fontDirection=-1):n.fontDirection=1,n.fontSize=e,n.fontFamily=v.loadedName,n.fontWeight=x,n.fontStyle=L,n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"y",r(-n.y)),n.xcoords=[],n.ycoords=[]}endText(){var n;const t=this.current;t.textRenderingMode&S.TextRenderingMode.ADD_TO_PATH_FLAG&&((n=t.txtElement)!=null&&n.hasChildNodes())&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=T[t]}setLineJoin(t){this.current.lineJoin=j[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,n,v){this.current.strokeColor=S.Util.makeHexColor(t,n,v)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,n,v){this.current.fillColor=S.Util.makeHexColor(t,n,v),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const n=this.viewport.width,v=this.viewport.height,e=S.Util.inverseTransform(this.transformMatrix),x=S.Util.applyTransform([0,0],e),L=S.Util.applyTransform([0,v],e),G=S.Util.applyTransform([n,0],e),at=S.Util.applyTransform([n,v],e),mt=Math.min(x[0],L[0],G[0],at[0]),rt=Math.min(x[1],L[1],G[1],at[1]),lt=Math.max(x[0],L[0],G[0],at[0]),tt=Math.max(x[1],L[1],G[1],at[1]),X=this.svgFactory.createElement("svg:rect");X.setAttributeNS(null,"x",mt),X.setAttributeNS(null,"y",rt),X.setAttributeNS(null,"width",lt-mt),X.setAttributeNS(null,"height",tt-rt),X.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&X.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(X)}_makeColorN_Pattern(t){return t[0]==="TilingPattern"?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const n=t[1],v=t[2],e=t[3]||S.IDENTITY_MATRIX,[x,L,G,at]=t[4],mt=t[5],rt=t[6],lt=t[7],tt=`shading${a++}`,[X,Y,st,ht]=S.Util.normalizeRect([...S.Util.applyTransform([x,L],e),...S.Util.applyTransform([G,at],e)]),[I,u]=S.Util.singularValueDecompose2dScale(e),l=mt*I,A=rt*u,D=this.svgFactory.createElement("svg:pattern");D.setAttributeNS(null,"id",tt),D.setAttributeNS(null,"patternUnits","userSpaceOnUse"),D.setAttributeNS(null,"width",l),D.setAttributeNS(null,"height",A),D.setAttributeNS(null,"x",`${X}`),D.setAttributeNS(null,"y",`${Y}`);const O=this.svg,R=this.transformMatrix,K=this.current.fillColor,et=this.current.strokeColor,ot=this.svgFactory.create(st-X,ht-Y);if(this.svg=ot,this.transformMatrix=e,lt===2){const Q=S.Util.makeHexColor(...n);this.current.fillColor=Q,this.current.strokeColor=Q}return this.executeOpTree(this.convertOpList(v)),this.svg=O,this.transformMatrix=R,this.current.fillColor=K,this.current.strokeColor=et,D.append(ot.childNodes[0]),this.defs.append(D),`url(#${tt})`}_makeShadingPattern(t){switch(typeof t=="string"&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const n=`shading${a++}`,v=t[3];let e;switch(t[1]){case"axial":const x=t[4],L=t[5];e=this.svgFactory.createElement("svg:linearGradient"),e.setAttributeNS(null,"id",n),e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),e.setAttributeNS(null,"x1",x[0]),e.setAttributeNS(null,"y1",x[1]),e.setAttributeNS(null,"x2",L[0]),e.setAttributeNS(null,"y2",L[1]);break;case"radial":const G=t[4],at=t[5],mt=t[6],rt=t[7];e=this.svgFactory.createElement("svg:radialGradient"),e.setAttributeNS(null,"id",n),e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),e.setAttributeNS(null,"cx",at[0]),e.setAttributeNS(null,"cy",at[1]),e.setAttributeNS(null,"r",rt),e.setAttributeNS(null,"fx",G[0]),e.setAttributeNS(null,"fy",G[1]),e.setAttributeNS(null,"fr",mt);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const x of v){const L=this.svgFactory.createElement("svg:stop");L.setAttributeNS(null,"offset",x[0]),L.setAttributeNS(null,"stop-color",x[1]),e.append(L)}return this.defs.append(e),`url(#${n})`;case"Mesh":return(0,S.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,n){this.current.dashArray=t,this.current.dashPhase=n}constructPath(t,n){const v=this.current;let e=v.x,x=v.y,L=[],G=0;for(const at of t)switch(at|0){case S.OPS.rectangle:e=n[G++],x=n[G++];const mt=n[G++],rt=n[G++],lt=e+mt,tt=x+rt;L.push("M",r(e),r(x),"L",r(lt),r(x),"L",r(lt),r(tt),"L",r(e),r(tt),"Z");break;case S.OPS.moveTo:e=n[G++],x=n[G++],L.push("M",r(e),r(x));break;case S.OPS.lineTo:e=n[G++],x=n[G++],L.push("L",r(e),r(x));break;case S.OPS.curveTo:e=n[G+4],x=n[G+5],L.push("C",r(n[G]),r(n[G+1]),r(n[G+2]),r(n[G+3]),r(e),r(x)),G+=6;break;case S.OPS.curveTo2:L.push("C",r(e),r(x),r(n[G]),r(n[G+1]),r(n[G+2]),r(n[G+3])),e=n[G+2],x=n[G+3],G+=4;break;case S.OPS.curveTo3:e=n[G+2],x=n[G+3],L.push("C",r(n[G]),r(n[G+1]),r(e),r(x),r(e),r(x)),G+=4;break;case S.OPS.closePath:L.push("Z");break}L=L.join(" "),v.path&&t.length>0&&t[0]!==S.OPS.rectangle&&t[0]!==S.OPS.moveTo?L=v.path.getAttributeNS(null,"d")+L:(v.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(v.path)),v.path.setAttributeNS(null,"d",L),v.path.setAttributeNS(null,"fill","none"),v.element=v.path,v.setCurrentPoint(e,x)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element){this.pendingClip=null;return}const n=`clippath${g++}`,v=this.svgFactory.createElement("svg:clipPath");v.setAttributeNS(null,"id",n),v.setAttributeNS(null,"transform",h(this.transformMatrix));const e=t.element.cloneNode(!0);if(this.pendingClip==="evenodd"?e.setAttributeNS(null,"clip-rule","evenodd"):e.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,v.append(e),this.defs.append(v),t.activeClipUrl){t.clipGroup=null;for(const x of this.extraStack)x.clipGroup=null;v.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${n})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const n=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",n)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[n,v]of t)switch(n){case"LW":this.setLineWidth(v);break;case"LC":this.setLineCap(v);break;case"LJ":this.setLineJoin(v);break;case"ML":this.setMiterLimit(v);break;case"D":this.setDash(v[0],v[1]);break;case"RI":this.setRenderingIntent(v);break;case"FL":this.setFlatness(v);break;case"Font":this.setFont(v);break;case"CA":this.setStrokeAlpha(v);break;case"ca":this.setFillAlpha(v);break;default:(0,S.warn)(`Unimplemented graphic state operator ${n}`);break}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,n=1){const v=this.current;let e=v.dashArray;n!==1&&e.length>0&&(e=e.map(function(x){return n*x})),t.setAttributeNS(null,"stroke",v.strokeColor),t.setAttributeNS(null,"stroke-opacity",v.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",r(v.miterLimit)),t.setAttributeNS(null,"stroke-linecap",v.lineCap),t.setAttributeNS(null,"stroke-linejoin",v.lineJoin),t.setAttributeNS(null,"stroke-width",r(n*v.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",e.map(r).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",r(n*v.dashPhase)+"px")}eoFill(){var t;(t=this.current.element)==null||t.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var t;(t=this.current.element)==null||t.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(t)}paintImageXObject(t){const n=this.getObject(t);if(!n){(0,S.warn)(`Dependent image with object ID ${t} is not ready yet`);return}this.paintInlineImageXObject(n)}paintInlineImageXObject(t,n){const v=t.width,e=t.height,x=y(t,this.forceDataSchema,!!n),L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",r(v)),L.setAttributeNS(null,"height",r(e)),this.current.element=L,this.clip("nonzero");const G=this.svgFactory.createElement("svg:image");G.setAttributeNS(E,"xlink:href",x),G.setAttributeNS(null,"x","0"),G.setAttributeNS(null,"y",r(-e)),G.setAttributeNS(null,"width",r(v)+"px"),G.setAttributeNS(null,"height",r(e)+"px"),G.setAttributeNS(null,"transform",`scale(${r(1/v)} ${r(-1/e)})`),n?n.append(G):this._ensureTransformGroup().append(G)}paintImageMaskXObject(t){const n=this.getObject(t.data,t);if(n.bitmap){(0,S.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const v=this.current,e=n.width,x=n.height,L=v.fillColor;v.maskId=`mask${s++}`;const G=this.svgFactory.createElement("svg:mask");G.setAttributeNS(null,"id",v.maskId);const at=this.svgFactory.createElement("svg:rect");at.setAttributeNS(null,"x","0"),at.setAttributeNS(null,"y","0"),at.setAttributeNS(null,"width",r(e)),at.setAttributeNS(null,"height",r(x)),at.setAttributeNS(null,"fill",L),at.setAttributeNS(null,"mask",`url(#${v.maskId})`),this.defs.append(G),this._ensureTransformGroup().append(at),this.paintInlineImageXObject(n,G)}paintFormXObjectBegin(t,n){if(Array.isArray(t)&&t.length===6&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),n){const v=n[2]-n[0],e=n[3]-n[1],x=this.svgFactory.createElement("svg:rect");x.setAttributeNS(null,"x",n[0]),x.setAttributeNS(null,"y",n[1]),x.setAttributeNS(null,"width",r(v)),x.setAttributeNS(null,"height",r(e)),this.current.element=x,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const n=this.svgFactory.create(t.width,t.height),v=this.svgFactory.createElement("svg:defs");n.append(v),this.defs=v;const e=this.svgFactory.createElement("svg:g");return e.setAttributeNS(null,"transform",h(t.transform)),n.append(e),this.svg=e,n}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",h(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(f){var i=__webpack_module_cache__[f];if(i!==void 0)return i.exports;var P=__webpack_module_cache__[f]={exports:{}};return __webpack_modules__[f](P,P.exports,__w_pdfjs_require__),P.exports}var __webpack_exports__={};return(()=>{var f=__webpack_exports__;Object.defineProperty(f,"__esModule",{value:!0}),Object.defineProperty(f,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(f,"AnnotationEditorLayer",{enumerable:!0,get:function(){return H.AnnotationEditorLayer}}),Object.defineProperty(f,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(f,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(f,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return B.AnnotationEditorUIManager}}),Object.defineProperty(f,"AnnotationLayer",{enumerable:!0,get:function(){return Z.AnnotationLayer}}),Object.defineProperty(f,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(f,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(f,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(f,"GlobalWorkerOptions",{enumerable:!0,get:function(){return z.GlobalWorkerOptions}}),Object.defineProperty(f,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(f,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(f,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(f,"PDFDataRangeTransport",{enumerable:!0,get:function(){return P.PDFDataRangeTransport}}),Object.defineProperty(f,"PDFDateString",{enumerable:!0,get:function(){return c.PDFDateString}}),Object.defineProperty(f,"PDFWorker",{enumerable:!0,get:function(){return P.PDFWorker}}),Object.defineProperty(f,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(f,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(f,"PixelsPerInch",{enumerable:!0,get:function(){return c.PixelsPerInch}}),Object.defineProperty(f,"RenderingCancelledException",{enumerable:!0,get:function(){return c.RenderingCancelledException}}),Object.defineProperty(f,"SVGGraphics",{enumerable:!0,get:function(){return E.SVGGraphics}}),Object.defineProperty(f,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return i.UNSUPPORTED_FEATURES}}),Object.defineProperty(f,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(f,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(f,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(f,"XfaLayer",{enumerable:!0,get:function(){return T.XfaLayer}}),Object.defineProperty(f,"build",{enumerable:!0,get:function(){return P.build}}),Object.defineProperty(f,"createPromiseCapability",{enumerable:!0,get:function(){return i.createPromiseCapability}}),Object.defineProperty(f,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(f,"getDocument",{enumerable:!0,get:function(){return P.getDocument}}),Object.defineProperty(f,"getFilenameFromUrl",{enumerable:!0,get:function(){return c.getFilenameFromUrl}}),Object.defineProperty(f,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return c.getPdfFilenameFromUrl}}),Object.defineProperty(f,"getXfaPageViewport",{enumerable:!0,get:function(){return c.getXfaPageViewport}}),Object.defineProperty(f,"isDataScheme",{enumerable:!0,get:function(){return c.isDataScheme}}),Object.defineProperty(f,"isPdfFile",{enumerable:!0,get:function(){return c.isPdfFile}}),Object.defineProperty(f,"loadScript",{enumerable:!0,get:function(){return c.loadScript}}),Object.defineProperty(f,"renderTextLayer",{enumerable:!0,get:function(){return S.renderTextLayer}}),Object.defineProperty(f,"setLayerDimensions",{enumerable:!0,get:function(){return c.setLayerDimensions}}),Object.defineProperty(f,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(f,"updateTextLayer",{enumerable:!0,get:function(){return S.updateTextLayer}}),Object.defineProperty(f,"version",{enumerable:!0,get:function(){return P.version}});var i=__w_pdfjs_require__(1),P=__w_pdfjs_require__(2),c=__w_pdfjs_require__(6),S=__w_pdfjs_require__(26),H=__w_pdfjs_require__(27),B=__w_pdfjs_require__(5),Z=__w_pdfjs_require__(32),z=__w_pdfjs_require__(14),E=__w_pdfjs_require__(35),T=__w_pdfjs_require__(34)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;export{pdfExports as p,useDropzone as u};
