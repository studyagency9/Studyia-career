import{c as R,j as e,r as n,g as _,h as le,i as ie,k as ne,l as m,m as T,e as ce,f as de,a as me,L as y,B as x}from"./index-Bj1s_XcD.js";import{I as pe}from"./input-D2YfaGKm.js";import{C}from"./card-BWAshoTC.js";import{c as E,R as ue,P as ge,W as he,C as xe,T as fe,D as ve,a as O,O as ye,b as Ne,S as je,d as be,g as De}from"./pdfGenerator-EQcNlQC3.js";import{P as Ae}from"./PartnerLayout-BgbMYxUy.js";import{m as f}from"./proxy-iKs4YyP_.js";import{P as S}from"./index-VZFS3j2r.js";import{A as we}from"./index-k0-aSuPu.js";import{F as P}from"./file-text-o8_AlPxW.js";import{G as Ce}from"./globe-CQwUOuMR.js";import{D as Se}from"./download-Dw8tDbxT.js";import"./index-CKzmga31.js";import"./tslib.es6-CiBE_y40.js";import"./___vite-browser-external_commonjs-proxy-cjpsf4tL.js";import"./chevron-right-B_YPOfBq.js";import"./upload-D3fRU1Y5.js";import"./sparkles-4mPYkMR5.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=R("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=R("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var k="AlertDialog",[_e]=le(k,[E]),c=E(),M=a=>{const{__scopeAlertDialog:t,...r}=a,o=c(t);return e.jsx(ue,{...o,...r,modal:!0})};M.displayName=k;var Te="AlertDialogTrigger",Ee=n.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...o}=a,l=c(r);return e.jsx(Ne,{...l,...o,ref:t})});Ee.displayName=Te;var Oe="AlertDialogPortal",I=a=>{const{__scopeAlertDialog:t,...r}=a,o=c(t);return e.jsx(ge,{...o,...r})};I.displayName=Oe;var ke="AlertDialogOverlay",$=n.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...o}=a,l=c(r);return e.jsx(ye,{...l,...o,ref:t})});$.displayName=ke;var g="AlertDialogContent",[Me,Ie]=_e(g),$e=ne("AlertDialogContent"),F=n.forwardRef((a,t)=>{const{__scopeAlertDialog:r,children:o,...l}=a,p=c(r),d=n.useRef(null),s=_(t,d),h=n.useRef(null);return e.jsx(he,{contentName:g,titleName:L,docsSlug:"alert-dialog",children:e.jsx(Me,{scope:r,cancelRef:h,children:e.jsxs(xe,{role:"alertdialog",...p,...l,ref:s,onOpenAutoFocus:ie(l.onOpenAutoFocus,u=>{var v;u.preventDefault(),(v=h.current)==null||v.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[e.jsx($e,{children:o}),e.jsx(Le,{contentRef:d})]})})})});F.displayName=g;var L="AlertDialogTitle",V=n.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...o}=a,l=c(r);return e.jsx(fe,{...l,...o,ref:t})});V.displayName=L;var z="AlertDialogDescription",G=n.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...o}=a,l=c(r);return e.jsx(ve,{...l,...o,ref:t})});G.displayName=z;var Fe="AlertDialogAction",B=n.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...o}=a,l=c(r);return e.jsx(O,{...l,...o,ref:t})});B.displayName=Fe;var H="AlertDialogCancel",q=n.forwardRef((a,t)=>{const{__scopeAlertDialog:r,...o}=a,{cancelRef:l}=Ie(H,r),p=c(r),d=_(t,l);return e.jsx(O,{...p,...o,ref:d})});q.displayName=H;var Le=({contentRef:a})=>{const t=`\`${g}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${g}\` by passing a \`${z}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${g}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{var o;document.getElementById((o=a.current)==null?void 0:o.getAttribute("aria-describedby"))||console.warn(t)},[t,a]),null},Ve=M,ze=I,W=$,Y=F,Q=B,J=q,U=V,K=G;const Ge=Ve,Be=ze,X=n.forwardRef(({className:a,...t},r)=>e.jsx(W,{className:m("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t,ref:r}));X.displayName=W.displayName;const Z=n.forwardRef(({className:a,...t},r)=>e.jsxs(Be,{children:[e.jsx(X,{}),e.jsx(Y,{ref:r,className:m("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...t})]}));Z.displayName=Y.displayName;const ee=({className:a,...t})=>e.jsx("div",{className:m("flex flex-col space-y-2 text-center sm:text-left",a),...t});ee.displayName="AlertDialogHeader";const ae=({className:a,...t})=>e.jsx("div",{className:m("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t});ae.displayName="AlertDialogFooter";const te=n.forwardRef(({className:a,...t},r)=>e.jsx(U,{ref:r,className:m("text-lg font-semibold",a),...t}));te.displayName=U.displayName;const re=n.forwardRef(({className:a,...t},r)=>e.jsx(K,{ref:r,className:m("text-sm text-muted-foreground",a),...t}));re.displayName=K.displayName;const se=n.forwardRef(({className:a,...t},r)=>e.jsx(Q,{ref:r,className:m(T(),a),...t}));se.displayName=Q.displayName;const oe=n.forwardRef(({className:a,...t},r)=>e.jsx(J,{ref:r,className:m(T({variant:"outline"}),"mt-2 sm:mt-0",a),...t}));oe.displayName=J.displayName;const ia=()=>{const{savedCVs:a,deleteCV:t}=ce(),[r,o]=n.useState(""),[l,p]=n.useState(null),{toast:d}=de(),{t:s}=me(),h=a.filter(i=>i.name.toLowerCase().includes(r.toLowerCase())),u=i=>{t(i),p(null),d({title:s("home.partner.cvs.cvDeleted"),description:s("home.partner.cvs.cvDeletedDesc")})},v=async i=>{try{await De(i.data),d({title:s("home.partner.cvs.downloadSuccess"),description:s("home.partner.cvs.downloadSuccessDesc")})}catch{d({title:s("home.partner.cvs.error"),description:s("home.partner.cvs.downloadError"),variant:"destructive"})}};return e.jsx(Ae,{children:e.jsxs("div",{className:"p-8 lg:p-12",children:[e.jsx(f.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:s("home.partner.cvs.title")}),e.jsx("p",{className:"text-muted-foreground",children:s("home.partner.cvs.subtitle").replace("{{count}}",a.length.toString())})]}),e.jsx(y,{to:"/partner/create",children:e.jsxs(x,{size:"lg",className:"bg-gradient-to-r from-primary to-blue-bright hover:shadow-lg hover:shadow-primary/50 transition-all",children:[e.jsx(S,{className:"w-5 h-5 mr-2"}),s("home.partner.cvs.newCV")]})})]})}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-8",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(je,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(pe,{type:"text",placeholder:s("home.partner.cvs.searchPlaceholder"),value:r,onChange:i=>o(i.target.value),className:"pl-10 h-12 bg-background border-border focus:border-primary transition-colors"})]})}),h.length>0?e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.jsx(we,{children:h.map((i,N)=>{var j,b,D,A,w;return e.jsx(f.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3,delay:N*.05},children:e.jsxs(C,{className:"p-6 bg-card border-border hover:border-primary/50 hover:shadow-xl hover:shadow-primary/10 transition-all duration-300 group",children:[e.jsx("div",{className:"aspect-[3/4] bg-gradient-to-br from-muted/50 to-muted rounded-xl mb-4 flex items-center justify-center border-2 border-border group-hover:border-primary/30 transition-colors overflow-hidden",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx(P,{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-3"}),e.jsxs("p",{className:"text-sm font-medium text-foreground",children:[(b=(j=i.data)==null?void 0:j.personalInfo)==null?void 0:b.firstName," ",(A=(D=i.data)==null?void 0:D.personalInfo)==null?void 0:A.lastName]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:((w=i.data)==null?void 0:w.targetJob)||s("home.partner.cvs.untitled")})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground text-lg mb-1 truncate group-hover:text-primary transition-colors",children:i.name}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Pe,{className:"w-3 h-3"}),new Date(i.updatedAt).toLocaleDateString("fr-FR")]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3 h-3"}),i.language.toUpperCase()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[e.jsx(y,{to:`/partner/builder/${i.id}`,className:"flex-1",children:e.jsxs(x,{variant:"outline",size:"sm",className:"w-full group-hover:border-primary group-hover:text-primary transition-colors",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),s("home.partner.cvs.edit")]})}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>v(i),className:"group-hover:border-primary group-hover:text-primary transition-colors",children:e.jsx(Se,{className:"w-4 h-4"})}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>p(i.id),className:"text-destructive hover:bg-destructive/10 hover:border-destructive transition-colors",children:e.jsx(be,{className:"w-4 h-4"})})]})]})]})},i.id)})})}):e.jsx(f.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:e.jsxs(C,{className:"p-12 text-center bg-card border-2 border-dashed border-border",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-6",children:e.jsx(P,{className:"w-10 h-10 text-primary"})}),e.jsx("h3",{className:"text-2xl font-bold text-foreground mb-3",children:s(r?"home.partner.cvs.noCVFound":"home.partner.cvs.noCVYet")}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:s(r?"home.partner.cvs.tryAnotherSearch":"home.partner.cvs.createFirstCV")}),!r&&e.jsx(y,{to:"/partner/create",children:e.jsxs(x,{size:"lg",className:"bg-gradient-to-r from-primary to-blue-bright hover:shadow-lg hover:shadow-primary/50 transition-all",children:[e.jsx(S,{className:"w-5 h-5 mr-2"}),s("home.partner.cvs.createFirstCVButton")]})})]})}),e.jsx(Ge,{open:!!l,onOpenChange:()=>p(null),children:e.jsxs(Z,{children:[e.jsxs(ee,{children:[e.jsx(te,{children:s("home.partner.cvs.deleteTitle")}),e.jsx(re,{children:s("home.partner.cvs.deleteDescription")})]}),e.jsxs(ae,{children:[e.jsx(oe,{children:s("home.partner.cvs.cancel")}),e.jsx(se,{onClick:()=>l&&u(l),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:s("home.partner.cvs.delete")})]})]})})]})})};export{ia as default};
